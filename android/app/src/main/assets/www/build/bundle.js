var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(n)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function a(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function c(t,...n){if(null==t)return e;const i=t.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function u(e){let t;return c(e,(e=>t=e))(),t}function d(e,t,n){e.$$.on_destroy.push(c(t,n))}function f(e,t,n,i){return e[1]&&i?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](i(t))):n.ctx}function p(e){return null==e?"":e}function m(e,t,n){return e.set(n),t}function h(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const y="undefined"!=typeof window;let g=y?()=>window.performance.now():()=>Date.now(),w=y?e=>requestAnimationFrame(e):e;const v=new Set;function b(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&w(b)}function k(e){let t;return 0===v.size&&w(b),{promise:new Promise((n=>{v.add(t={c:e,f:n})})),abort(){v.delete(t)}}}function S(e,t){e.appendChild(t)}function x(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function E(e){const t=$("style");return function(e,t){S(e.head||e,t),t.sheet}(x(e),t),t.sheet}function A(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function N(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function $(e){return document.createElement(e)}function L(e){return document.createTextNode(e)}function I(){return L(" ")}function C(){return L("")}function j(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function P(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function z(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function F(e,t){t=""+t,e.data!==t&&(e.data=t)}function D(e,t){e.value=null==t?"":t}function M(e,t,n,i){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function O(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,i,t),o}const U=new Map;let _,V=0;function q(e,t,n,i,o,l,r,s=0){const a=16.666/i;let c="{\n";for(let e=0;e<=1;e+=a){const i=t+(n-t)*l(e);c+=100*e+`%{${r(i,1-i)}}\n`}const u=c+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,f=x(e),{stylesheet:p,rules:m}=U.get(f)||function(e,t){const n={stylesheet:E(t),rules:{}};return U.set(e,n),n}(f,e);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${i}ms linear ${o}ms 1 both`,V+=1,d}function W(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-i.length;o&&(e.style.animation=i.join(", "),V-=o,V||w((()=>{V||(U.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&T(t)})),U.clear())})))}function B(e){_=e}function R(){if(!_)throw new Error("Function called outside component initialization");return _}function H(e){R().$$.on_mount.push(e)}const Y=[],K=[];let G=[];const X=[],J=Promise.resolve();let Q=!1;function Z(){Q||(Q=!0,J.then(le))}function ee(){return Z(),J}function te(e){G.push(e)}const ne=new Set;let ie,oe=0;function le(){if(0!==oe)return;const e=_;do{try{for(;oe<Y.length;){const e=Y[oe];oe++,B(e),re(e.$$)}}catch(e){throw Y.length=0,oe=0,e}for(B(null),Y.length=0,oe=0;K.length;)K.pop()();for(let e=0;e<G.length;e+=1){const t=G[e];ne.has(t)||(ne.add(t),t())}G.length=0}while(Y.length);for(;X.length;)X.pop()();Q=!1,ne.clear(),B(e)}function re(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}function se(){return ie||(ie=Promise.resolve(),ie.then((()=>{ie=null}))),ie}function ae(e,t,n){e.dispatchEvent(O(`${t?"intro":"outro"}${n}`))}const ce=new Set;let ue;function de(){ue={r:0,c:[],p:ue}}function fe(){ue.r||o(ue.c),ue=ue.p}function pe(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function me(e,t,n,i){if(e&&e.o){if(ce.has(e))return;ce.add(e),ue.c.push((()=>{ce.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}const he={duration:0};function ye(n,i,r,s){const a={direction:"both"};let c=i(n,r,a),u=s?0:1,d=null,f=null,p=null;function m(){p&&W(n,p)}function h(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(i){const{delay:l=0,duration:r=300,easing:s=t,tick:a=e,css:y}=c||he,w={start:g()+l,b:i};i||(w.group=ue,ue.r+=1),d||f?f=w:(y&&(m(),p=q(n,u,i,r,l,s,y)),i&&a(0,1),d=h(w,r),te((()=>ae(n,i,"start"))),k((e=>{if(f&&e>f.start&&(d=h(f,r),f=null,ae(n,d.b,"start"),y&&(m(),p=q(n,u,d.b,d.duration,0,s,c.css))),d)if(e>=d.end)a(u=d.b,1-u),ae(n,d.b,"end"),f||(d.b?m():--d.group.r||o(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),a(u,1-u)}return!(!d&&!f)})))}return{run(e){l(c)?se().then((()=>{c=c(a),y(e)})):y(e)},end(){m(),d=f=null}}}function ge(e,t){e.d(1),t.delete(e.key)}function we(e,t){me(e,1,1,(()=>{t.delete(e.key)}))}function ve(e,t,n,i,l,r,s,a,c,u,d,f){let p=e.length,m=r.length,h=p;const y={};for(;h--;)y[e[h].key]=h;const g=[],w=new Map,v=new Map,b=[];for(h=m;h--;){const e=f(l,r,h),o=n(e);let a=s.get(o);a?i&&b.push((()=>a.p(e,t))):(a=u(o,e),a.c()),w.set(o,g[h]=a),o in y&&v.set(o,Math.abs(h-y[o]))}const k=new Set,S=new Set;function x(e){pe(e,1),e.m(a,d),s.set(e.key,e),d=e.first,m--}for(;p&&m;){const t=g[m-1],n=e[p-1],i=t.key,o=n.key;t===n?(d=t.first,p--,m--):w.has(o)?!s.has(i)||k.has(i)?x(t):S.has(o)?p--:v.get(i)>v.get(o)?(S.add(i),x(t)):(k.add(o),p--):(c(n,s),p--)}for(;p--;){const t=e[p];w.has(t.key)||c(t,s)}for(;m;)x(g[m-1]);return o(b),g}function be(e){e&&e.c()}function ke(e,t,i,r){const{fragment:s,after_update:a}=e.$$;s&&s.m(t,i),r||te((()=>{const t=e.$$.on_mount.map(n).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),a.forEach(te)}function Se(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];G.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),G=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function xe(t,n,l,r,s,a,c,u=[-1]){const d=_;B(t);const f=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=l?l(t,n.props||{},((e,n,...i)=>{const o=i.length?i[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),p&&function(e,t){-1===e.$$.dirty[0]&&(Y.push(e),Z(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(T)}else f.fragment&&f.fragment.c();n.intro&&pe(t.$$.fragment),ke(t,n.target,n.anchor,n.customElement),le()}B(d)}class Ee{$destroy(){Se(this,1),this.$destroy=e}$on(t,n){if(!l(n))return e;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ae=[];function Te(t,n=e){let i;const o=new Set;function l(e){if(r(t,e)&&(t=e,i)){const e=!Ae.length;for(const e of o)e[1](),Ae.push(e,t);if(e){for(let e=0;e<Ae.length;e+=2)Ae[e][0](Ae[e+1]);Ae.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(r,s=e){const a=[r,s];return o.add(a),1===o.size&&(i=n(l)||e),r(t),()=>{o.delete(a),0===o.size&&i&&(i(),i=null)}}}}const Ne=Te(36),$e=Te(null),Le=Te(!0),Ie=Te(!1),Ce=Te(null),je=Te(null),Pe=Te(null),ze=Te(null),Fe=Te(null),De=Te(null),Me=Te(null),Oe=Te(null),Ue=Te(null),_e=Te(null),Ve=Te(null),qe=Te(null),We=Te(null),Be=Te(null),Re=Te(null),He=Te([]),Ye=Te(null),Ke=Te(!0),Ge=Te(null),Xe=Te(!1),Je=Te(null),Qe=Te(null),Ze=Te(!1),et=Te(""),tt=Te(null),nt=Te(null),it=Te(!1),ot=Te(!1),lt=Te(null),rt=Te(!1),st=Te(null),at=Te(!0),ct=Te(!1),ut=Te(null),dt=Te(null),ft=Te(null),pt=Te(null),mt=Te(null),ht=Te(null),yt=Te(null),gt=Te(null),wt=Te(null),vt=Te(null),bt=Te(null),kt=e=>"[object Object]"===Object.prototype.toString.call(e),St=e=>{for(const t in e)return!1;return!0};function xt(e,t){try{let n=Math.floor(e/1e3%60),i=Math.floor(e/6e4%60),o=Math.floor(e/36e5%24),l=Math.floor(e/864e5%7),r=Math.floor(e/6048e5%4),s=Math.floor(e/24192e5%12),a=Math.floor(e/290304e5%10),c=Math.floor(e/290304e6%10),u=Math.floor(e/290304e7%10),d=Math.floor(e/290304e8%10),f=[];return d<=0&&u<=0&&c<=0&&a<=0&&s<=0&&r<=0&&l<=0&&o<=0&&i<=0&&n<=0?"0s":(d>0&&f.push(1===d?`${d}mil`:`${d}mils`),c>0&&f.push(1===c?`${c}de`:`${c}des`),a>0&&f.push(`${a}y`),s>0&&f.push(1===s?`${s}mo`:`${s}mos`),r>0&&f.push(`${r}w`),l>0&&f.push(`${l}d`),o>0&&f.push(`${o}h`),i>0&&f.push(`${i}m`),n>0&&f.push(`${n}s`),t>0&&(f=f.slice(0,t)),f.join(" "))}catch(e){return}}function Et(e,t,n=.5){try{if(!t.length)return null;let o=null;var i=0;let l=e.getBoundingClientRect();return t instanceof HTMLCollection&&(t=Array.from(t)),t?.forEach?.((e=>{let t=e.getBoundingClientRect();var r=(Math.min(t.bottom,l.bottom)-Math.max(t.top,l.top))/t.height;r>i&&(0===n&&r>n||r>=n)&&(i=r,o=e)})),o}catch(e){return}}const At=(e,t)=>{try{return Array.from(e.parentElement.children).indexOf(e)}catch(e){return}},Tt=(e,t,n="top",i,o=0)=>{try{let l;if("string"==typeof t&&(t=document.querySelector(t)),e===window){const e=t.getBoundingClientRect(),i=window.scrollY;l="bottom"===n?e.bottom+i-window.innerHeight:"center"===n?e.top+i-window.innerHeight/2:e.top+i}else if("string"==typeof e&&(e=document.querySelector(e)),"bottom"===n)l=t.offsetTop+t.offsetHeight-e.offsetHeight;else if("center"===n){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect();l=n.top+n.height/2-(i.top+i.height/2)+e.scrollTop-i.height/2}else{let n=t.getBoundingClientRect(),i=e.getBoundingClientRect();l=n.top-i.top+e.scrollTop}e===window?"smooth"===i?window.scrollTo({top:l+o,behavior:"smooth"}):window.scrollTo({top:l+o}):"smooth"===i?e.scrollBy({top:l+o,behavior:"smooth"}):e.scrollTop=l+o}catch(e){return}},Nt=(e,t=2)=>{if("number"==typeof e){const n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:0,notation:"compact",compactDisplay:"short"});return Math.abs(e)>=1e3?n.format(e):Math.abs(e)<.01?e.toExponential(0):e.toFixed(t)||e.toLocaleString("en-US",{maximumFractionDigits:t})}return null},$t=(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),Lt=(e,t)=>{let n=Math.max(e.selectionStart-1||0,0);e.value=t,e.setSelectionRange(n,n)},It=()=>{try{return JSBridge.exportJSON,!0}catch(e){return!1}};let Ct;const jt=(e,t)=>{e?.classList?.add?.(t)},Pt=(e,t)=>{e?.classList?.remove?.(t)};function zt(e){const t=e-1;return t*t*t+1}function Ft(e,{delay:n=0,duration:i=400,easing:o=t}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:i,easing:o,css:e=>"opacity: "+e*l}}function Dt(e,{delay:t=0,duration:n=400,easing:i=zt,x:o=0,y:l=0,opacity:r=0}={}){const s=getComputedStyle(e),a=+s.opacity,c="none"===s.transform?"":s.transform,u=a*(1-r),[d,f]=h(o),[p,m]=h(l);return{delay:t,duration:n,easing:i,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*d}${f}, ${(1-e)*p}${m});\n\t\t\topacity: ${a-u*t}`}}function Mt(e,t,n){const i=e.slice();return i[42]=t[n],i}function Ot(e,t,n){const i=e.slice();return i[42]=t[n],i}function Ut(e,t,n){const i=e.slice();return i[42]=t[n],i}function _t(e,t,n){const i=e.slice();return i[42]=t[n],i}function Vt(e,t,n){const i=e.slice();return i[47]=t[n],i[48]=t,i[49]=n,i}function qt(t){let n;return{c(){n=$("div"),n.textContent="No Results",z(n,"class","empty svelte-1h2q1z8")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Wt(t){let n,i,o=Array(on),l=[];for(let e=0;e<o.length;e+=1)l[e]=Rt(Ot(t,o,e));let r=Array(5),s=[];for(let e=0;e<r.length;e+=1)s[e]=Ht(Mt(t,r,e));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();n=I();for(let e=0;e<s.length;e+=1)s[e].c();i=C()},m(e,t){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,t);A(e,n,t);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(e,t);A(e,i,t)},p:e,d(e){N(l,e),e&&T(n),N(s,e),e&&T(i)}}}function Bt(e){let t,n,i,o=[],l=new Map,r=e[8]||[];const s=e=>e[47].id;for(let t=0;t<r.length;t+=1){let n=Vt(e,r,t),i=s(n);l.set(i,o[t]=Qt(i,n))}let a=Array(e[7]??on),c=[];for(let t=0;t<a.length;t+=1)c[t]=Zt(_t(e,a,t));let u=Array(5),d=[];for(let t=0;t<u.length;t+=1)d[t]=en(Ut(e,u,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=I();for(let e=0;e<c.length;e+=1)c[e].c();n=I();for(let e=0;e<d.length;e+=1)d[e].c();i=C()},m(e,l){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,l);A(e,t,l);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,l);A(e,n,l);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(e,l);A(e,i,l)},p(e,i){if(129330&i[0]&&(r=e[8]||[],o=ve(o,i,s,1,e,r,l,t.parentNode,ge,Qt,t,Vt)),456&i[0]){let t;for(a=Array(e[7]??on),t=0;t<a.length;t+=1){const o=_t(e,a,t);c[t]?c[t].p(o,i):(c[t]=Zt(o),c[t].c(),c[t].m(n.parentNode,n))}for(;t<c.length;t+=1)c[t].d(1);c.length=a.length}},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&T(t),N(c,e),e&&T(n),N(d,e),e&&T(i)}}}function Rt(t){let n;return{c(){n=$("div"),n.innerHTML='<div class="shimmer svelte-1h2q1z8"></div>',z(n,"class","image-grid__card skeleton svelte-1h2q1z8")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Ht(t){let n;return{c(){n=$("div"),z(n,"class","image-grid__card svelte-1h2q1z8")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Yt(e){let t,n=`${e[47].format||"N/A"}${e[47].episodes?"("+e[47].episodes+")":""}`;return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,i){256&i[0]&&n!==(n=`${e[47].format||"N/A"}${e[47].episodes?"("+e[47].episodes+")":""}`)&&F(t,n)},d(e){e&&T(t)}}}function Kt(e){let t,n=e[1].getSeconds(),i=Gt(e);return{c(){i.c(),t=C()},m(e,n){i.m(e,n),A(e,t,n)},p(e,o){2&o[0]&&r(n,n=e[1].getSeconds())?(i.d(1),i=Gt(e),i.c(),i.m(t.parentNode,t)):i.p(e,o)},d(e){e&&T(t),i.d(e)}}}function Gt(e){let t,n=`${e[47].format||"N/A"}${rn(e[47].episodes,e[47].nextAiringEpisode)}\n                                        `;return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,i){256&i[0]&&n!==(n=`${e[47].format||"N/A"}${rn(e[47].episodes,e[47].nextAiringEpisode)}\n                                        `)&&F(t,n)},d(e){e&&T(t)}}}function Xt(e){let t,n=(Nt(e[47].weightedScore)||"N/A")+"";return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,i){256&i[0]&&n!==(n=(Nt(e[47].weightedScore)||"N/A")+"")&&F(t,n)},d(e){e&&T(t)}}}function Jt(e){let t,n=(e[15](e[47])||"N/A")+"";return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,i){256&i[0]&&n!==(n=(e[15](e[47])||"N/A")+"")&&F(t,n)},d(e){e&&T(t)}}}function Qt(e,t){let n,i,r,s,c,u,d,f,m,h,y,g,w,v,b,k,x,E,N,C,P,D,M,O,U,_,V,q,W=(t[47]?.title?.userPreferred||"N/A")+"",B=t[48],R=t[49];function H(e,t){return 256&t[0]&&(x=null),null==x&&(x=!!kt(e[47]?.nextAiringEpisode)),x?Kt:Yt}let Y=H(t,[-1,-1]),K=Y(t);function G(e,t){return e[4]?Jt:Xt}let X=G(t),J=X(t);function Q(...e){return t[19](t[49],...e)}function Z(...e){return t[20](t[49],...e)}const ee=()=>t[21](n,B,R),te=()=>t[21](null,B,R);return{key:e,first:null,c(){n=$("div"),i=$("div"),r=$("img"),c=I(),u=$("span"),d=$("span"),f=L(W),h=I(),y=$("span"),g=$("div"),w=$("span"),v=$("i"),k=I(),K.c(),E=I(),N=$("div"),C=$("span"),P=$("i"),M=I(),J.c(),z(r,"loading","lazy"),z(r,"class",p("image-grid__card-thumb fade-out")+" svelte-1h2q1z8"),z(r,"alt","anime-cover"),a(r.src,s=t[47].coverImageUrl||"")||z(r,"src",s),z(d,"class","title copy svelte-1h2q1z8"),z(d,"copy-value",m=t[47]?.title?.userPreferred||""),z(v,"class",b=p(`${t[16](t[47].userStatus)}-color fa-solid fa-circle`)+" svelte-1h2q1z8"),z(g,"class","brief-info svelte-1h2q1z8"),z(P,"class",D=p(`${ln(t[47])}-color fa-solid fa-star`)+" svelte-1h2q1z8"),z(N,"class","brief-info svelte-1h2q1z8"),z(y,"class","brief-info-wrapper copy svelte-1h2q1z8"),z(y,"copy-value",O=t[47]?.title?.userPreferred||""),z(u,"class","image-grid__card-title svelte-1h2q1z8"),z(i,"class","shimmer svelte-1h2q1z8"),z(i,"tabindex",U=t[5]?"":"0"),z(n,"class","image-grid__card svelte-1h2q1z8"),z(n,"title",_=t[14](t[47])),this.first=n},m(e,o){A(e,n,o),S(n,i),S(i,r),S(i,c),S(i,u),S(u,d),S(d,f),S(u,h),S(u,y),S(y,g),S(g,w),S(w,v),S(w,k),K.m(w,null),S(y,E),S(y,N),S(N,C),S(C,P),S(C,M),J.m(C,null),ee(),V||(q=[j(r,"load",t[18]),j(i,"click",(function(){l(t[11](t[49]))&&t[11](t[49]).apply(this,arguments)})),j(i,"pointerdown",Q),j(i,"pointerup",t[13]),j(i,"pointercancel",t[13]),j(i,"keydown",Z)],V=!0)},p(e,o){t=e,256&o[0]&&!a(r.src,s=t[47].coverImageUrl||"")&&z(r,"src",s),256&o[0]&&W!==(W=(t[47]?.title?.userPreferred||"N/A")+"")&&F(f,W),256&o[0]&&m!==(m=t[47]?.title?.userPreferred||"")&&z(d,"copy-value",m),256&o[0]&&b!==(b=p(`${t[16](t[47].userStatus)}-color fa-solid fa-circle`)+" svelte-1h2q1z8")&&z(v,"class",b),Y===(Y=H(t,o))&&K?K.p(t,o):(K.d(1),K=Y(t),K&&(K.c(),K.m(w,null))),256&o[0]&&D!==(D=p(`${ln(t[47])}-color fa-solid fa-star`)+" svelte-1h2q1z8")&&z(P,"class",D),X===(X=G(t))&&J?J.p(t,o):(J.d(1),J=X(t),J&&(J.c(),J.m(C,null))),256&o[0]&&O!==(O=t[47]?.title?.userPreferred||"")&&z(y,"copy-value",O),32&o[0]&&U!==(U=t[5]?"":"0")&&z(i,"tabindex",U),256&o[0]&&_!==(_=t[14](t[47]))&&z(n,"title",_),B===t[48]&&R===t[49]||(te(),B=t[48],R=t[49],ee())},d(e){e&&T(n),K.d(),J.d(),te(),V=!1,o(q)}}}function Zt(e){let t,n,i;return{c(){t=$("div"),n=$("div"),z(n,"class","shimmer svelte-1h2q1z8"),z(t,"class",i=p("image-grid__card skeleton anime-loaded-padding "+(e[8]?.length&&!e[6]&&e[3]?"":"disable-interaction"))+" svelte-1h2q1z8")},m(e,i){A(e,t,i),S(t,n)},p(e,n){328&n[0]&&i!==(i=p("image-grid__card skeleton anime-loaded-padding "+(e[8]?.length&&!e[6]&&e[3]?"":"disable-interaction"))+" svelte-1h2q1z8")&&z(t,"class",i)},d(e){e&&T(t)}}}function en(t){let n;return{c(){n=$("div"),z(n,"class","image-grid__card svelte-1h2q1z8")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function tn(t){let n,i,l,r,s;return{c(){n=$("div"),n.innerHTML='<i class="fa-solid fa-arrow-left svelte-1h2q1z8"></i>',z(n,"class","go-back-grid svelte-1h2q1z8"),z(n,"tabindex","0")},m(e,i){A(e,n,i),l=!0,r||(s=[j(n,"click",t[17]),j(n,"keydown",t[24])],r=!0)},p:e,i(e){l||(te((()=>{l&&(i||(i=ye(n,Dt,{x:-50,duration:300},!0)),i.run(1))})),l=!0)},o(e){i||(i=ye(n,Dt,{x:-50,duration:300},!1)),i.run(0),l=!1},d(e){e&&T(n),e&&i&&i.end(),r=!1,o(s)}}}function nn(e){let t,n,i,o,l,r,s,a;function c(e,t){return e[8]?.length?Bt:!e[8]||e[10]?Wt:qt}let u=c(e),d=u(e),f=e[9]&&e[2]?.scrollLeft>500&&tn(e);return{c(){t=$("main"),n=$("div"),d.c(),o=I(),f&&f.c(),z(n,"id","anime-grid"),z(n,"class",i=p("image-grid "+(e[9]?"fullView":""))+" svelte-1h2q1z8"),M(n,"--anime-grid-height",e[0]+"px"),z(t,"class",l=p(e[9]?"fullView":"")+" svelte-1h2q1z8")},m(i,l){A(i,t,l),S(t,n),d.m(n,null),e[22](n),S(t,o),f&&f.m(t,null),r=!0,s||(a=j(n,"wheel",e[23]),s=!0)},p(e,o){u===(u=c(e))&&d?d.p(e,o):(d.d(1),d=u(e),d&&(d.c(),d.m(n,null))),(!r||512&o[0]&&i!==(i=p("image-grid "+(e[9]?"fullView":""))+" svelte-1h2q1z8"))&&z(n,"class",i),1&o[0]&&M(n,"--anime-grid-height",e[0]+"px"),e[9]&&e[2]?.scrollLeft>500?f?(f.p(e,o),516&o[0]&&pe(f,1)):(f=tn(e),f.c(),pe(f,1),f.m(t,null)):f&&(de(),me(f,1,1,(()=>{f=null})),fe()),(!r||512&o[0]&&l!==(l=p(e[9]?"fullView":"")+" svelte-1h2q1z8"))&&z(t,"class",l)},i(e){r||(pe(f),r=!0)},o(e){me(f),r=!1},d(n){n&&T(t),d.d(),e[22](null),f&&f.d(),s=!1,a()}}}let on=13;function ln({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:i}){return e?.caution?.length?"red":i<t?"purple":i<n?"orange":e?.semiCaution?.length?"teal":"green"}function rn(e,t){let n,i;if("number"==typeof t?.episode&&"number"==typeof t?.airingAt){let e=new Date(1e3*t?.airingAt);i=t?.episode,e instanceof Date&&!isNaN(e)&&(n=e.getTime()-(new Date).getTime())}return n>0&&i>1&&e>i?`(${i-1}/${e})`:n<=0&&"number"==typeof i&&e>i?`(${i}/${e})`:"number"==typeof e?`(${e})`:"number"==typeof i?n>0&&i>1?`(${i-1}")`:`(${i}")`:""}function sn(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w,v,b,k;d(e,Pe,(e=>n(4,i=e))),d(e,ot,(e=>n(30,o=e))),d(e,lt,(e=>n(31,l=e))),d(e,rt,(e=>n(5,r=e))),d(e,st,(e=>n(32,s=e))),d(e,De,(e=>n(33,a=e))),d(e,Xe,(e=>n(34,c=e))),d(e,Ze,(e=>n(6,u=e))),d(e,ft,(e=>n(35,f=e))),d(e,Je,(e=>n(36,p=e))),d(e,tt,(e=>n(7,h=e))),d(e,Fe,(e=>n(8,y=e))),d(e,Me,(e=>n(37,g=e))),d(e,Qe,(e=>n(38,w=e))),d(e,yt,(e=>n(39,v=e))),d(e,Ge,(e=>n(9,b=e))),d(e,Ke,(e=>n(10,k=e)));let S,x,E=window.visualViewport.height,A=new Date,T=!1;H((()=>{n(0,E=window.visualViewport.height),n(2,S=S||document.getElementById("anime-grid")),window.addEventListener("resize",(()=>{n(0,E=window.visualViewport.height)})),setInterval((()=>{n(1,A=new Date)}),1e3)}));let N,$,L,I=!1;function C(e){m(st,s=e,s),m(rt,r=!0,r)}function j(e,t){let n=e.target;n.classList.contains("copy")||n.closest(".copy")||(L&&clearTimeout(L),L=setTimeout((()=>{m(lt,l=t,l),m(ot,o=!0,o)}),500))}function P(){n(2,S),n(2,S),S?.children?.[0]?.scrollIntoView?.({container:S,behavior:"smooth",block:"nearest",inline:"start"})}window.checkAnimeLoaderStatus=m(Xe,c=async()=>{if(a instanceof Worker&&"function"==typeof a.onmessage)return new Promise(((e,t)=>{N={resolve:e,reject:t},a?.postMessage?.({checkStatus:!0}),clearTimeout($),$=setTimeout((()=>{t()}),1e3)})).catch((()=>{m(De,a=null,a),m(Fe,y=null,y),m(yt,v=!v,v),N=null})).finally((()=>{N=null}))},c),De.subscribe((e=>{e instanceof Worker&&(e.onmessage=async({data:e})=>{if(N?.resolve&&e?.isAlive&&(N?.resolve?.(),N=null),await ee(),void 0!==e?.status)m(Me,g=e.status,g);else if(e.finalAnimeList instanceof Array)!0===e?.reload?(m(Fe,y=e.finalAnimeList,y),I=!0,m(tt,h=e.numberOfNextLoadedGrid,h)):!0===e.isNew?(m(Fe,y=e.finalAnimeList,y),m(tt,h=e.numberOfNextLoadedGrid,h)):!1===e.isNew&&(y instanceof Array&&(m(Fe,y=y.concat(e.finalAnimeList),y),e.isLast&&(m(Ze,u=!0,u),p instanceof IntersectionObserver&&(p.disconnect(),m(Je,p=null,p)))),m(tt,h=e.numberOfNextLoadedGrid,h));else if(!0===e.isRemoved&&"number"==typeof e.removedID){let t=Math.max(y.length-2,0),n=y[t].gridElement||S.children?.[t];p instanceof IntersectionObserver&&n instanceof Element&&p.observe(n);let i=y.findIndex((({id:t})=>t===e.removedID));m(Fe,y=y.filter((({id:t})=>t!==e.removedID)),y),i>=0&&m(Qe,w=i,w),m(tt,h=e.numberOfNextLoadedGrid,h)}},e.onerror=e=>{m(Me,g="Something went wrong...",g),console.error(e)})})),Fe.subscribe((async e=>{if(e instanceof Array&&e.length){u&&m(Ze,u=!1,u),p&&(p.disconnect(),m(Je,p=null,p)),await ee(),x=!1,m(Je,p=new IntersectionObserver((e=>{u||e.forEach((e=>{if(e.isIntersecting){if(n(3,T=!0),x)return;x=!0,setTimeout((()=>{a instanceof Worker&&c().then((()=>{a?.postMessage?.({loadMore:!0})})),x=!1}),1e3)}}))}),{root:null,rootMargin:"100%",threshold:[0,1]}),p);let e=y.length-1,t=y[e].gridElement||S.children?.[e];p instanceof IntersectionObserver&&(t instanceof Element&&p.observe(t),document.querySelectorAll(".anime-loaded-padding").forEach((e=>{p.observe(e)}))),I&&(m(ft,f=!f,f),I=!1),n(3,T=!1)}else m(tt,h=null,h),p&&(p?.disconnect?.(),m(Je,p=null,p)),I&&(m(ft,f=!f,f),I=!1),n(3,T=!1)})),et.subscribe((async e=>{"string"==typeof e&&a instanceof Worker&&(m(Ze,u=!1,u),c().then((()=>{a?.postMessage?.({filterKeyword:e})})))}));return[E,A,S,T,i,r,u,h,y,b,k,C,j,function(){L&&clearTimeout(L)},function({contentCaution:e,sortedFavoriteContents:t,meanScoreAll:n,meanScoreAbove:i,score:o}){let l=[];t?.forEach((e=>{"string"==typeof e&&l.push(e)}));let r=[];o<n?r.push(`Very Low Score (mean: ${Nt(n)})`):o<i&&r.push(`Low Score (mean: ${Nt(i)})`),r=r.concat(e?.caution||[]).concat(e?.semiCaution||[]);let s="";return l.length&&(s+="Favorite Contents: "+l.join(", ")||""),r.length&&(s+="\n\nContent Cautions: "+r.join(", ")),s},function({weightedScore:e,score:t,averageScore:n,userScore:o}){let l=i?.sortFilter.filter((({sortType:e})=>"none"!==e))?.[0]?.sortName;return"score"===l?Nt(t):"user score"===l?o:"average score"===l?n:Nt(e)},function(e){return $t(e,"completed")?"green":$t(e,"current")||$t(e,"repeating")?"blue":$t(e,"planning")?"orange":$t(e,"paused")?"peach":$t(e,"dropped")?"red":"lightgrey"},P,e=>{Pt(e.target,"fade-out"),jt(e.target?.closest?.(".shimmer"),"loaded")},(e,t)=>j(t,e),(e,t)=>"Enter"===t.key&&C(e),function(e,t,n){K[e?"unshift":"push"]((()=>{t[n].gridElement=e}))},function(e){K[e?"unshift":"push"]((()=>{S=e,n(2,S)}))},e=>b&&function(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}(e,"image-grid"),e=>"Enter"===e.key&&P()]}let an={};const cn=e=>new Promise((t=>{It()?t(e):an[e]?t(an[e]):(e=e+"?v="+u(Ne),fetch(e,{headers:{"Cache-Control":"max-age=31536000, immutable"}}).then((e=>e.blob())).then((n=>{let i=URL.createObjectURL(n);an[e]=i,t(i)})).catch((async()=>{t(e)})))}));let un,dn=1e3,fn=!1,pn=!1,mn=!1;const hn=e=>new Promise(((t,n)=>{fn=!0,cn("./webapi/worker/animeLoader.js").then((i=>{un&&(un.terminate(),un=null),un=new Worker(i),un.postMessage(e),un.onmessage=({data:e})=>{void 0!==e?.status?(fn=!0,Me.set(e.status)):e?.isNew&&(fn=!1,un.onmessage=null,t(Object.assign({},e,{animeLoaderWorker:un})))},un.onerror=e=>{n(e)}})).catch((e=>{_n(),n(e)}))}));let yn,gn;const wn=e=>new Promise(((t,n)=>{fn=!0,gn&&gn.terminate(),cn("./webapi/worker/processRecommendedAnimeList.js").then((i=>{gn=new Worker(i),yn&&clearTimeout(yn),gn.postMessage(e),gn.onmessage=({data:e})=>{void 0!==e?.status?(fn=!0,Me.set(e.status)):(fn=!1,yn=setTimeout((()=>{gn.terminate()}),dn),t())},gn.onerror=e=>{n(e)}})).catch((e=>{_n(),n(e)}))}));let vn,bn;const kn=e=>new Promise(((t,n)=>{bn&&bn.terminate(),cn("./webapi/worker/requestAnimeEntries.js").then((i=>{bn=new Worker(i),vn&&clearTimeout(vn),bn.postMessage(e),bn.onmessage=({data:e})=>{void 0!==e?.status?fn||Me.set(e.status):void 0!==e?.updateRecommendationList?gt.update((e=>!e)):e?.lastRunnedAutoUpdateDate instanceof Date&&!isNaN(e?.lastRunnedAutoUpdateDate)?Ve.set(e.lastRunnedAutoUpdateDate):(void 0!==e?.errorDuringInit||(vn=setTimeout((()=>{bn.terminate()}),dn)),t(e))},bn.onerror=e=>{n(e)}})).catch((e=>{_n(),n(e)}))}));let Sn,xn;const En=e=>new Promise(((t,n)=>{u(Ke)||(mn||pn)&&(Oe.set(!1),window.confirmPromise({isAlert:!0,text:"Getting user entries is terminated, currently importing/exporting..."})),xn&&xn.terminate(),cn("./webapi/worker/requestUserEntries.js").then((i=>{xn=new Worker(i),Sn&&clearTimeout(Sn),xn.postMessage(e),xn.onmessage=({data:e})=>{void 0!==e?.status?fn||(Me.set(e.status),"User not found"===e.status&&(vt.update((e=>!e)),window.confirmPromise({isAlert:!0,text:"User is not found, you may want to try again..."}),Sn=setTimeout((()=>{xn.terminate()}),dn),n(e))):e?.error?(vt.update((e=>!e)),Sn=setTimeout((()=>{xn.terminate()}),dn),n(e)):void 0!==e?.updateRecommendationList?gt.update((e=>!e)):(Sn=setTimeout((()=>{xn.terminate()}),dn),t(e))},xn.onerror=e=>{vt.update((e=>!e)),Sn=setTimeout((()=>{xn.terminate()}),dn),n(e)}})).catch((e=>{vt.update((e=>!e)),_n(),n(e)}))}));let An;const Tn=e=>new Promise(((e,t)=>{if(!u(Ke)){if(pn)return;Un(),mn=!0}An&&An.terminate(),cn("./webapi/worker/exportUserData.js").then((n=>{An=new Worker(n),It()?An.postMessage("android"):An.postMessage("browser"),An.onmessage=({data:t})=>{if(void 0!==t?.status)fn=!0,Me.set(t.status);else if(It()){fn=!1;let n=t.chunk,i=t.state;if(0===i)JSBridge.exportJSON("",0,"");else if(1===i)JSBridge.exportJSON(n,1,"");else if(2===i){let i=t.username??null;JSBridge.exportJSON(n,2,`Kanshi.${i?.toLowerCase()||"Backup"}.json`),An.terminate(),mn=!1,e(t)}}else{fn=!1;let n=t.username??null;((e,t)=>{Ct&&setTimeout((()=>URL.revokeObjectURL(Ct)),0),Ct=e;const n=document.createElement("a");n.href=e,n.download=t,n.click()})(t.url,`Kanshi.${n?.toLowerCase()||"Backup"}.json`),mn=!1,e(t)}},An.onerror=e=>{mn=!1,window.confirmPromise?.({isAlert:!0,title:"Export Failed",text:"Data is not exported, please try again in a later time."}),t(e)}})).catch((e=>{mn=!1,_n(),t(e)}))}));let Nn,$n;const Ln=e=>new Promise(((t,n)=>{cn("./webapi/worker/getIDBdata.js").then((i=>{let o=new Worker(i);o.postMessage({name:e}),o.onmessage=({data:e})=>{void 0!==e?.status?Me.set(e.status):(o.terminate(),t(e))},o.onerror=e=>{n(e)}})).catch((()=>{_n(),n(error)}))})),In=(e,t)=>new Promise(((n,i)=>{cn("./webapi/worker/saveIDBdata.js").then((o=>{let l=new Worker(o);l.onmessage=({data:e})=>{void 0!==e?.status?Me.set(e.status):(setTimeout((()=>{l.terminate(),l=null}),dn),n())},l.onerror=e=>{i(e)},l.postMessage({data:e,name:t})})).catch((e=>{_n(),i(e)}))}));let Cn,jn;let Pn,zn;let Fn,Dn,Mn;const On=e=>new Promise(((t,n)=>{Dn=setInterval((()=>{jn||zn||Me.set("Getting Filters")}),300),cn("./webapi/worker/getFilterOptions.js").then((i=>{Dn&&(clearInterval(Dn),Dn=null),Mn&&Mn.terminate(),Mn=new Worker(i),Fn&&clearTimeout(Fn),Mn.postMessage(e),Mn.onmessage=({data:e})=>{void 0!==e?.status?(fn=!0,Me.set(e.status)):(fn=!1,Fn=setTimeout((()=>{Mn.terminate()}),dn),t(e))},Mn.onerror=e=>{n(e)}})).catch((e=>{Dn&&(clearInterval(Dn),Dn=null),Me.set(null),_n(),n(e)}))}));function Un(){bn?.terminate?.(),xn?.terminate?.(),Oe.set(!1),$n?.terminate?.(),pn=!1,An?.terminate?.(),mn=!1,Mn?.terminate?.()}function _n(){It()?window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}):window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."})}function Vn(e,t){return new Promise((async(n,i)=>{await In(e,t).then((e=>{n(e)})).catch((e=>{i(e)}))}))}async function qn(e){return new Promise((async(t,n)=>{await Ln(e).then((e=>{t(e)})).catch((e=>{n(e)}))}))}function Wn(e,t,n){const i=e.slice();return i[85]=t[n],i[86]=t,i[87]=n,i}function Bn(e,t,n){const i=e.slice();return i[88]=t[n].caution,i[89]=t[n].cautionColor,i}function Rn(e,t,n){const i=e.slice();return i[92]=t[n].tag,i[93]=t[n].tagColor,i}function Hn(e,t,n){const i=e.slice();return i[96]=t[n].genre,i[97]=t[n].genreColor,i}function Yn(e,t,n){const i=e.slice();return i[100]=t[n].studio,i[101]=t[n].studioColor,i}function Kn(e){let t,n,i,o=[],l=new Map,r=e[5]||[];const s=e=>e[85].id;for(let t=0;t<r.length;t+=1){let n=Wn(e,r,t),i=s(n);l.set(i,o[t]=ki(i,n))}let a=e[5]?.length&&!e[9]&&Si();return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=I(),a&&a.c(),n=C()},m(e,l){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,l);A(e,t,l),a&&a.m(e,l),A(e,n,l),i=!0},p(e,i){8387065&i[0]&&(r=e[5]||[],de(),o=ve(o,i,s,1,e,r,l,t.parentNode,we,ki,t,Wn),fe()),e[5]?.length&&!e[9]?a||(a=Si(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){if(!i){for(let e=0;e<r.length;e+=1)pe(o[e]);i=!0}},o(e){for(let e=0;e<o.length;e+=1)me(o[e]);i=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&T(t),a&&a.d(e),e&&T(n)}}}function Gn(e){let t;return{c(){t=$("div"),z(t,"class","trailer display-none")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function Xn(e){let t,n,i,o;return{c(){t=$("img"),z(t,"loading","lazy"),a(t.src,n=e[85].bannerImageUrl)||z(t,"src",n),z(t,"alt","bannerImg"),z(t,"class","bannerImg fade-out svelte-pieki3")},m(n,l){A(n,t,l),i||(o=j(t,"load",e[23]),i=!0)},p(e,i){32&i[0]&&!a(t.src,n=e[85].bannerImageUrl)&&z(t,"src",n)},d(e){e&&T(t),i=!1,o()}}}function Jn(e){let t;function n(e,t){return e[85].bannerImageUrl?Zn:Qn}let i=n(e),o=i(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),A(e,t,n)},p(e,l){i===(i=n(e))&&o?o.p(e,l):(o.d(1),o=i(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&T(t)}}}function Qn(e){let t,n,i,o;return{c(){t=$("img"),z(t,"loading","lazy"),a(t.src,n=e[85].coverImageUrl)||z(t,"src",n),z(t,"alt","coverImg"),z(t,"class","coverImg fade-out svelte-pieki3")},m(n,l){A(n,t,l),i||(o=j(t,"load",e[25]),i=!0)},p(e,i){32&i[0]&&!a(t.src,n=e[85].coverImageUrl)&&z(t,"src",n)},d(e){e&&T(t),i=!1,o()}}}function Zn(e){let t,n,i,o;return{c(){t=$("img"),z(t,"loading","lazy"),a(t.src,n=e[85].coverImageUrl)||z(t,"src",n),z(t,"alt","coverImg"),z(t,"class","coverImg display-none fade-out svelte-pieki3")},m(n,l){A(n,t,l),i||(o=j(t,"load",e[24]),i=!0)},p(e,i){32&i[0]&&!a(t.src,n=e[85].coverImageUrl)&&z(t,"src",n)},d(e){e&&T(t),i=!1,o()}}}function ei(e){let t,n,i,l,r,s=Ni(e[85]?.description)+"";return{c(){t=$("div"),n=$("div"),z(n,"class","anime-description svelte-pieki3"),z(t,"class","anime-description-container copy display-none fade-out svelte-pieki3"),z(t,"copy-value",i=Ti(e[85]?.description))},m(i,o){A(i,t,o),S(t,n),n.innerHTML=s,l||(r=[j(t,"click",e[22]),j(t,"keydown",e[26])],l=!0)},p(e,o){32&o[0]&&s!==(s=Ni(e[85]?.description)+"")&&(n.innerHTML=s),32&o[0]&&i!==(i=Ti(e[85]?.description))&&z(t,"copy-value",i)},d(e){e&&T(t),l=!1,o(r)}}}function ti(e){let t,n,i,l,r,s,a,c,u,d=e[3]>=350?"List Update Available":e[3]>=283?"Update Available":e[3]>=236?"Available":"";return{c(){t=$("div"),n=$("i"),i=I(),l=$("h3"),r=L(d),z(n,"class","list-update-icon fa-solid fa-arrows-rotate svelte-pieki3"),z(l,"class","list-update-label svelte-pieki3"),z(t,"class","list-update-container svelte-pieki3"),z(t,"tabindex","0")},m(o,s){A(o,t,s),S(t,n),S(t,i),S(t,l),S(l,r),a=!0,c||(u=[j(t,"click",e[15]),j(t,"keydown",e[29])],c=!0)},p(e,t){(!a||8&t[0])&&d!==(d=e[3]>=350?"List Update Available":e[3]>=283?"Update Available":e[3]>=236?"Available":"")&&F(r,d)},i(e){a||(te((()=>{a&&(s||(s=ye(t,Dt,{x:-50,duration:300},!0)),s.run(1))})),a=!0)},o(e){s||(s=ye(t,Dt,{x:-50,duration:300},!1)),s.run(0),a=!1},d(e){e&&T(t),e&&s&&s.end(),c=!1,o(u)}}}function ni(e){let t,n,i,o,l,r,s;function a(e,t){return e[85]?.nextAiringEpisode?.airingAt?oi:ii}let c=a(e),u=c(e);return{c(){t=$("div"),n=$("div"),n.textContent="Format",i=I(),o=$("div"),u.c(),z(n,"class","info-categ svelte-pieki3"),z(o,"class",l=p("format-popup info not-capitalize"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(l,a){A(l,t,a),S(t,n),S(t,i),S(t,o),u.m(o,null),r||(s=j(o,"wheel",e[33]),r=!0)},p(e,t){c===(c=a(e))&&u?u.p(e,t):(u.d(1),u=c(e),u&&(u.c(),u.m(o,null))),256&t[0]&&l!==(l=p("format-popup info not-capitalize"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",l)},d(e){e&&T(t),u.d(),r=!1,s()}}}function ii(e){let t,n,i,o=(e[20](e[85])||"N/A")+"";return{c(){t=$("span"),n=L(o),z(t,"class","copy svelte-pieki3"),z(t,"copy-value",i=e[20](e[85])||"")},m(e,i){A(e,t,i),S(t,n)},p(e,l){32&l[0]&&o!==(o=(e[20](e[85])||"N/A")+"")&&F(n,o),32&l[0]&&i!==(i=e[20](e[85])||"")&&z(t,"copy-value",i)},d(e){e&&T(t)}}}function oi(e){let t,n=e[0].getSeconds(),i=li(e);return{c(){i.c(),t=C()},m(e,n){i.m(e,n),A(e,t,n)},p(e,o){1&o[0]&&r(n,n=e[0].getSeconds())?(i.d(1),i=li(e),i.c(),i.m(t.parentNode,t)):i.p(e,o)},d(e){e&&T(t),i.d(e)}}}function li(e){let t,n,i,o=(e[20](e[85])||"N/A")+"";return{c(){t=$("span"),n=L(o),z(t,"class","copy svelte-pieki3"),z(t,"copy-value",i=e[20](e[85])||"")},m(e,i){A(e,t,i),S(t,n)},p(e,l){32&l[0]&&o!==(o=(e[20](e[85])||"N/A")+"")&&F(n,o),32&l[0]&&i!==(i=e[20](e[85])||"")&&z(t,"copy-value",i)},d(e){e&&T(t)}}}function ri(e){let t,n,i,o,l,r,s,a=[],c=new Map,u=e[18](Object.entries(e[85].studios||{}),e[85]?.favoriteContents?.studios);const d=e=>e[100];for(let t=0;t<u.length;t+=1){let n=Yn(e,u,t),i=d(n);c.set(i,a[t]=si(i,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Studio",i=I(),o=$("div");for(let e=0;e<a.length;e+=1)a[e].c();z(n,"class","info-categ svelte-pieki3"),z(o,"class",l=p("studio-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(l,c){A(l,t,c),S(t,n),S(t,i),S(t,o);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(o,null);r||(s=j(o,"wheel",e[34]),r=!0)},p(e,t){262176&t[0]&&(u=e[18](Object.entries(e[85].studios||{}),e[85]?.favoriteContents?.studios),a=ve(a,t,d,1,e,u,c,o,ge,si,null,Yn)),256&t[0]&&l!==(l=p("studio-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",l)},d(e){e&&T(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,s()}}}function si(e,t){let n,i,o,l,r,s,a,c=(t[100].studioName||"N/A")+"";return{key:e,first:null,c(){n=$("span"),i=$("a"),o=L(c),s=I(),z(i,"class",l=p(t[101]?`${t[101]}-color`:"")+" svelte-pieki3"),z(i,"rel","noopener noreferrer"),z(i,"target","_blank"),z(i,"href",r=t[100].studioUrl||""),z(n,"class",p("copy")+" svelte-pieki3"),z(n,"copy-value",a=t[100].studioName||""),this.first=n},m(e,t){A(e,n,t),S(n,i),S(i,o),S(n,s)},p(e,s){t=e,32&s[0]&&c!==(c=(t[100].studioName||"N/A")+"")&&F(o,c),32&s[0]&&l!==(l=p(t[101]?`${t[101]}-color`:"")+" svelte-pieki3")&&z(i,"class",l),32&s[0]&&r!==(r=t[100].studioUrl||"")&&z(i,"href",r),32&s[0]&&a!==(a=t[100].studioName||"")&&z(n,"copy-value",a)},d(e){e&&T(n)}}}function ai(e){let t,n,i,o,l,r,s,a=[],c=new Map,u=e[19](e[85].genres,e[85]?.favoriteContents?.genres,e[85].contentCaution);const d=e=>e[96];for(let t=0;t<u.length;t+=1){let n=Hn(e,u,t),i=d(n);c.set(i,a[t]=ci(i,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Genres",i=I(),o=$("div");for(let e=0;e<a.length;e+=1)a[e].c();z(n,"class","info-categ svelte-pieki3"),z(o,"class",l=p("genres-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(l,c){A(l,t,c),S(t,n),S(t,i),S(t,o);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(o,null);r||(s=j(o,"wheel",e[35]),r=!0)},p(e,t){524320&t[0]&&(u=e[19](e[85].genres,e[85]?.favoriteContents?.genres,e[85].contentCaution),a=ve(a,t,d,1,e,u,c,o,ge,ci,null,Hn)),256&t[0]&&l!==(l=p("genres-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",l)},d(e){e&&T(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,s()}}}function ci(e,t){let n,i,o,l,r,s=(t[96]||"N/A")+"";return{key:e,first:null,c(){n=$("span"),i=L(s),o=I(),z(n,"class",l=p("copy "+(t[97]?`${t[97]}-color`:""))+" svelte-pieki3"),z(n,"copy-value",r=t[96]||""),this.first=n},m(e,t){A(e,n,t),S(n,i),S(n,o)},p(e,o){t=e,32&o[0]&&s!==(s=(t[96]||"N/A")+"")&&F(i,s),32&o[0]&&l!==(l=p("copy "+(t[97]?`${t[97]}-color`:""))+" svelte-pieki3")&&z(n,"class",l),32&o[0]&&r!==(r=t[96]||"")&&z(n,"copy-value",r)},d(e){e&&T(n)}}}function ui(e){let t,n,i,o,l,r,s,a=[],c=new Map,u=e[17](e[85].tags,e[85]?.favoriteContents?.tags,e[85].contentCaution);const d=e=>e[92];for(let t=0;t<u.length;t+=1){let n=Rn(e,u,t),i=d(n);c.set(i,a[t]=di(i,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Tags",i=I(),o=$("div");for(let e=0;e<a.length;e+=1)a[e].c();z(n,"class","info-categ svelte-pieki3"),z(o,"class",l=p("tags-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(l,c){A(l,t,c),S(t,n),S(t,i),S(t,o);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(o,null);r||(s=j(o,"wheel",e[36]),r=!0)},p(e,t){131104&t[0]&&(u=e[17](e[85].tags,e[85]?.favoriteContents?.tags,e[85].contentCaution),a=ve(a,t,d,1,e,u,c,o,ge,di,null,Rn)),256&t[0]&&l!==(l=p("tags-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",l)},d(e){e&&T(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,s()}}}function di(e,t){let n,i,o,l,r,s=(t[92]||"N/A")+"";return{key:e,first:null,c(){n=$("span"),i=L(s),o=I(),z(n,"class",l=p("copy "+(t[93]?`${t[93]}-color`:""))+" svelte-pieki3"),z(n,"copy-value",r=t[92]||""),this.first=n},m(e,t){A(e,n,t),S(n,i),S(n,o)},p(e,o){t=e,32&o[0]&&s!==(s=(t[92]||"N/A")+"")&&F(i,s),32&o[0]&&l!==(l=p("copy "+(t[93]?`${t[93]}-color`:""))+" svelte-pieki3")&&z(n,"class",l),32&o[0]&&r!==(r=t[92]||"")&&z(n,"copy-value",r)},d(e){e&&T(n)}}}function fi(e){let t,n,i,o,l,r,s,a=[],c=new Map,u=e[14](e[85]);const d=e=>e[88]+e[89];for(let t=0;t<u.length;t+=1){let n=Bn(e,u,t),i=d(n);c.set(i,a[t]=pi(i,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Content Cautions",i=I(),o=$("div");for(let e=0;e<a.length;e+=1)a[e].c();z(n,"class","info-categ svelte-pieki3"),z(o,"class",l=p("content-caution-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(l,c){A(l,t,c),S(t,n),S(t,i),S(t,o);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(o,null);r||(s=j(o,"wheel",e[37]),r=!0)},p(e,t){16416&t[0]&&(u=e[14](e[85]),a=ve(a,t,d,1,e,u,c,o,ge,pi,null,Bn)),256&t[0]&&l!==(l=p("content-caution-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",l)},d(e){e&&T(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,s()}}}function pi(e,t){let n,i,o,l,r,s=(t[88]||"N/A")+"";return{key:e,first:null,c(){n=$("span"),i=L(s),o=I(),z(n,"class",l=p(t[89]+"-color copy")+" svelte-pieki3"),z(n,"copy-value",r=t[88]||""),this.first=n},m(e,t){A(e,n,t),S(n,i),S(n,o)},p(e,o){t=e,32&o[0]&&s!==(s=(t[88]||"N/A")+"")&&F(i,s),32&o[0]&&l!==(l=p(t[89]+"-color copy")+" svelte-pieki3")&&z(n,"class",l),32&o[0]&&r!==(r=t[88]||"")&&z(n,"copy-value",r)},d(e){e&&T(n)}}}function mi(e){let t,n,i,o,l,r,s,a,c,u,d=(e[85].averageScore??"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Average Score",i=I(),o=$("div"),l=$("span"),r=L(d),z(n,"class","info-categ svelte-pieki3"),z(l,"class","copy svelte-pieki3"),z(l,"copy-value",s=e[85].averageScore??""),z(o,"class",a=p("average-score-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(s,a){A(s,t,a),S(t,n),S(t,i),S(t,o),S(o,l),S(l,r),c||(u=j(o,"wheel",e[38]),c=!0)},p(e,t){32&t[0]&&d!==(d=(e[85].averageScore??"N/A")+"")&&F(r,d),32&t[0]&&s!==(s=e[85].averageScore??"")&&z(l,"copy-value",s),256&t[0]&&a!==(a=p("average-score-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",a)},d(e){e&&T(t),c=!1,u()}}}function hi(e){let t,n,i,o,l,r,s,a,c,u,d=(e[85].popularity||"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Popularity",i=I(),o=$("div"),l=$("span"),r=L(d),z(n,"class","info-categ svelte-pieki3"),z(l,"class","copy svelte-pieki3"),z(l,"copy-value",s=e[85].popularity??""),z(o,"class",a=p("popularity-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(s,a){A(s,t,a),S(t,n),S(t,i),S(t,o),S(o,l),S(l,r),c||(u=j(o,"wheel",e[39]),c=!0)},p(e,t){32&t[0]&&d!==(d=(e[85].popularity||"N/A")+"")&&F(r,d),32&t[0]&&s!==(s=e[85].popularity??"")&&z(l,"copy-value",s),256&t[0]&&a!==(a=p("popularity-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",a)},d(e){e&&T(t),c=!1,u()}}}function yi(e){let t,n,i,o,l,r,s,a,c,u,d=(`${e[85]?.season||""}${e[85]?.year?" "+e[85].year:""}`||"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Season Year",i=I(),o=$("div"),l=$("span"),r=L(d),z(n,"class","info-categ svelte-pieki3"),z(l,"class","copy svelte-pieki3"),z(l,"copy-value",s=`${e[85]?.season||""}${e[85]?.year?" "+e[85].year:""}`||""),z(o,"class",a=p("season-year-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(s,a){A(s,t,a),S(t,n),S(t,i),S(t,o),S(o,l),S(l,r),c||(u=j(o,"wheel",e[40]),c=!0)},p(e,t){32&t[0]&&d!==(d=(`${e[85]?.season||""}${e[85]?.year?" "+e[85].year:""}`||"N/A")+"")&&F(r,d),32&t[0]&&s!==(s=`${e[85]?.season||""}${e[85]?.year?" "+e[85].year:""}`||"")&&z(l,"copy-value",s),256&t[0]&&a!==(a=p("season-year-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",a)},d(e){e&&T(t),c=!1,u()}}}function gi(e){let t,n,i,o,l,r,s,a,c,u,d=(e[85].status||"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Airing Status",i=I(),o=$("div"),l=$("span"),r=L(d),z(n,"class","info-categ svelte-pieki3"),z(l,"class","copy svelte-pieki3"),z(l,"copy-value",s=e[85].status||""),z(o,"class",a=p("status-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(s,a){A(s,t,a),S(t,n),S(t,i),S(t,o),S(o,l),S(l,r),c||(u=j(o,"wheel",e[41]),c=!0)},p(e,t){32&t[0]&&d!==(d=(e[85].status||"N/A")+"")&&F(r,d),32&t[0]&&s!==(s=e[85].status||"")&&z(l,"copy-value",s),256&t[0]&&a!==(a=p("status-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",a)},d(e){e&&T(t),c=!1,u()}}}function wi(e){let t,n,i,o,l,r,s,a,c,u,d,f=(e[85].userStatus||"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="User Status",i=I(),o=$("div"),l=$("span"),r=L(f),z(n,"class","info-categ svelte-pieki3"),z(l,"class",s=p("copy "+e[16](e[85].userStatus)+"-color")+" svelte-pieki3"),z(l,"copy-value",a=e[85].userStatus||""),z(o,"class",c=p("user-status-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(s,a){A(s,t,a),S(t,n),S(t,i),S(t,o),S(o,l),S(l,r),u||(d=j(o,"wheel",e[42]),u=!0)},p(e,t){32&t[0]&&f!==(f=(e[85].userStatus||"N/A")+"")&&F(r,f),32&t[0]&&s!==(s=p("copy "+e[16](e[85].userStatus)+"-color")+" svelte-pieki3")&&z(l,"class",s),32&t[0]&&a!==(a=e[85].userStatus||"")&&z(l,"copy-value",a),256&t[0]&&c!==(c=p("user-status-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",c)},d(e){e&&T(t),u=!1,d()}}}function vi(e){let t,n,i,o,l,r,s,a,c,u,d=(e[85].userScore??"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="User Score",i=I(),o=$("div"),l=$("span"),r=L(d),z(n,"class","info-categ svelte-pieki3"),z(l,"class","copy svelte-pieki3"),z(l,"copy-value",s=e[85].userScore??""),z(o,"class",a=p("user-score-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(s,a){A(s,t,a),S(t,n),S(t,i),S(t,o),S(o,l),S(l,r),c||(u=j(o,"wheel",e[43]),c=!0)},p(e,t){32&t[0]&&d!==(d=(e[85].userScore??"N/A")+"")&&F(r,d),32&t[0]&&s!==(s=e[85].userScore??"")&&z(l,"copy-value",s),256&t[0]&&a!==(a=p("user-score-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",a)},d(e){e&&T(t),c=!1,u()}}}function bi(e){let t,n,i,o,l,r,s,a,c,u,d=(Nt(e[85].score)??"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Score",i=I(),o=$("div"),l=$("span"),r=L(d),z(n,"class","info-categ svelte-pieki3"),z(l,"class","copy svelte-pieki3"),z(l,"copy-value",s=e[85].score??""),z(o,"class",a=p("score-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")},m(s,a){A(s,t,a),S(t,n),S(t,i),S(t,o),S(o,l),S(l,r),c||(u=j(o,"wheel",e[44]),c=!0)},p(e,t){32&t[0]&&d!==(d=(Nt(e[85].score)??"N/A")+"")&&F(r,d),32&t[0]&&s!==(s=e[85].score??"")&&z(l,"copy-value",s),256&t[0]&&a!==(a=p("score-popup info"+(e[8]?" hasWheel":""))+" svelte-pieki3")&&z(o,"class",a)},d(e){e&&T(t),c=!1,u()}}}function ki(e,t){let n,i,r,s,a,c,u,d,f,m,h,y,g,w,v,b,k,x,E,N,C,P,D,O,U,_,V,q,W,B,R,H,Y,K,G,X,J,Q,Z,ee,te,ne,ie,oe,le,re,se,ae,ce,ue,he,ye,ge,we,ve=t[86],be=t[87],ke=(t[85]?.title?.userPreferred||"N/A")+"",Se=t[20](t[85]),xe=Object.entries(t[85]?.studios||{}).length,Ee=t[14](t[85]).length,Ae=null!=Nt(t[85].score),Te="See "+(t[85].isSeenMore?"Less":"More"),Ne=(t[11](t[85].id)||"N/A")+"",$e=t[85].trailerID&&Gn(),Le=t[85].bannerImageUrl&&Xn(t),Ie=t[85].coverImageUrl&&Jn(t),Ce=t[85]?.description&&ei(t);const je=()=>t[27](r,ve,be),Pe=()=>t[27](null,ve,be);let ze=t[7]&&ti(t),Fe=Se&&ni(t),De=xe&&ri(t),Me=t[85].genres.length&&ai(t),Oe=t[85]?.tags?.length&&ui(t),Ue=Ee&&fi(t),_e=null!=t[85].averageScore&&mi(t),Ve=null!=t[85].popularity&&hi(t),qe=(t[85]?.season||t[85]?.year)&&yi(t),We=t[85].status&&gi(t),Be=t[85].userStatus&&wi(t),Re=null!=t[85].userScore&&vi(t),He=Ae&&bi(t);function Ye(...e){return t[45](t[85],...e)}const Ke=()=>t[46](n,ve,be),Ge=()=>t[46](null,ve,be);return{key:e,first:null,c(){n=$("div"),i=$("div"),r=$("div"),s=$("div"),s.innerHTML='<i class="fa-solid fa-k fa-fade svelte-pieki3"></i>',a=I(),$e&&$e.c(),c=I(),u=$("div"),Le&&Le.c(),d=I(),Ie&&Ie.c(),f=I(),Ce&&Ce.c(),h=I(),y=$("div"),ze&&ze.c(),g=I(),w=$("div"),v=$("h3"),v.textContent="Auto Play",b=I(),k=$("label"),x=$("input"),E=I(),N=$("span"),C=I(),P=$("div"),D=$("div"),O=$("a"),U=L(ke),W=I(),B=$("i"),R=I(),H=$("div"),Fe&&Fe.c(),Y=I(),De&&De.c(),K=I(),Me&&Me.c(),G=I(),Oe&&Oe.c(),X=I(),Ue&&Ue.c(),J=I(),_e&&_e.c(),Q=I(),Ve&&Ve.c(),Z=I(),qe&&qe.c(),ee=I(),We&&We.c(),te=I(),Be&&Be.c(),ne=I(),Re&&Re.c(),ie=I(),He&&He.c(),le=I(),re=$("div"),se=$("button"),ae=L(Te),ce=I(),ue=$("button"),he=L(Ne),z(s,"class","popup-header-loading svelte-pieki3"),z(u,"class","popup-img svelte-pieki3"),z(r,"class",m=p("popup-header "+(t[85].trailerID?"loader":""))+" svelte-pieki3"),z(v,"class","autoplay-label svelte-pieki3"),z(x,"type","checkbox"),z(x,"class","autoplayToggle svelte-pieki3"),z(N,"class","slider round svelte-pieki3"),z(N,"tabindex","0"),z(k,"class","switch svelte-pieki3"),z(w,"class","autoPlay-container svelte-pieki3"),z(y,"class","popup-controls svelte-pieki3"),z(O,"rel","noopener noreferrer"),z(O,"target","_blank"),z(O,"href",_=t[85].animeUrl||""),z(O,"class",V=p(Ei(t[85])+"-color anime-title copy")+" svelte-pieki3"),z(O,"copy-value",q=t[85]?.title?.userPreferred||""),z(B,"class","fa-solid fa-circle-info svelte-pieki3"),z(B,"tabindex","0"),z(D,"class","anime-title-container svelte-pieki3"),z(H,"class",oe=p("info-list "+(t[85].isSeenMore?"seenmore":""))+" svelte-pieki3"),M(H,"--windowWidth",t[3]+"px"),M(H,"--windowHeight",t[4]+"px"),z(se,"class","seemoreless svelte-pieki3"),z(ue,"class","hideshowbtn svelte-pieki3"),z(re,"class","footer svelte-pieki3"),z(P,"class","popup-body svelte-pieki3"),z(i,"class","popup-main svelte-pieki3"),z(n,"class","popup-content svelte-pieki3"),this.first=n},m(e,o){A(e,n,o),S(n,i),S(i,r),S(r,s),S(r,a),$e&&$e.m(r,null),S(r,c),S(r,u),Le&&Le.m(u,null),S(u,d),Ie&&Ie.m(u,null),S(r,f),Ce&&Ce.m(r,null),je(),S(i,h),S(i,y),ze&&ze.m(y,null),S(y,g),S(y,w),S(w,v),S(w,b),S(w,k),S(k,x),x.checked=t[6],S(k,E),S(k,N),S(i,C),S(i,P),S(P,D),S(D,O),S(O,U),S(D,W),S(D,B),S(P,R),S(P,H),Fe&&Fe.m(H,null),S(H,Y),De&&De.m(H,null),S(H,K),Me&&Me.m(H,null),S(H,G),Oe&&Oe.m(H,null),S(H,X),Ue&&Ue.m(H,null),S(H,J),_e&&_e.m(H,null),S(H,Q),Ve&&Ve.m(H,null),S(H,Z),qe&&qe.m(H,null),S(H,ee),We&&We.m(H,null),S(H,te),Be&&Be.m(H,null),S(H,ne),Re&&Re.m(H,null),S(H,ie),He&&He.m(H,null),S(P,le),S(P,re),S(re,se),S(se,ae),S(re,ce),S(re,ue),S(ue,he),Ke(),ye=!0,ge||(we=[j(r,"click",t[21]),j(r,"keydown",t[28]),j(x,"change",t[30]),j(N,"keydown",t[31]),j(B,"click",t[21]),j(B,"keydown",t[32]),j(se,"click",(function(){l(t[13](t[85],t[87]))&&t[13](t[85],t[87]).apply(this,arguments)})),j(se,"keydown",$i),j(ue,"click",(function(){l(t[12](t[85].id))&&t[12](t[85].id).apply(this,arguments)})),j(ue,"keydown",Ye)],ge=!0)},p(e,n){(t=e)[85].trailerID?$e||($e=Gn(),$e.c(),$e.m(r,c)):$e&&($e.d(1),$e=null),t[85].bannerImageUrl?Le?Le.p(t,n):(Le=Xn(t),Le.c(),Le.m(u,d)):Le&&(Le.d(1),Le=null),t[85].coverImageUrl?Ie?Ie.p(t,n):(Ie=Jn(t),Ie.c(),Ie.m(u,null)):Ie&&(Ie.d(1),Ie=null),t[85]?.description?Ce?Ce.p(t,n):(Ce=ei(t),Ce.c(),Ce.m(r,null)):Ce&&(Ce.d(1),Ce=null),(!ye||32&n[0]&&m!==(m=p("popup-header "+(t[85].trailerID?"loader":""))+" svelte-pieki3"))&&z(r,"class",m),ve===t[86]&&be===t[87]||(Pe(),ve=t[86],be=t[87],je()),t[7]?ze?(ze.p(t,n),128&n[0]&&pe(ze,1)):(ze=ti(t),ze.c(),pe(ze,1),ze.m(y,g)):ze&&(de(),me(ze,1,1,(()=>{ze=null})),fe()),64&n[0]&&(x.checked=t[6]),(!ye||32&n[0])&&ke!==(ke=(t[85]?.title?.userPreferred||"N/A")+"")&&F(U,ke),(!ye||32&n[0]&&_!==(_=t[85].animeUrl||""))&&z(O,"href",_),(!ye||32&n[0]&&V!==(V=p(Ei(t[85])+"-color anime-title copy")+" svelte-pieki3"))&&z(O,"class",V),(!ye||32&n[0]&&q!==(q=t[85]?.title?.userPreferred||""))&&z(O,"copy-value",q),32&n[0]&&(Se=t[20](t[85])),Se?Fe?Fe.p(t,n):(Fe=ni(t),Fe.c(),Fe.m(H,Y)):Fe&&(Fe.d(1),Fe=null),32&n[0]&&(xe=Object.entries(t[85]?.studios||{}).length),xe?De?De.p(t,n):(De=ri(t),De.c(),De.m(H,K)):De&&(De.d(1),De=null),t[85].genres.length?Me?Me.p(t,n):(Me=ai(t),Me.c(),Me.m(H,G)):Me&&(Me.d(1),Me=null),t[85]?.tags?.length?Oe?Oe.p(t,n):(Oe=ui(t),Oe.c(),Oe.m(H,X)):Oe&&(Oe.d(1),Oe=null),32&n[0]&&(Ee=t[14](t[85]).length),Ee?Ue?Ue.p(t,n):(Ue=fi(t),Ue.c(),Ue.m(H,J)):Ue&&(Ue.d(1),Ue=null),null!=t[85].averageScore?_e?_e.p(t,n):(_e=mi(t),_e.c(),_e.m(H,Q)):_e&&(_e.d(1),_e=null),null!=t[85].popularity?Ve?Ve.p(t,n):(Ve=hi(t),Ve.c(),Ve.m(H,Z)):Ve&&(Ve.d(1),Ve=null),t[85]?.season||t[85]?.year?qe?qe.p(t,n):(qe=yi(t),qe.c(),qe.m(H,ee)):qe&&(qe.d(1),qe=null),t[85].status?We?We.p(t,n):(We=gi(t),We.c(),We.m(H,te)):We&&(We.d(1),We=null),t[85].userStatus?Be?Be.p(t,n):(Be=wi(t),Be.c(),Be.m(H,ne)):Be&&(Be.d(1),Be=null),null!=t[85].userScore?Re?Re.p(t,n):(Re=vi(t),Re.c(),Re.m(H,ie)):Re&&(Re.d(1),Re=null),32&n[0]&&(Ae=null!=Nt(t[85].score)),Ae?He?He.p(t,n):(He=bi(t),He.c(),He.m(H,null)):He&&(He.d(1),He=null),(!ye||32&n[0]&&oe!==(oe=p("info-list "+(t[85].isSeenMore?"seenmore":""))+" svelte-pieki3"))&&z(H,"class",oe),8&n[0]&&M(H,"--windowWidth",t[3]+"px"),16&n[0]&&M(H,"--windowHeight",t[4]+"px"),(!ye||32&n[0])&&Te!==(Te="See "+(t[85].isSeenMore?"Less":"More"))&&F(ae,Te),(!ye||32&n[0])&&Ne!==(Ne=(t[11](t[85].id)||"N/A")+"")&&F(he,Ne),ve===t[86]&&be===t[87]||(Ge(),ve=t[86],be=t[87],Ke())},i(e){ye||(pe(ze),ye=!0)},o(e){me(ze),ye=!1},d(e){e&&T(n),$e&&$e.d(),Le&&Le.d(),Ie&&Ie.d(),Ce&&Ce.d(),Pe(),ze&&ze.d(),Fe&&Fe.d(),De&&De.d(),Me&&Me.d(),Oe&&Oe.d(),Ue&&Ue.d(),_e&&_e.d(),Ve&&Ve.d(),qe&&qe.d(),We&&We.d(),Be&&Be.d(),Re&&Re.d(),He&&He.d(),Ge(),ge=!1,o(we)}}}function Si(e){let t;return{c(){t=$("div"),t.innerHTML='<i class="popup-content-loading-icon fa-solid fa-k fa-fade svelte-pieki3"></i>',z(t,"class","popup-content-loading svelte-pieki3")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function xi(e){let t,n,i,l,r,s=e[5]?.length&&Kn(e);return{c(){t=$("div"),n=$("div"),s&&s.c(),z(n,"id","popup-container"),z(n,"class","popup-container hide svelte-pieki3"),M(n,"--translateY",e[4]+"px"),z(t,"id","popup-wrapper"),z(t,"class","popup-wrapper svelte-pieki3")},m(o,a){A(o,t,a),S(t,n),s&&s.m(n,null),e[47](n),e[49](t),i=!0,l||(r=[j(t,"click",e[10]),j(t,"keydown",e[48])],l=!0)},p(e,t){e[5]?.length?s?(s.p(e,t),32&t[0]&&pe(s,1)):(s=Kn(e),s.c(),pe(s,1),s.m(n,null)):s&&(de(),me(s,1,1,(()=>{s=null})),fe()),16&t[0]&&M(n,"--translateY",e[4]+"px")},i(e){i||(pe(s),i=!0)},o(e){me(s),i=!1},d(n){n&&T(t),s&&s.d(),e[47](null),e[49](null),l=!1,o(r)}}}function Ei({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:i}){return e?.caution?.length?"red":i<t?"purple":i<n?"orange":e?.semiCaution?.length?"teal":"green"}function Ai(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}function Ti(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}function Ni(e){var t=document.createElement("span");t.innerHTML=e;let n=t.querySelectorAll("a");return Array.from(n).forEach((e=>{e?.setAttribute("rel","noopener noreferrer"),e?.setAttribute("target","_blank")})),t.innerHTML}const $i=e=>"Enter"===e.key;function Li(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w,v,b,k,S,x,E;d(e,Me,(e=>n(63,i=e))),d(e,He,(e=>n(64,o=e))),d(e,gt,(e=>n(65,l=e))),d(e,Fe,(e=>n(5,r=e))),d(e,Ke,(e=>n(66,s=e))),d(e,$e,(e=>n(67,a=e))),d(e,Ye,(e=>n(6,c=e))),d(e,Le,(e=>n(68,u=e))),d(e,rt,(e=>n(69,f=e))),d(e,tt,(e=>n(70,p=e))),d(e,je,(e=>n(71,h=e))),d(e,et,(e=>n(72,y=e))),d(e,De,(e=>n(73,g=e))),d(e,ct,(e=>n(7,w=e))),d(e,nt,(e=>n(74,v=e))),d(e,Je,(e=>n(75,b=e))),d(e,st,(e=>n(76,k=e))),d(e,Xe,(e=>n(77,S=e))),d(e,Ie,(e=>n(8,x=e))),d(e,Ze,(e=>n(9,E=e)));let A,T=window.navigator.onLine,N=50;(async()=>{N=await qn("savedYtVolume")||50})();let $,L,I,C,j,P,z,F,D,M=window.visualViewport.width,O=window.visualViewport.height;function U(e){let t=e.target,n=t.classList;t.closest(".popup-container")||n.contains("popup-container")||m(rt,f=!1,f)}async function _(e){h[e]?await v("Are you sure you want to show the anime?")&&(delete h[e],je.set(h),r.length&&g instanceof Worker&&S().then((()=>{g.postMessage({removeID:e})}))):await v("Are you sure you want to hide the anime?")&&(m(je,h[e]=!0,h),r.length&&g instanceof Worker&&S().then((()=>{g.postMessage({removeID:e})})))}async function V(){if(!f)return;await ee();let e,t=L?.querySelector?.(".trailer"),n=At(L?.closest?.(".popup-content"))??-1;if(F&&clearTimeout(F),F=setTimeout((()=>{if(!f)return;let e=r?.[n]?.gridElement||$.children?.[n];f&&e instanceof Element&&!function(e,t,n=0){try{var i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),l=getComputedStyle(e).overflowX,r=getComputedStyle(e).overflowY;if("auto"===l||"scroll"===l||"auto"===r||"scroll"===r){var s=e.scrollLeft,a=e.scrollTop,c=i.top>=o.top&&i.left>=o.left&&i.bottom<=o.bottom&&i.right<=o.right;if(c||(c=(Math.max(i.top,o.top)-Math.min(i.bottom,o.bottom))*(Math.max(i.left,o.left)-Math.min(i.right,o.right))/(Math.min(i.height,window.innerHeight)*Math.min(i.width,window.innerWidth))>=n),!c)return!1;i={top:i.top-o.top+a,left:i.left-o.left+s,bottom:i.bottom-o.top+a,right:i.right-o.left+s,height:i.height,width:i.width}}var u=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth;return i.top>=0&&i.left>=0&&i.bottom<=u&&i.right<=d}catch(e){return}}($,e,.5)&&(window.scrollY=window.scrollY,window.scrollX=window.scrollX,e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),300),t instanceof Element&&(e=o?.some((({ytPlayer:e})=>e.g===t))),e){if(n>=0){I=n;let e=[[r?.[n+1],n+1],[r?.[n-1],n-1]];D&&clearTimeout(D),D=setTimeout((async()=>{f&&e.forEach((([e,t])=>{e&&B(e,t)}))}),300)}for(let e=0;e<o.length;e++)o[e].ytPlayer.g===t&&1!==o[e].ytPlayer?.getPlayerState?.()&&c?(await ee(),j?.classList?.contains?.("visible")&&u&&(R(o[e].ytPlayer),o[e].ytPlayer?.playVideo?.())):o[e].ytPlayer.g!==t&&o[e].ytPlayer?.pauseVideo?.()}else if(o?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),n>=0){I=n;let e=[[r?.[n],n],[r?.[n+1],n+1],[r?.[n-1],n-1]];D&&clearTimeout(D),D=setTimeout((async()=>{f&&e.forEach((([e,t])=>{e&&B(e,t)}))}),300)}}Qe.subscribe((async e=>{if(f&&e>=0){await ee();let t=P?.children[e];t instanceof Element&&P instanceof Element&&Tt(P,t,"top")}})),je.subscribe((async e=>{kt(e)&&await Vn(e,"hiddenEntries")})),rt.subscribe((async e=>{if(j instanceof Element&&P instanceof Element)if(!0===e){P.style.setProperty("--translateY",O+"px");let e=P?.children[k??I??0];if(e instanceof Element){Tt(P,e,"top","instant"),jt(j,"visible"),jt(P,"show"),I=k;let t,n=[[r[k],k],[r[k+1],k+1],[r[k-1],k-1]],i=n[0][0]?.popupHeader?.querySelector?.(".trailer")||P?.children?.[k]?.querySelector?.(".trailer");for(let e=0;e<o.length;e++)if(o[e].ytPlayer.g===i&&(t=!0,c)){await ee(),j?.classList?.contains?.("visible")&&u&&(R(o[e].ytPlayer),o[e].ytPlayer?.playVideo?.());break}n.forEach((([e,n],i)=>{t&&e&&0===i||e&&B(e,n)})),m(st,k=null,k)}else jt(j,"visible"),jt(P,"show")}else!1===e&&(Pt(P,"show"),jt(P,"hide"),setTimeout((()=>{o?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),Pt(j,"visible")}),300))})),Fe.subscribe((async e=>{if(e instanceof Array&&e.length){z&&(z?.disconnect?.(),z=null),await ee(),z=new IntersectionObserver((e=>{if(!f)return;let t=[];if(e.forEach((e=>{if(!f)return;let n=e.target;e.isIntersecting&&(e.intersectionRatio>=.5||O<=360&&e.intersectionRatio>0)&&t.push(n)})),t.length){let e=Et(P,t,O>360?.5:0)||Et(P,P.children,0)?.getElementsByClassName("popup-header")?.[0];L=e,V()}}),{root:null,rootMargin:"100%",threshold:[.5,0]}),e.forEach((async(e,t)=>{let n=e.popupHeader||P.children?.[t]?.querySelector?.(".popup-header");n instanceof Element&&z?.observe?.(n)}));let t=r[r.length-1].popupContent||P.children?.[r.length-1];b&&t instanceof Element&&b.observe(t),V()}else e instanceof Array&&e.length<1&&m(rt,f=!1,f)})),Ye.subscribe((async e=>{if("boolean"==typeof e)if(await Vn(e,"autoPlay"),!0===e){await ee();let e=L?.querySelector?.(".trailer");for(let t=0;t<o.length;t++)o[t].ytPlayer.g===e&&u?(R(o[t].ytPlayer),o[t].ytPlayer?.playVideo?.()):o[t].ytPlayer?.pauseVideo?.()}else o.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()}))})),H((()=>{setInterval((()=>{n(0,A=new Date)}),1e3),n(1,j=j||document.getElementById("popup-wrapper")),n(2,P=P||j.querySelector("#popup-container")),$=document.getElementById("anime-grid"),window.addEventListener("resize",(()=>{document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||(n(3,M=window.visualViewport.width),n(4,O=window.visualViewport.height))})),document.addEventListener("keydown",(async e=>{if(" "===e.key&&f){e.preventDefault();let t=L?.querySelector?.(".trailer"),n=o?.some((({ytPlayer:e})=>t===e.g&&1===e?.getPlayerState?.()));if(o.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()})),!n){await ee();for(let e=0;e<o.length;e++)if(o[e].ytPlayer.g===t&&u){R(o[e].ytPlayer),o[e].ytPlayer?.playVideo?.();break}}}else e.ctrlKey&&"x"===e.key?.toLowerCase?.()?(e.preventDefault(),m(rt,f=!f,f)):e.ctrlKey&&"k"===e.key?.toLowerCase?.()&&(e.preventDefault(),m(Ye,c=!c,c))}))}));let q,W={};function B(e,t){let n=e?.popupHeader||P.children?.[t]?.querySelector(".popup-header"),i=n?.querySelector?.(".trailer")||n?.querySelector?.(".trailer"),l=e?.trailerID;if(i instanceof Element&&l&&"undefined"!=typeof YT){if(o.some((({ytPlayer:e})=>e.g===i)))return;jt(n,"loader");let s=n?.querySelector?.(".popup-img");if(e?.bannerImageUrl&&!W[e.id]){let e=s.querySelector(".coverImg");jt(e,"display-none"),jt(e,"fade-out")}if(o.length>=3){let e=0,t=-1/0;o.forEach(((n,i)=>{if(-1===n.headerIdx)return;let o=Math.abs(n.headerIdx-I);o>t&&(t=o,e=i)}));let l=o?.splice?.(e,1)?.[0]?.ytPlayer,r=l?.g?.closest?.(".popup-header");l?.destroy?.();let a=r?.querySelector?.(".popup-img");a instanceof Element&&Pt(a,"display-none");let c=document.createElement("div");c.className="trailer",jt(i,"display-none"),Pt(s,"display-none"),n.replaceChild(c,i),jt(i,"display-none"),i=n.querySelector(".trailer")}else jt(i,"display-none");Pt(s,"display-none"),i.setAttribute("id","yt-player"+Date.now()+Math.random());let a=new YT.Player(i,{playerVars:{cc_lang_pref:"en",cc_load_policy:1,enablejsapi:1,modestbranding:1,playsinline:1,playlist:l,rel:0},events:{onReady:e=>{!async function(e){let t=e.target,n=t?.g,i=n?.parentElement,l=i?.closest?.(".popup-content"),s=r?.[At(l)??-1];if(-1!==t.getPlayerState()&&"IFRAME"===n.tagName&&T){if(n?.setAttribute?.("loading","lazy"),!c){let e=i?.querySelector?.(".popup-img");jt(e,"fade-out"),Pt(i,"loader"),Pt(n,"display-none"),setTimeout((()=>{jt(e,"display-none"),Pt(e,"fade-out")}),300)}V(),delete W[s.id]}else{W[s.id]=!0,m(He,o=o.filter((e=>e.ytPlayer!==t)),o),t.destroy(),jt(n,"display-none"),Pt(i,"loader");let e=i?.querySelector?.(".popup-img"),l=e.querySelector(".coverImg");jt(l,"fade-out"),Pt(l,"fade-in"),jt(l,"fade-in"),Pt(l,"display-none"),Pt(l,"fade-out"),Pt(e,"display-none")}}(e)},onStateChange:e=>{!function(e){let t=e.target;if(!t||!t?.getPlayerState)return;let n=t?.g,i=n?.parentElement,l=i?.querySelector?.(".popup-img");0===t?.getPlayerState?.()&&t?.seekTo?.(0,!0);1!==t?.getPlayerState?.()||!n?.classList?.contains?.("display-none")&&l?.classList?.contains?.("display-none")||(o?.forEach((({ytPlayer:e})=>e?.g!==t?.g&&e?.pauseVideo?.())),C=t,jt(l,"fade-out"),Pt(i,"loader"),Pt(n,"display-none"),setTimeout((()=>{jt(l,"display-none"),Pt(l,"fade-out")}),300))}(e)},onError:e=>{!function(e){let t=e.target,n=t?.g,i=n?.parentElement,l=i?.querySelector?.(".popup-img");m(He,o=o.filter((e=>e.ytPlayer!==t)),o),t.destroy(),jt(n,"display-none"),Pt(i,"loader");let r=l.querySelector(".coverImg");jt(r,"fade-out"),Pt(r,"fade-in"),jt(r,"fade-in"),Pt(r,"display-none"),Pt(r,"fade-out"),Pt(l,"display-none")}(e)}}}),u=`https://www.youtube.com/embed/${l}`;i.setAttribute("src",u),o.push({ytPlayer:a,headerIdx:t})}else{let e=n?.querySelector?.(".popup-img"),t=e.querySelector(".coverImg");Pt(n,"loader"),Pt(t,"display-none"),Pt(e,"display-none")}}function R(e){if(C?.isMuted&&C?.getVolume){let t=C?.isMuted?.(),n=C?.getVolume?.();"boolean"==typeof t&&(t?e?.mute?.():e?.unMute?.()),"number"==typeof n&&(N!==n&&(N=n,Vn(N,"savedYtVolume")),e?.setVolume?.(N))}}async function Y(e){if(await v({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,o=n.classList;t=o.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),q&&clearTimeout(q),jt(t,"fa-spin"),g&&(g.terminate(),m(De,g=null,g)),hn().then((async e=>{m(ct,w=!1,w),q=setTimeout((()=>{Pt(t,"fa-spin")}),300),m(De,g=e.animeLoaderWorker,g),m(et,y="",y),e?.isNew&&(m(Fe,r=e.finalAnimeList,r),m(je,h=e.hiddenEntries,h),m(tt,p=e.numberOfNextLoadedGrid,p)),m(Me,i=null,i)})).catch((e=>{throw e}))}}let G=!1;function X(e){let t=e.target.closest(".popup-main"),n=t?.querySelector?.(".anime-description-container");if(n){n.classList.contains("display-none")?(Pt(n,"display-none"),Pt(n,"fade-out"),jt(n,"fade-in")):(Pt(n,"fade-in"),jt(n,"fade-out"),setTimeout((()=>{jt(n,"display-none"),jt(n,"fade-out")}),300))}}function J(e){let t=e.target;t.classList.contains("anime-description-container")||(t=t.closest(".anime-description-container")),t&&(Pt(t,"fade-in"),jt(t,"fade-out"),setTimeout((()=>{jt(t,"display-none"),jt(t,"fade-out")}),300))}window.returnedAppIsVisible=e=>{if(!a)return;if(m(Le,u=e,u),!f||s)return;let t=L?.querySelector?.(".trailer");if(t)if(u)for(let e=0;e<o.length;e++)o[e]?.ytPlayer.g===t&&(c||2===o[e]?.ytPlayer?.getPlayerState?.()&&G)?(R(o[e]?.ytPlayer),o[e]?.ytPlayer?.playVideo?.()):o[e]?.ytPlayer?.pauseVideo?.();else{G=!1;for(let e=0;e<o.length;e++)o[e]?.ytPlayer.g===t&&1===o[e]?.ytPlayer?.getPlayerState?.()&&(G=!0),o[e]?.ytPlayer?.pauseVideo?.()}},document.addEventListener("visibilitychange",(()=>{if(a)return;if(m(Le,u="visible"===document.visibilityState,u),!f||s)return;let e=L?.querySelector?.(".trailer");if(e)if(u)for(let t=0;t<o.length;t++)o[t]?.ytPlayer.g===e&&(c||2===o[t]?.ytPlayer?.getPlayerState?.()&&G)?(R(o[t]?.ytPlayer),o[t]?.ytPlayer?.playVideo?.()):o[t]?.ytPlayer?.pauseVideo?.();else{G=!1;for(let t=0;t<o.length;t++)o[t]?.ytPlayer.g===e&&1===o[t]?.ytPlayer?.getPlayerState?.()&&(G=!0),o[t]?.ytPlayer?.pauseVideo?.()}})),window.addEventListener("online",(()=>{if(a)try{JSBridge.isOnline(!0)}catch(e){}m(Me,i="Reconnected Successfully",i),s&&m(Ke,s=!1,s),r?.length||m(gt,l=!l,l),T=!0,document.querySelectorAll("link")?.forEach((e=>{e.href&&(e.href=e.href)})),document.querySelectorAll("script")?.forEach((e=>{e.src&&"https://www.youtube.com/iframe_api?v=16"!==e.src&&(e.src=e.src)})),document.querySelectorAll("img")?.forEach((e=>{e.naturalHeight||(e.src=e.src)})),new Promise((e=>{var t=document.getElementById("www-widgetapi-script");t&&t.parentElement.removeChild(t);var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api?v=16",n.onerror=()=>{e()},n.onload=()=>{window?.onYouTubeIframeAPIReady?.(),e()};var i=document.getElementsByTagName("script")[0];i.parentElement.insertBefore(n,i)})).then((()=>{m(He,o=o.filter((({ytPlayer:e})=>{if("function"!=typeof e?.playVideo||-1===e.getPlayerState()||isNaN(e.getPlayerState())){e.destroy();let t=e?.g?.closest?.(".popup-header")?.querySelector?.(".popup-img");return t instanceof Element&&Pt(t,"display-none"),!1}return!0})),o),V()}))})),window.addEventListener("offline",(()=>{m(Me,i="Currently Offline...",i),T=!1}));return[A,j,P,M,O,r,c,w,x,E,U,function(e){return h?h[e]?"Show":"Hide":"N/A"},_,async function(e,t){if(r[t]){m(Fe,r[t].isSeenMore=!r[t].isSeenMore,r),await ee();let n=e.popupContent||P.children?.[t],i=n?.getElementsByClassName?.("popup-header")[0];n instanceof Element&&(Tt(P,n,"bottom","instant"),L=i,V())}},function({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:i}){let o=[];return i<t?o.push({caution:`Very Low Score (mean: ${Nt(t)})`,cautionColor:"purple"}):i<n&&o.push({caution:`Low Score (mean: ${Nt(n)})`,cautionColor:"orange"}),e?.caution?.length&&(o=o.concat(e?.caution.map((e=>({caution:e,cautionColor:"red"}))))),e?.semiCaution?.length&&(o=o.concat(e?.semiCaution.map((e=>({caution:e,cautionColor:"teal"}))))),o},Y,function(e){return $t(e,"completed")?"green":$t(e,"current")||$t(e,"repeating")?"blue":$t(e,"planning")?"orange":$t(e,"paused")?"peach":$t(e,"dropped")?"red":void 0},function(e,t,n){if(!e?.length)return e;let i=kt(t)&&!St(t),o=kt(n)&&!St(n),l={},r={};o&&(n?.caution.forEach((e=>{l[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{r[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],u=[],d={};return e.forEach((e=>{let n=e?.trim?.().toLowerCase?.();o&&(l[n]?(d[e]=!0,a.push({tag:e,tagColor:"red"})):r[n]&&(d[e]=!0,c.push({tag:e,tagColor:"teal"}))),i&&!d[e]&&t[n]&&(d[e]=!0,s.push({tag:e,score:t[n]})),d[e]||u.push({tag:e,tagColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>({tag:`${e.tag} (${Nt(e.score)})`,tagColor:"green"}))),a.concat(c).concat(s).concat(u)},function(e,t){if(!e?.length)return e;let n=kt(t)&&!St(t),i=[],o=[];return e.forEach((([e,l])=>{if(n){let n=e?.trim?.().toLowerCase?.();t[n]?i.push({studio:[e,l],score:t[n]}):o.push({studio:{studioName:e,studioUrl:l},studioColor:null})}else o.push({studio:{studioName:e,studioUrl:l},studioColor:null})})),i.sort(((e,t)=>t.score-e.score)),i=i.map((e=>({studio:{studioName:`${e.studio[0]} (${Nt(e.score)})`,studioUrl:e.studio[1]},studioColor:"green"}))),i.concat(o)},function(e,t,n){if(!e?.length)return e;let i=kt(t)&&!St(t),o=kt(n)&&!St(n),l={},r={};o&&(n?.caution.forEach((e=>{l[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{r[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],u=[],d={};return e.forEach((e=>{let n=e?.trim?.().toLowerCase?.();o&&(l[n]?(d[e]=!0,a.push({genre:e,genreColor:"red"})):r[n]&&(d[e]=!0,c.push({genre:e,genreColor:"teal"}))),i&&!d[e]&&t[n]&&(d[e]=!0,s.push({genre:e,score:t[n]})),d[e]||u.push({genre:e,genreColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>({genre:`${e.genre} (${Nt(e.score)})`,genreColor:"green"}))),s.concat(a).concat(c).concat(u)},function({episodes:e,format:t,duration:n,nextAiringEpisode:i}){let o=t;if(t){let l,r;if(o=`${t}`,"number"==typeof i?.episode&&"number"==typeof i?.airingAt){let e=new Date(1e3*i?.airingAt);r=i?.episode,e instanceof Date&&!isNaN(e)&&(l=e.getTime()-(new Date).getTime())}if(l>0&&"number"==typeof r&&e>r?o+=` (${r}/${e} in ${xt(l,1)})`:l>0&&"number"==typeof r&&"number"!=typeof e?o+=` (Ep ${r} in ${xt(l,1)})`:l<=0&&"number"==typeof r&&e>r?o+=` (${r}/${e})`:e>0&&(o+=` (${e})`),n>0){let e=xt(60*n*1e3);o+=` | ${e||""}`}}return o},X,J,e=>{Pt(e.target,"fade-out"),jt(e.target,"fade-in")},e=>{Pt(e.target,"fade-out"),jt(e.target,"fade-in")},e=>{Pt(e.target,"fade-out"),jt(e.target,"fade-in")},e=>"Enter"===e.key&&J(e),function(e,t,n){K[e?"unshift":"push"]((()=>{t[n].popupHeader=e}))},e=>"Enter"===e.key&&X(e),e=>"Enter"===e.key&&Y(e),function(){c=this.checked,Ye.set(c)},e=>"Enter"===e.key&&m(Ye,c=!c,c),e=>"Enter"===e.key&&X(e),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),e=>Ai(e,"info"),(e,t)=>"Enter"===t.key&&_(e.id),function(e,t,n){K[e?"unshift":"push"]((()=>{t[n].popupContent=e}))},function(e){K[e?"unshift":"push"]((()=>{P=e,n(2,P)}))},e=>"Enter"===e.key&&U(e),function(e){K[e?"unshift":"push"]((()=>{j=e,n(1,j)}))}]}function Ii(e){let t,n,i,l,r,s,a,c,u,d,f,p,m,h,y,g,w,v,b,k,x,E,N=(e[3][e[1]]?"Show":"Hide")+" Anime";return{c(){t=$("div"),n=$("div"),i=$("div"),l=$("span"),r=$("h1"),s=L(e[0]),a=I(),c=$("div"),c.textContent="×",u=I(),d=$("span"),d.innerHTML='<h2 class="option-title svelte-l9gjbd">Open Anime</h2>',f=I(),p=$("span"),p.innerHTML='<h2 class="option-title svelte-l9gjbd">Open In Anilist</h2>',m=I(),h=$("span"),h.innerHTML='<h2 class="option-title svelte-l9gjbd">Copy Title</h2>',y=I(),g=$("span"),w=$("h2"),v=L(N),z(r,"class","svelte-l9gjbd"),z(l,"class","anime-title svelte-l9gjbd"),z(c,"class","closing-x svelte-l9gjbd"),z(c,"tabindex","0"),z(i,"class","option-header svelte-l9gjbd"),z(d,"class","anime-option svelte-l9gjbd"),z(p,"class","anime-option svelte-l9gjbd"),z(h,"class","anime-option svelte-l9gjbd"),z(w,"class","option-title svelte-l9gjbd"),z(g,"class","anime-option svelte-l9gjbd"),z(n,"class","anime-options-container svelte-l9gjbd"),z(t,"class","anime-options svelte-l9gjbd")},m(o,b){A(o,t,b),S(t,n),S(n,i),S(i,l),S(l,r),S(r,s),S(i,a),S(i,c),S(n,u),S(n,d),S(n,f),S(n,p),S(n,m),S(n,h),S(n,y),S(n,g),S(g,w),S(w,v),k=!0,x||(E=[j(c,"click",e[4]),j(c,"keydown",e[9]),j(d,"click",e[5]),j(d,"keydown",e[10]),j(p,"click",e[6]),j(p,"keydown",e[11]),j(h,"click",e[7]),j(h,"keydown",e[12]),j(g,"click",e[8]),j(g,"keydown",e[13]),j(t,"click",e[4]),j(t,"keydown",e[14])],x=!0)},p(e,t){(!k||1&t)&&F(s,e[0]),(!k||10&t)&&N!==(N=(e[3][e[1]]?"Show":"Hide")+" Anime")&&F(v,N)},i(e){k||(te((()=>{k&&(b||(b=ye(n,Dt,{y:20,duration:300},!0)),b.run(1))})),k=!0)},o(e){b||(b=ye(n,Dt,{y:20,duration:300},!1)),b.run(0),k=!1},d(e){e&&T(t),e&&b&&b.end(),x=!1,o(E)}}}function Ci(e){let t,n,i=e[2]&&Ii(e);return{c(){i&&i.c(),t=C()},m(e,o){i&&i.m(e,o),A(e,t,o),n=!0},p(e,[n]){e[2]?i?(i.p(e,n),4&n&&pe(i,1)):(i=Ii(e),i.c(),pe(i,1),i.m(t.parentNode,t)):i&&(de(),me(i,1,1,(()=>{i=null})),fe())},i(e){n||(pe(i),n=!0)},o(e){me(i),n=!1},d(e){i&&i.d(e),e&&T(t)}}}function ji(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w;d(e,ot,(e=>n(2,i=e))),d(e,De,(e=>n(19,o=e))),d(e,Xe,(e=>n(20,l=e))),d(e,Fe,(e=>n(21,r=e))),d(e,je,(e=>n(3,s=e))),d(e,nt,(e=>n(22,a=e))),d(e,$e,(e=>n(23,c=e))),d(e,rt,(e=>n(24,u=e))),d(e,st,(e=>n(25,f=e))),d(e,lt,(e=>n(26,p=e)));let v,b=!0;function k(e){if(b&&"keydown"!==e.type)return;let t=e.target,n=t.classList;(n.contains("closing-x")||!t.closest(".anime-options-container")&&!n.contains("anime-options-container"))&&m(ot,i=!1,i)}function S(e){b&&"keydown"!==e.type||(m(st,f=w,f),m(rt,u=!0,u),m(ot,i=!1,i))}function x(e){b&&"keydown"!==e.type||(g&&window.open(g,"_blank"),m(ot,i=!1,i))}function E(e){if((!b||"keydown"===e.type)&&h){if(c)try{JSBridge.copyToClipBoard(h)}catch(e){}else navigator?.clipboard?.writeText?.(h);m(ot,i=!1,i)}}async function A(e){if(b&&"keydown"!==e.type)return;s[y]?await a("Are you sure you want to show the anime?")&&(delete s[y],je.set(s),r.length&&o instanceof Worker&&l().then((()=>{o.postMessage({removeID:y})})),m(ot,i=!1,i)):await a("Are you sure you want to hide the anime?")&&(m(je,s[y]=!0,s),r.length&&o instanceof Worker&&l().then((()=>{o.postMessage({removeID:y})})),m(ot,i=!1,i))}ot.subscribe((e=>{if(!0===e){b=!0,v=setTimeout((()=>{b=!1}),500);let e=r[p];e&&(n(0,h=e?.title?.userPreferred),n(1,y=e.id),g=e.animeUrl,w=p),m(lt,p=null,p)}else v&&clearTimeout(v),b=!1}));return[h,y,i,s,k,S,x,E,A,e=>"Enter"===e.key&&k(e),e=>"Enter"===e.key&&S(e),e=>"Enter"===e.key&&x(e),e=>"Enter"===e.key&&E(e),e=>"Enter"===e.key&&A(e),e=>"Enter"===e.key&&k(e)]}function Pi(t){let n,i,l,r,s,c,u,d,f,m,h,y,g,w,v,b,k=(t[0]||"Your Anilist Username")+"";return{c(){n=$("div"),i=$("nav"),l=$("i"),r=I(),s=$("div"),c=$("input"),u=I(),d=$("div"),f=L(k),h=I(),y=$("img"),z(l,"class",p("goback fa-solid fa-arrow-left")+" svelte-1udx5d2"),z(c,"id","usernameInput"),z(c,"type","search"),z(c,"enterkeyhint","search"),z(c,"autocomplete","off"),z(c,"placeholder","Your Anilist Username"),z(c,"class","svelte-1udx5d2"),z(d,"class",m=p("usernameText "+(t[6]&&(t[4]||t[5]||t[2]>40||window.scrollY>40)?"animate":""))+" svelte-1udx5d2"),z(s,"class","input-search svelte-1udx5d2"),z(y,"class","logo-icon svelte-1udx5d2"),a(y.src,g="./images/Kanshi-Logo.png")||z(y,"src","./images/Kanshi-Logo.png"),z(y,"alt","Kanshi Logo"),z(y,"tabindex","0"),z(i,"id","nav"),z(i,"class",w=p("nav "+(t[4]||t[5]?"popupvisible":t[1]===document?.activeElement?"inputfocused":""))+" svelte-1udx5d2"),z(n,"class","nav-container svelte-1udx5d2")},m(e,o){A(e,n,o),S(n,i),S(i,l),S(i,r),S(i,s),S(s,c),D(c,t[0]),t[17](c),S(s,u),S(s,d),S(d,f),S(i,h),S(i,y),t[19](i),v||(b=[j(l,"click",t[10]),j(l,"keydown",t[14]),j(c,"keydown",t[15]),j(c,"focusin",t[13]),j(c,"focusout",t[13]),j(c,"input",t[16]),j(d,"click",t[9]),j(d,"keydown",t[18]),j(y,"pointerdown",t[11]),j(y,"pointerup",t[12]),j(y,"pointercancel",t[12]),j(n,"keydown",t[20]),j(n,"click",t[8])],v=!0)},p(e,t){1&t[0]&&c.value!==e[0]&&D(c,e[0]),1&t[0]&&k!==(k=(e[0]||"Your Anilist Username")+"")&&F(f,k),116&t[0]&&m!==(m=p("usernameText "+(e[6]&&(e[4]||e[5]||e[2]>40||window.scrollY>40)?"animate":""))+" svelte-1udx5d2")&&z(d,"class",m),50&t[0]&&w!==(w=p("nav "+(e[4]||e[5]?"popupvisible":e[1]===document?.activeElement?"inputfocused":""))+" svelte-1udx5d2")&&z(i,"class",w)},i:e,o:e,d(e){e&&T(n),t[17](null),t[19](null),v=!1,o(b)}}}function zi(e,t,n){let i,o,l,r,s,a,c,u;d(e,nt,(e=>n(26,i=e))),d(e,Ge,(e=>n(27,o=e))),d(e,rt,(e=>n(4,l=e))),d(e,it,(e=>n(5,r=e))),d(e,Me,(e=>n(6,s=e))),d(e,Ce,(e=>n(28,a=e))),d(e,Fe,(e=>n(29,c=e))),d(e,Ke,(e=>n(30,u=e)));let f,p,h,y,g,w,v=[],b="",k=window.scrollY,S=!1;async function x(e){if(u)return await async function(){return await i({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}(),void A();let t=e.target,o=t.classList;if("Enter"===e.key||"click"===e.type&&(o.contains("searchBtn")||t?.closest?.(".searchBtn"))){if(!b)return;if(b!==a){if(!navigator.onLine)return i({isAlert:!0,title:"Currently Offline",text:"It seems that you're currently offline and unable to update."});(async()=>{a?await i(`Currently connected to ${a}, do you want to change account?`)?(m(it,r=!1,r),l||(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(Fe,c=null,c)),m(Me,s="Getting User Entries",s),En({username:b}).then((({newusername:e})=>{e&&(n(0,b=m(Ce,a=e||"",a)),ht.update((e=>!e)))})).catch((e=>{m(Me,s="Something went wrong...",s),console.error(e)}))):A():await i(`Are you sure you want to connect to ${b}?`)?(m(it,r=!1,r),l||(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(Fe,c=null,c)),m(Me,s="Getting User Entries",s),await En({username:b}).then((({newusername:e})=>{e&&n(0,b=m(Ce,a=e||"",a)),ht.update((e=>!e))})).catch((e=>{m(Me,s="Something went wrong...",s),console.error(e)}))):A()})()}else y?.blur?.(),S=!1}}function E(e){if(w)return void(w=!1);let t=e.target.classList;return t.contains("nav")||t.contains("logo-icon")?S&&!t.contains("logo-icon")?(y?.blur?.(),void(S=!1)):void m(it,r=!r,r):void 0}async function A(){y?.focus?.()}function T(){y===document.activeElement||S?(y?.blur?.(),S=!1):r?m(it,r=!r,r):l&&m(rt,l=!1,l)}var N;H((()=>{n(3,h=h||document?.getElementById("nav")),n(1,y=y||document?.getElementById("usernameInput")),f=f||document?.getElementById("anime-grid"),p=p||document?.getElementById("popup-container"),v.push(Ce.subscribe((e=>{n(0,b=e||"")}))),document.addEventListener("scroll",(()=>{n(2,k=window.scrollY)}))})),N=()=>{v.forEach((e=>e()))},R().$$.on_destroy.push(N);return e.$$.update=()=>{3&e.$$.dirty[0]&&b&&y?.setCustomValidity?.("")},[b,y,k,h,l,r,s,x,E,A,T,function(){g&&clearTimeout(g),g=setTimeout((()=>{w=!0,l?(p.scrollTop=p.scrollTop,p.scrollLeft=p.scrollLeft,p?.children?.[0]?.scrollIntoView?.({container:p,behavior:"smooth",block:"start",inline:"nearest"})):o?(f.scrollTop=f.scrollTop,f.scrollLeft=f.scrollLeft,f?.children?.[0]?.scrollIntoView?.({container:f,behavior:"smooth",block:"nearest",inline:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"}))}),500)},function(){g&&clearTimeout(g),w&&(g=setTimeout((()=>{w=!1}),50))},function(e){"focusin"===e.type?(S=!0,jt(h,"inputfocused")):setTimeout((()=>{Pt(h,"inputfocused"),S=!1}),100)},e=>"Enter"===e.key&&T(),e=>"Enter"===e.key&&x(e),function(){b=this.value,n(0,b)},function(e){K[e?"unshift":"push"]((()=>{y=e,n(1,y)}))},e=>"Enter"===e.key&&A(),function(e){K[e?"unshift":"push"]((()=>{h=e,n(3,h)}))},e=>"Enter"===e.key&&E(e)]}function Fi(e){let t,n,i,l,r,s,a,c,u,d,f,m,h,y,g,w,v,b,k,x,E,N,C,P,F,D,M,O,U,_,V,q,W,B,R=e[1]&&Di(e),H=e[1]&&Mi(e);return{c(){t=$("div"),n=$("div"),i=$("button"),i.textContent="Update List",r=I(),s=$("button"),s.textContent="Show All Hidden Entries",c=I(),u=$("button"),u.textContent="Import Data",f=I(),m=$("button"),m.textContent="Export Data",y=I(),R&&R.c(),g=I(),w=$("button"),w.textContent="Dark Mode",b=I(),k=$("button"),x=L("Auto Update"),C=I(),P=$("button"),F=L("Auto Export"),O=I(),U=$("button"),U.textContent="Create an Anilist Account",V=I(),H&&H.c(),z(i,"class","button svelte-rbzx1w"),z(s,"class","button svelte-rbzx1w"),z(u,"class","button svelte-rbzx1w"),z(m,"class","button svelte-rbzx1w"),z(w,"class","button selected svelte-rbzx1w"),z(k,"class",E=p("button "+(e[5]?"selected":""))+" svelte-rbzx1w"),z(P,"class",D=p("button "+(e[3]?"selected":""))+" svelte-rbzx1w"),z(U,"class","button svelte-rbzx1w"),z(n,"class","menu svelte-rbzx1w"),z(t,"class","menu-container svelte-rbzx1w")},m(o,l){A(o,t,l),S(t,n),S(n,i),S(n,r),S(n,s),S(n,c),S(n,u),S(n,f),S(n,m),S(n,y),R&&R.m(n,null),S(n,g),S(n,w),S(n,b),S(n,k),S(k,x),S(n,C),S(n,P),S(P,F),S(n,O),S(n,U),S(n,V),H&&H.m(n,null),q=!0,W||(B=[j(i,"click",e[10]),j(i,"keydown",e[20]),j(s,"click",e[14]),j(s,"keydown",e[21]),j(u,"click",e[7]),j(u,"keydown",e[22]),j(m,"click",e[9]),j(m,"keydown",e[23]),j(w,"click",e[6]),j(w,"keydown",e[25]),j(k,"click",e[11]),j(k,"keydown",e[26]),j(P,"click",e[12]),j(P,"keydown",e[27]),j(U,"click",e[15]),j(U,"keydown",e[28]),j(t,"click",e[13]),j(t,"keydown",e[32])],W=!0)},p(e,t){e[1]?R?(R.p(e,t),2&t[0]&&pe(R,1)):(R=Di(e),R.c(),pe(R,1),R.m(n,g)):R&&(de(),me(R,1,1,(()=>{R=null})),fe()),(!q||32&t[0]&&E!==(E=p("button "+(e[5]?"selected":""))+" svelte-rbzx1w"))&&z(k,"class",E),(!q||8&t[0]&&D!==(D=p("button "+(e[3]?"selected":""))+" svelte-rbzx1w"))&&z(P,"class",D),e[1]?H?(H.p(e,t),2&t[0]&&pe(H,1)):(H=Mi(e),H.c(),pe(H,1),H.m(n,null)):H&&(de(),me(H,1,1,(()=>{H=null})),fe())},i(e){q||(te((()=>{q&&(l||(l=ye(i,Dt,{x:50,duration:300},!0)),l.run(1))})),te((()=>{q&&(a||(a=ye(s,Dt,{x:50,duration:300},!0)),a.run(1))})),te((()=>{q&&(d||(d=ye(u,Dt,{x:50,duration:300},!0)),d.run(1))})),te((()=>{q&&(h||(h=ye(m,Dt,{x:50,duration:300},!0)),h.run(1))})),pe(R),te((()=>{q&&(v||(v=ye(w,Dt,{x:50,duration:300},!0)),v.run(1))})),te((()=>{q&&(N||(N=ye(k,Dt,{x:50,duration:300},!0)),N.run(1))})),te((()=>{q&&(M||(M=ye(P,Dt,{x:50,duration:300},!0)),M.run(1))})),te((()=>{q&&(_||(_=ye(U,Dt,{x:50,duration:300},!0)),_.run(1))})),pe(H),q=!0)},o(e){l||(l=ye(i,Dt,{x:50,duration:300},!1)),l.run(0),a||(a=ye(s,Dt,{x:50,duration:300},!1)),a.run(0),d||(d=ye(u,Dt,{x:50,duration:300},!1)),d.run(0),h||(h=ye(m,Dt,{x:50,duration:300},!1)),h.run(0),me(R),v||(v=ye(w,Dt,{x:50,duration:300},!1)),v.run(0),N||(N=ye(k,Dt,{x:50,duration:300},!1)),N.run(0),M||(M=ye(P,Dt,{x:50,duration:300},!1)),M.run(0),_||(_=ye(U,Dt,{x:50,duration:300},!1)),_.run(0),me(H),q=!1},d(e){e&&T(t),e&&l&&l.end(),e&&a&&a.end(),e&&d&&d.end(),e&&h&&h.end(),R&&R.d(),e&&v&&v.end(),e&&N&&N.end(),e&&M&&M.end(),e&&_&&_.end(),H&&H.d(),W=!1,o(B)}}}function Di(e){let t,n,i,l,r,s,a=(e[4]?"Change":"Set")+" Export Folder";return{c(){t=$("button"),n=L(a),z(t,"class","button svelte-rbzx1w")},m(i,o){A(i,t,o),S(t,n),l=!0,r||(s=[j(t,"click",Ui),j(t,"keydown",e[24])],r=!0)},p(e,t){(!l||16&t[0])&&a!==(a=(e[4]?"Change":"Set")+" Export Folder")&&F(n,a)},i(e){l||(te((()=>{l&&(i||(i=ye(t,Dt,{x:50,duration:300},!0)),i.run(1))})),l=!0)},o(e){i||(i=ye(t,Dt,{x:50,duration:300},!1)),i.run(0),l=!1},d(e){e&&T(t),e&&i&&i.end(),r=!1,o(s)}}}function Mi(t){let n,i,l,r,s,a,c,u,d,f=!window.location.protocol.startsWith("file:"),p=f&&function(t){let n,i,l,r,s;return{c(){n=$("button"),n.textContent="Check for Updates",z(n,"class","button svelte-rbzx1w")},m(e,i){A(e,n,i),l=!0,r||(s=[j(n,"keydown",t[30]),j(n,"click",t[17])],r=!0)},p:e,i(e){l||(te((()=>{l&&(i||(i=ye(n,Dt,{x:50,duration:300},!0)),i.run(1))})),l=!0)},o(e){i||(i=ye(n,Dt,{x:50,duration:300},!1)),i.run(0),l=!1},d(e){e&&T(n),e&&i&&i.end(),r=!1,o(s)}}}(t);return{c(){n=$("button"),n.textContent="Switch App Mode",l=I(),p&&p.c(),r=I(),s=$("button"),s.textContent="Refresh",z(n,"class","button svelte-rbzx1w"),z(s,"class","button svelte-rbzx1w")},m(e,i){A(e,n,i),A(e,l,i),p&&p.m(e,i),A(e,r,i),A(e,s,i),c=!0,u||(d=[j(n,"keydown",t[29]),j(n,"click",t[16]),j(s,"keydown",t[31]),j(s,"click",t[18])],u=!0)},p(e,t){f&&p.p(e,t)},i(e){c||(te((()=>{c&&(i||(i=ye(n,Dt,{x:50,duration:300},!0)),i.run(1))})),pe(p),te((()=>{c&&(a||(a=ye(s,Dt,{x:50,duration:300},!0)),a.run(1))})),c=!0)},o(e){i||(i=ye(n,Dt,{x:50,duration:300},!1)),i.run(0),me(p),a||(a=ye(s,Dt,{x:50,duration:300},!1)),a.run(0),c=!1},d(e){e&&T(n),e&&i&&i.end(),e&&T(l),p&&p.d(e),e&&T(r),e&&T(s),e&&a&&a.end(),u=!1,o(d)}}}function Oi(e){let t,n,i,o,l,r,s=e[2]&&Fi(e);return{c(){t=$("input"),n=I(),s&&s.c(),i=C(),z(t,"type","file"),z(t,"accept",".json"),M(t,"display","none")},m(a,c){A(a,t,c),e[19](t),A(a,n,c),s&&s.m(a,c),A(a,i,c),o=!0,l||(r=j(t,"change",e[8]),l=!0)},p(e,t){e[2]?s?(s.p(e,t),4&t[0]&&pe(s,1)):(s=Fi(e),s.c(),pe(s,1),s.m(i.parentNode,i)):s&&(de(),me(s,1,1,(()=>{s=null})),fe())},i(e){o||(pe(s),o=!0)},o(e){me(s),o=!1},d(o){o&&T(t),e[19](null),o&&T(n),s&&s.d(o),o&&T(i),l=!1,r()}}}function Ui(){try{JSBridge.chooseExportFolder()}catch(e){}}function _i(e,t,n){let i,o,l,r,s,a,c,f,p,h,y,g,w,v,b,k;async function S(){i({isAlert:!0,text:"Sorry, this is still not working."})}async function x(){return g?z():k instanceof Element?void(await i({text:"Are you sure you want to import your Data?"})&&k.click()):m(Me,c="Something went wrong...",c)}async function E(){return g?z():!v&&o?Ui():void(await i("Are you sure you want to export your data?")&&(m(it,a=!1,a),mt.update((e=>!e))))}async function A(){return g?z():navigator.onLine?void(await i("Are you sure you want to update your list?")&&(m(it,a=!1,a),pt.update((e=>!e)))):i({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to update."})}async function T(){await i(`Are you sure you want to ${b?"disable":"enable"} auto-update?`)&&m(Ue,b=!b,b)}async function N(){if(!v&&o)return Ui();await i(`Are you sure you want to ${w?"disable":"enable"} auto-export?`)&&m(We,w=!w,w)}function $(e){e.target.classList.contains("button")||m(it,a=!a,a)}async function L(){if(g)return z();if(St(y))i({isAlert:!0,text:"There is currently no hidden entries."});else if(await i("Are you sure you want to show all hidden anime entries?")){h&&(h.terminate(),m(De,h=null,h)),p||m(Fe,f=null,f),m(Me,c="Updating List",c),m(it,a=!1,a);let e=s?.filterSelection?.findIndex?.((({filterSelectionName:e})=>"Anime Filter"===e)),t=s?.filterSelection?.[e??-1]?.filters?.Checkbox?.findIndex?.((({filName:e})=>"hidden anime"===e));e>=0&&t>=0&&m(Pe,s.filterSelection[e??-1].filters.Checkbox[t??-1].isSelected=!1,s),r?.["Anime Filter"]&&m(ze,r["Anime Filter"]=r["Anime Filter"].filter((({optionName:e,filterType:t})=>"hidden"!==e&&"checkbox"!==t)),r),await Vn(s,"filterOptions"),await Vn(r,"activeTagFilters"),await Vn({},"hiddenEntries"),yt.update((e=>!e))}}async function I(){await i("Are you sure want to sign-up an anilist account?")&&window.open("https://anilist.co/signup","_blank")}function C(){if(o)try{JSBridge.switchApp()}catch(e){}}function j(){if(!navigator.onLine)return i({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to check for updates."});if(o)try{JSBridge.checkAppID(l,!0)}catch(e){}}async function P(){if(await i("Are you sure want to refresh the app?")){if(!o)return;try{JSBridge.refreshWeb()}catch(e){}}}function z(){i({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}d(e,nt,(e=>n(33,i=e))),d(e,$e,(e=>n(1,o=e))),d(e,Ne,(e=>n(34,l=e))),d(e,ze,(e=>n(35,r=e))),d(e,Pe,(e=>n(36,s=e))),d(e,it,(e=>n(2,a=e))),d(e,Me,(e=>n(37,c=e))),d(e,Fe,(e=>n(38,f=e))),d(e,rt,(e=>n(39,p=e))),d(e,De,(e=>n(40,h=e))),d(e,je,(e=>n(41,y=e))),d(e,Ke,(e=>n(42,g=e))),d(e,We,(e=>n(3,w=e))),d(e,qe,(e=>n(4,v=e))),d(e,Ue,(e=>n(5,b=e))),window.setExportPathAvailability=async(e=!0)=>{m(qe,v=e,v),await Vn(e,"exportPathIsAvailable")};return[k,o,a,w,v,b,S,x,async function(){if(!(k instanceof Element))return m(Me,c="Something went wrong...",c);let e=k.files?.[0];if(e){let o=e.name;await i(`File ${o?"named ["+o+"] ":""}has been detected, do you want to continue the import?`)?(await Vn(!0,"shouldProcessRecommendation"),m(it,a=!1,a),p||(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(Fe,f=null,f)),(t={importedFile:e},new Promise(((e,n)=>{if(!u(Ke)){if(mn)return;Un(),pn=!0}$n&&$n.terminate(),cn("./webapi/worker/importUserData.js").then((i=>{$n=new Worker(i),Nn&&clearTimeout(Nn),$n.postMessage(t),$n.onmessage=({data:t})=>{void 0!==t?.error?(pn=!1,vt.update((e=>!e)),window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),n(t?.error||"Something went wrong...")):void 0!==t?.status?(fn=!0,Me.set(t.status)):"string"==typeof t?.importedUsername?Ce.set(t.importedUsername):kt(t?.importedHiddenEntries)?je.set(t?.importedHiddenEntries):t?.importedlastRunnedAutoUpdateDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoUpdateDate)?Ve.set(t.importedlastRunnedAutoUpdateDate):t?.importedlastRunnedAutoExportDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoExportDate)?Re.set(t.importedlastRunnedAutoExportDate):void 0!==t?.updateFilters?(pn=!1,On().then((e=>{ze.set(e.activeTagFilters),Pe.set(e.filterOptions)}))):void 0!==t?.updateRecommendationList?(pn=!1,ht.update((e=>!e))):(pn=!1,pt.update((e=>!e)),fn=!1,Nn=setTimeout((()=>{$n.terminate()}),dn),e(t))},$n.onerror=e=>{pn=!1,window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),vt.update((e=>!e)),n(e||"Something went wrong...")}})).catch((e=>{pn=!1,vt.update((e=>!e)),_n(),n(e)}))}))).then((()=>{k instanceof Element&&n(0,k.value=null,k)})).catch((e=>{m(Me,c=e||"Something went wrong...",c),n(0,k.value=null,k),ht.update((e=>!e))}))):k instanceof Element&&n(0,k.value=null,k)}else k instanceof Element&&n(0,k.value=null,k);var t},E,A,T,N,$,L,I,C,j,P,function(e){K[e?"unshift":"push"]((()=>{k=e,n(0,k)}))},e=>"Enter"===e.key&&A(),e=>"Enter"===e.key&&L(),e=>"Enter"===e.key&&x(),e=>"Enter"===e.key&&E(),e=>"Enter"===e.key&&Ui(),e=>"Enter"===e.key&&S(),e=>"Enter"===e.key&&T(),e=>"Enter"===e.key&&N(),e=>"Enter"===e.key&&I(),e=>"Enter"===e.key&&C(),e=>"Enter"===e.key&&j(),e=>"Enter"===e.key&&P(),e=>"Enter"===e.key&&$(e)]}function Vi(e,t,n){const i=e.slice();return i[91]=t[n].sortName,i[93]=n,i}function qi(e,t,n){const i=e.slice();return i[94]=t[n].optionName,i[95]=t[n].optionIdx,i[96]=t[n].selected,i[97]=t[n].changeType,i[98]=t[n].filterType,i[99]=t[n].categIdx,i[100]=t[n].optionValue,i[101]=t[n].optionType,i}function Wi(e,t,n){const i=e.slice();return i[118]=t[n],i}function Bi(e,t,n){const i=e.slice();return i[104]=t[n],i[105]=t,i[106]=n,i}function Ri(e,t,n){const i=e.slice();return i[107]=t[n],i[109]=n,i}function Hi(e,t,n){const i=e.slice();return i[110]=t[n],i[111]=t,i[112]=n,i}function Yi(e,t,n){const i=e.slice();return i[113]=t[n],i[114]=t,i[115]=n,i}function Ki(e,t,n){const i=e.slice();return i[116]=t[n],i[95]=n,i}function Gi(e,t,n){const i=e.slice();return i[121]=t[n].filterSelectionName,i[122]=t[n].isSelected,i}function Xi(t){let n;return{c(){n=$("div"),z(n,"class","skeleton shimmer svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Ji(e){let t,n,i,o=(e[7]?.filterSelection?.filter?.(Oo)?.[0]?.filterSelectionName||"")+"";return{c(){t=$("span"),n=$("h2"),i=L(o),z(n,"class","svelte-tczdkj"),z(t,"class","svelte-tczdkj")},m(e,o){A(e,t,o),S(t,n),S(n,i)},p(e,t){128&t[0]&&o!==(o=(e[7]?.filterSelection?.filter?.(Oo)?.[0]?.filterSelectionName||"")+"")&&F(i,o)},d(e){e&&T(t)}}}function Qi(n){let i,r,s,a;function c(e,t){return e[11]?to:e[12]||e[9]?Zi:eo}let u=c(n),d=u(n);return{c(){i=$("span"),r=$("h2"),d.c(),z(r,"class","svelte-tczdkj"),z(i,"class","data-status svelte-tczdkj")},m(e,t){A(e,i,t),S(i,r),d.m(r,null),a=!0},p(e,t){u===(u=c(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(r,null)))},i(e){a||(s&&s.end(1),a=!0)},o(n){s=function(n,i,r){const s={direction:"out"};let a,c=i(n,r,s),u=!0;const d=ue;function f(){const{delay:i=0,duration:l=300,easing:r=t,tick:s=e,css:f}=c||he;f&&(a=q(n,1,0,l,i,r,f));const p=g()+i,m=p+l;te((()=>ae(n,!1,"start"))),k((e=>{if(u){if(e>=m)return s(0,1),ae(n,!1,"end"),--d.r||o(d.c),!1;if(e>=p){const t=r((e-p)/l);s(1-t,t)}}return u}))}return d.r+=1,l(c)?se().then((()=>{c=c(s),f()})):f(),{end(e){e&&c.tick&&c.tick(1,0),u&&(a&&W(n,a),u=!1)}}}(i,Ft,{duration:300}),a=!1},d(e){e&&T(i),d.d(),e&&s&&s.end()}}}function Zi(t){let n;return{c(){n=L("")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function eo(t){let n;return{c(){n=L("No Anilist Username Found")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function to(e){let t;return{c(){t=L(e[11])},m(e,n){A(e,t,n)},p(e,n){2048&n[0]&&F(t,e[11])},d(e){e&&T(t)}}}function no(e){let t,n,i,l,r,s,a,c,u,d,f,m,h=[],y=new Map,g=e[7]?.filterSelection||[];const w=e=>e[121];for(let t=0;t<g.length;t+=1){let n=Gi(e,g,t),i=w(n);y.set(i,h[t]=io(i,n))}return{c(){t=$("div"),n=$("div"),i=$("h2"),i.textContent="Filters",l=I(),r=$("div"),s=L("×"),c=I(),u=$("div");for(let e=0;e<h.length;e+=1)h[e].c();z(i,"class","svelte-tczdkj"),z(r,"class","closing-x svelte-tczdkj"),z(r,"tabindex",a=e[3]&&e[1]<=425?"0":""),z(n,"class","header svelte-tczdkj"),z(u,"class","options svelte-tczdkj"),z(t,"class",d=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-tczdkj")},m(o,a){A(o,t,a),S(t,n),S(n,i),S(n,l),S(n,r),S(r,s),S(t,c),S(t,u);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(u,null);f||(m=[j(r,"keydown",e[38]),j(r,"click",e[17])],f=!0)},p(e,n){10&n[0]&&a!==(a=e[3]&&e[1]<=425?"0":"")&&z(r,"tabindex",a),65664&n[0]&&(g=e[7]?.filterSelection||[],h=ve(h,n,w,1,e,g,y,u,ge,io,null,Gi)),8&n[0]&&d!==(d=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-tczdkj")&&z(t,"class",d)},d(e){e&&T(t);for(let e=0;e<h.length;e+=1)h[e].d();f=!1,o(m)}}}function io(e,t){let n,i,r,s,a,c,u=(t[121]||"")+"";function d(...e){return t[39](t[121],...e)}return{key:e,first:null,c(){n=$("div"),i=$("h3"),r=L(u),s=I(),z(i,"class","svelte-tczdkj"),M(i,"color",t[122]?"#3db4f2":"inherit"),z(n,"class","option svelte-tczdkj"),this.first=n},m(e,o){A(e,n,o),S(n,i),S(i,r),S(n,s),a||(c=[j(n,"click",(function(){l(t[16](t[121]))&&t[16](t[121]).apply(this,arguments)})),j(n,"keydown",d)],a=!0)},p(e,n){t=e,128&n[0]&&u!==(u=(t[121]||"")+"")&&F(r,u),128&n[0]&&M(i,"color",t[122]?"#3db4f2":"inherit")},d(e){e&&T(n),a=!1,o(c)}}}function oo(t){let n,i=Array(10),o=[];for(let e=0;e<i.length;e+=1)o[e]=ro(Wi(t,i,e));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=C()},m(e,t){for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(e,t);A(e,n,t)},p:e,d(e){N(o,e),e&&T(n)}}}function lo(e){let t,n=[],i=new Map,o=e[7]?.filterSelection||[];const l=e=>e[104].filterSelectionName;for(let t=0;t<o.length;t+=1){let r=Bi(e,o,t),s=l(r);i.set(s,n[t]=Eo(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=C()},m(e,i){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,i);A(e,t,i)},p(e,r){8159943&r[0]|2&r[1]&&(o=e[7]?.filterSelection||[],n=ve(n,r,l,1,e,o,i,t.parentNode,ge,Eo,t,Bi))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&T(t)}}}function ro(t){let n;return{c(){n=$("div"),n.innerHTML='<div class="filter-name skeleton shimmer svelte-tczdkj"></div> \n                    <div class="select skeleton shimmer svelte-tczdkj"></div> \n                ',z(n,"class","filter-select svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function so(t){let n;return{c(){n=$("i"),z(n,"class","icon fa-solid fa-angle-down svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function ao(e){let t,n,i;function r(...t){return e[42](e[115],...t)}return{c(){t=$("i"),z(t,"class","icon fa-solid fa-angle-up svelte-tczdkj")},m(o,s){A(o,t,s),n||(i=[j(t,"keydown",r),j(t,"click",(function(){l(e[19](e[115]))&&e[19](e[115]).apply(this,arguments)}))],n=!0)},p(t,n){e=t},d(e){e&&T(t),n=!1,o(i)}}}function co(t){let n;return{c(){n=$("div"),n.innerHTML='<h3 class="svelte-tczdkj">No Results</h3>',z(n,"class","option svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function uo(e){let t,n=[],i=new Map,o=e[113].options||[];const l=e=>e[104].filterSelectionName+e[113].filName+e[116].optionName;for(let t=0;t<o.length;t+=1){let r=Ki(e,o,t),s=l(r);i.set(s,n[t]=yo(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=C()},m(e,i){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,i);A(e,t,i)},p(e,r){1048704&r[0]&&(o=e[113].options||[],n=ve(n,r,l,1,e,o,i,t.parentNode,ge,yo,t,Ki))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&T(t)}}}function fo(t){let n;return{c(){n=$("i"),z(n,"class","fa-regular fa-circle-xmark async-element svelte-tczdkj"),M(n,"--optionColor","#e85d75")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function po(e){let t;function n(e,t){return"Content Caution"===e[104].filterSelectionName?ho:mo}let i=n(e),o=i(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),A(e,t,n)},p(e,l){i!==(i=n(e))&&(o.d(1),o=i(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&T(t)}}}function mo(e){let t;return{c(){t=$("i"),z(t,"class","fa-regular fa-circle-check async-element svelte-tczdkj"),M(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function ho(e){let t;return{c(){t=$("i"),z(t,"class","fa-regular fa-circle-xmark async-element svelte-tczdkj"),M(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function yo(e,t){let n,i,r,s,a,c,u,d=(t[116].optionName||"")+"";function f(e,t){return"included"===e[116].selected?po:"excluded"===e[116].selected&&"read"!==e[113].changeType?fo:void 0}let m=f(t),h=m&&m(t);function y(...e){return t[47](t[116],t[113],t[95],t[115],t[104],...e)}return{key:e,first:null,c(){n=$("div"),i=$("h3"),r=L(d),s=I(),h&&h.c(),z(i,"class","svelte-tczdkj"),z(n,"class",a=p("option "+(Do(t[116].optionName,t[113].optKeyword)?"":"disable-interaction"))+" svelte-tczdkj"),this.first=n},m(e,o){A(e,n,o),S(n,i),S(i,r),S(n,s),h&&h.m(n,null),c||(u=[j(n,"click",(function(){l(t[20](t[116].optionName,t[113].filName,t[95],t[115],t[113].changeType,t[104].filterSelectionName))&&t[20](t[116].optionName,t[113].filName,t[95],t[115],t[113].changeType,t[104].filterSelectionName).apply(this,arguments)})),j(n,"keydown",y)],c=!0)},p(e,i){t=e,128&i[0]&&d!==(d=(t[116].optionName||"")+"")&&F(r,d),m===(m=f(t))&&h?h.p(t,i):(h&&h.d(1),h=m&&m(t),h&&(h.c(),h.m(n,null))),128&i[0]&&a!==(a=p("option "+(Do(t[116].optionName,t[113].optKeyword)?"":"disable-interaction"))+" svelte-tczdkj")&&z(n,"class",a)},d(e){e&&T(n),h&&h.d(),c=!1,o(u)}}}function go(e,t){let n,i,r,s,a,c,u,d,f,m,h,y,g,w,v,b,k,x,E,N,C,O,U,_,V,q,W,B,R,H,Y,K,G=(t[113].filName||"")+"",X=t[113].filName+"",J=`${t[2]}px`;function Q(...e){return t[35](t[113],...e)}function Z(){t[41].call(d,t[106],t[115])}function ee(e,t){return e[113].selected&&e[113].options.length&&!e[0]?ao:so}let te=ee(t),ne=te(t);function ie(...e){return t[43](t[115],...e)}function oe(...e){return t[44](t[115],...e)}function le(...e){return t[45](t[115],...e)}function re(){t[46].call(U,t[106],t[115])}function se(e,t){return 128&t[0]&&(W=null),null==W&&(W=!!e[113].options?.filter?.(Q)?.length),W?uo:co}let ae=se(t,[-1,-1,-1,-1,-1]),ce=ae(t);return{key:e,first:null,c(){n=$("div"),i=$("div"),r=$("h2"),s=L(G),a=I(),c=$("div"),u=$("div"),d=$("input"),m=I(),ne.c(),y=I(),g=$("div"),w=$("div"),v=$("div"),b=$("h2"),k=L(X),x=I(),E=$("div"),N=L("×"),O=I(),U=$("input"),V=I(),q=$("div"),ce.c(),z(r,"class","svelte-tczdkj"),z(i,"class","filter-name svelte-tczdkj"),z(d,"placeholder","Any"),z(d,"type","search"),z(d,"enterkeyhint","search"),z(d,"autocomplete","off"),z(d,"class","value-input svelte-tczdkj"),d.disabled=f=!t[6]||t[1]<=425||!t[104].isSelected,z(u,"class","value-wrap svelte-tczdkj"),z(c,"class","select svelte-tczdkj"),z(c,"tabindex",h=t[6]&&t[1]<=425&&t[104].isSelected?"0":""),z(b,"class","svelte-tczdkj"),z(E,"class","closing-x svelte-tczdkj"),z(E,"tabindex",C=t[6]&&t[113].selected?"0":""),z(v,"class","header svelte-tczdkj"),z(U,"placeholder","Any"),z(U,"type","search"),z(U,"enterkeyhint","search"),z(U,"autocomplete","off"),U.disabled=_=!t[6]||!t[104].isSelected||!t[113].selected,z(U,"class","svelte-tczdkj"),z(q,"class","options svelte-tczdkj"),z(w,"class",B=p("options-wrap-filter-info "+(t[113].options.length&&!0===t[113].selected&&!t[0]?"":"hide"))+" svelte-tczdkj"),z(g,"class",R=p("options-wrap "+(t[113].options.length&&!0===t[113].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-tczdkj"),M(g,"--maxFilterSelectionHeight",J),z(n,"class",H=p("filter-select "+(t[104].isSelected?"":"disable-interaction"))+" svelte-tczdkj"),this.first=n},m(e,o){A(e,n,o),S(n,i),S(i,r),S(r,s),S(n,a),S(n,c),S(c,u),S(u,d),D(d,t[7].filterSelection[t[106]].filters.Dropdown[t[115]].optKeyword),S(c,m),ne.m(c,null),S(n,y),S(n,g),S(g,w),S(w,v),S(v,b),S(b,k),S(v,x),S(v,E),S(E,N),S(w,O),S(w,U),D(U,t[7].filterSelection[t[106]].filters.Dropdown[t[115]].optKeyword),S(w,V),S(w,q),ce.m(q,null),Y||(K=[j(d,"input",Z),j(c,"keydown",ie),j(c,"click",oe),j(E,"keydown",le),j(E,"click",(function(){l(t[19](t[115]))&&t[19](t[115]).apply(this,arguments)})),j(U,"input",re),j(q,"wheel",P(Uo),{passive:!0}),j(g,"wheel",P(_o),{passive:!0})],Y=!0)},p(e,i){t=e,128&i[0]&&G!==(G=(t[113].filName||"")+"")&&F(s,G),194&i[0]&&f!==(f=!t[6]||t[1]<=425||!t[104].isSelected)&&(d.disabled=f),128&i[0]&&d.value!==t[7].filterSelection[t[106]].filters.Dropdown[t[115]].optKeyword&&D(d,t[7].filterSelection[t[106]].filters.Dropdown[t[115]].optKeyword),te===(te=ee(t))&&ne?ne.p(t,i):(ne.d(1),ne=te(t),ne&&(ne.c(),ne.m(c,null))),194&i[0]&&h!==(h=t[6]&&t[1]<=425&&t[104].isSelected?"0":"")&&z(c,"tabindex",h),128&i[0]&&X!==(X=t[113].filName+"")&&F(k,X),192&i[0]&&C!==(C=t[6]&&t[113].selected?"0":"")&&z(E,"tabindex",C),192&i[0]&&_!==(_=!t[6]||!t[104].isSelected||!t[113].selected)&&(U.disabled=_),128&i[0]&&U.value!==t[7].filterSelection[t[106]].filters.Dropdown[t[115]].optKeyword&&D(U,t[7].filterSelection[t[106]].filters.Dropdown[t[115]].optKeyword),ae===(ae=se(t,i))&&ce?ce.p(t,i):(ce.d(1),ce=ae(t),ce&&(ce.c(),ce.m(q,null))),129&i[0]&&B!==(B=p("options-wrap-filter-info "+(t[113].options.length&&!0===t[113].selected&&!t[0]?"":"hide"))+" svelte-tczdkj")&&z(w,"class",B),129&i[0]&&R!==(R=p("options-wrap "+(t[113].options.length&&!0===t[113].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-tczdkj")&&z(g,"class",R),4&i[0]&&J!==(J=`${t[2]}px`)&&M(g,"--maxFilterSelectionHeight",J),128&i[0]&&H!==(H=p("filter-select "+(t[104].isSelected?"":"disable-interaction"))+" svelte-tczdkj")&&z(n,"class",H)},d(e){e&&T(n),ne.d(),ce.d(),Y=!1,o(K)}}}function wo(e){let t,n,i,l,r,s,a,c,u,d=(e[110].filName||"")+"";function f(e,t){return e[9]?bo:vo}let p=f(e),m=p(e);function h(...t){return e[51](e[110],e[112],e[104],...t)}function y(...t){return e[52](e[110],e[112],e[104],...t)}return{c(){t=$("div"),n=$("div"),i=I(),l=$("div"),m.c(),r=I(),s=$("div"),a=L(d),z(n,"class","svelte-tczdkj"),M(n,"visibility","none"),z(s,"class","checkbox-label svelte-tczdkj"),z(l,"class","checkbox-wrap svelte-tczdkj"),z(t,"class","filter-checkbox svelte-tczdkj")},m(e,o){A(e,t,o),S(t,n),S(t,i),S(t,l),m.m(l,null),S(l,r),S(l,s),S(s,a),c||(u=[j(l,"click",h),j(l,"keydown",y)],c=!0)},p(t,n){p===(p=f(e=t))&&m?m.p(e,n):(m.d(1),m=p(e),m&&(m.c(),m.m(l,r))),128&n[0]&&d!==(d=(e[110].filName||"")+"")&&F(a,d)},d(e){e&&T(t),m.d(),c=!1,o(u)}}}function vo(e){let t,n,i,l;function r(...t){return e[49](e[110],e[112],e[104],...t)}function s(){e[50].call(t,e[111],e[112])}return{c(){t=$("input"),z(t,"type","checkbox"),z(t,"class","checkbox svelte-tczdkj"),t.disabled=n=!e[6]},m(n,o){A(n,t,o),t.checked=e[110].isSelected,i||(l=[j(t,"change",r),j(t,"change",s)],i=!0)},p(i,o){e=i,64&o[0]&&n!==(n=!e[6])&&(t.disabled=n),128&o[0]&&(t.checked=e[110].isSelected)},d(e){e&&T(t),i=!1,o(l)}}}function bo(e){let t,n,i,o,l;return{c(){t=$("input"),z(t,"type","checkbox"),z(t,"class","checkbox svelte-tczdkj"),t.checked=n=e[110].isSelected,t.disabled=i=!e[6]},m(n,i){A(n,t,i),o||(l=j(t,"change",e[48]),o=!0)},p(e,o){128&o[0]&&n!==(n=e[110].isSelected)&&(t.checked=n),64&o[0]&&i!==(i=!e[6])&&(t.disabled=i)},d(e){e&&T(t),o=!1,l()}}}function ko(e,t){let n,i,o=t[104].isSelected&&wo(t);return{key:e,first:null,c(){n=C(),o&&o.c(),i=C(),this.first=n},m(e,t){A(e,n,t),o&&o.m(e,t),A(e,i,t)},p(e,n){(t=e)[104].isSelected?o?o.p(t,n):(o=wo(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(e){e&&T(n),o&&o.d(e),e&&T(i)}}}function So(e){let t,n,i,o,l,r,s,a,c,u,d,f,p,m=(e[107].filName||"")+"";function h(...t){return e[53](e[109],e[107],e[104],...t)}return{c(){t=$("div"),n=$("div"),i=$("h2"),o=L(m),l=I(),r=$("div"),s=$("input"),d=I(),z(i,"class","svelte-tczdkj"),z(n,"class","filter-input-number-name svelte-tczdkj"),z(s,"class","value-input-number svelte-tczdkj"),z(s,"type","text"),z(s,"placeholder",a="scoring system"===e[107].filName?"Default: User Scoring":e[15].includes(e[107].filName)?">123 or 123":null!==e[107].defaultValue?"Default: "+e[107].defaultValue:"123"),s.value=c=e[107].numberValue||"",s.disabled=u=!e[6],z(r,"class","value-input-number-wrap svelte-tczdkj"),z(t,"class","filter-input-number svelte-tczdkj"),M(t,"display",e[104].isSelected?"":"none")},m(e,a){A(e,t,a),S(t,n),S(n,i),S(i,o),S(t,l),S(t,r),S(r,s),S(t,d),f||(p=j(s,"input",h),f=!0)},p(n,i){e=n,128&i[0]&&m!==(m=(e[107].filName||"")+"")&&F(o,m),128&i[0]&&a!==(a="scoring system"===e[107].filName?"Default: User Scoring":e[15].includes(e[107].filName)?">123 or 123":null!==e[107].defaultValue?"Default: "+e[107].defaultValue:"123")&&z(s,"placeholder",a),128&i[0]&&c!==(c=e[107].numberValue||"")&&s.value!==c&&(s.value=c),64&i[0]&&u!==(u=!e[6])&&(s.disabled=u),128&i[0]&&M(t,"display",e[104].isSelected?"":"none")},d(e){e&&T(t),f=!1,p()}}}function xo(e,t){let n,i,o=t[104].isSelected&&So(t);return{key:e,first:null,c(){n=C(),o&&o.c(),i=C(),this.first=n},m(e,t){A(e,n,t),o&&o.m(e,t),A(e,i,t)},p(e,n){(t=e)[104].isSelected?o?o.p(t,n):(o=So(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(e){e&&T(n),o&&o.d(e),e&&T(i)}}}function Eo(e,t){let n,i,o,l,r=[],s=new Map,a=[],c=new Map,u=[],d=new Map,f=t[104].filters.Dropdown||[];const p=e=>e[104].filterSelectionName+e[113].filName;for(let e=0;e<f.length;e+=1){let n=Yi(t,f,e),i=p(n);s.set(i,r[e]=go(i,n))}let m=t[104].filters.Checkbox||[];const h=e=>e[104].filterSelectionName+e[110].filName;for(let e=0;e<m.length;e+=1){let n=Hi(t,m,e),i=h(n);c.set(i,a[e]=ko(i,n))}let y=t[104].filters["Input Number"]||[];const g=e=>e[104].filterSelectionName+e[107].filName;for(let e=0;e<y.length;e+=1){let n=Ri(t,y,e),i=g(n);d.set(i,u[e]=xo(i,n))}return{key:e,first:null,c(){n=C();for(let e=0;e<r.length;e+=1)r[e].c();i=I();for(let e=0;e<a.length;e+=1)a[e].c();o=I();for(let e=0;e<u.length;e+=1)u[e].c();l=C(),this.first=n},m(e,t){A(e,n,t);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,t);A(e,i,t);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,t);A(e,o,t);for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(e,t);A(e,l,t)},p(e,n){t=e,1835207&n[0]&&(f=t[104].filters.Dropdown||[],r=ve(r,n,p,1,t,f,s,i.parentNode,ge,go,i,Yi)),2097856&n[0]|2&n[1]&&(m=t[104].filters.Checkbox||[],a=ve(a,n,h,1,t,m,c,o.parentNode,ge,ko,o,Hi)),4227264&n[0]&&(y=t[104].filters["Input Number"]||[],u=ve(u,n,g,1,t,y,d,l.parentNode,ge,xo,l,Ri))},d(e){e&&T(n);for(let t=0;t<r.length;t+=1)r[t].d(e);e&&T(i);for(let t=0;t<a.length;t+=1)a[t].d(e);e&&T(o);for(let t=0;t<u.length;t+=1)u[t].d(e);e&&T(l)}}}function Ao(e){let t,n,i;return{c(){t=$("div"),t.innerHTML='<i class="fa-solid fa-ban svelte-tczdkj"></i>',z(t,"tabindex","0"),z(t,"class","empty-tagFilter svelte-tczdkj"),z(t,"title","Remove Filters"),M(t,"display",e[10]?"":"none"),M(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Vo)]?.filterSelectionName]?.length?"visible":"hidden")},m(o,l){A(o,t,l),n||(i=[j(t,"click",e[25]),j(t,"keydown",e[55])],n=!0)},p(e,n){1024&n[0]&&M(t,"display",e[10]?"":"none"),1152&n[0]&&M(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Vo)]?.filterSelectionName]?.length?"visible":"hidden")},d(e){e&&T(t),n=!1,o(i)}}}function To(e){let t,n,i;return{c(){t=$("div"),t.innerHTML='<i class="fa-solid fa-ban svelte-tczdkj"></i>',z(t,"tabindex","0"),z(t,"class","empty-tagFilter svelte-tczdkj"),z(t,"title","Remove Filters"),M(t,"display",e[10]?"":"none"),M(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(qo)]?.filterSelectionName]?.length?"visible":"hidden")},m(o,l){A(o,t,l),n||(i=[j(t,"click",e[25]),j(t,"keydown",e[56])],n=!0)},p(e,n){1024&n[0]&&M(t,"display",e[10]?"":"none"),1152&n[0]&&M(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(qo)]?.filterSelectionName]?.length?"visible":"hidden")},d(e){e&&T(t),n=!1,o(i)}}}function No(e){let t,n,i=(e[94]||"")+"";return{c(){t=$("h3"),n=L(i),z(t,"class","svelte-tczdkj")},m(e,i){A(e,t,i),S(t,n)},p(e,t){1152&t[0]&&i!==(i=(e[94]||"")+"")&&F(n,i)},d(e){e&&T(t)}}}function $o(e){let t,n,i=(e[101]+": "+e[94]||"")+"";return{c(){t=$("h3"),n=L(i),z(t,"class","svelte-tczdkj")},m(e,i){A(e,t,i),S(t,n)},p(e,t){1152&t[0]&&i!==(i=(e[101]+": "+e[94]||"")+"")&&F(n,i)},d(e){e&&T(t)}}}function Lo(e){let t,n,i=(e[94]+": "+e[100]||"")+"";return{c(){t=$("h3"),n=L(i),z(t,"class","svelte-tczdkj")},m(e,i){A(e,t,i),S(t,n)},p(e,t){1152&t[0]&&i!==(i=(e[94]+": "+e[100]||"")+"")&&F(n,i)},d(e){e&&T(t)}}}function Io(e,t){let n,i,l,r,s,a,c,u;function d(e,t){return"input number"===e[98]?Lo:e[101]?$o:No}let f=d(t),p=f(t);function m(...e){return t[57](t[95],t[94],t[98],t[99],t[101],...e)}function h(...e){return t[58](t[95],t[94],t[98],t[99],t[101],...e)}function y(...e){return t[59](t[95],t[94],t[98],t[99],t[97],t[101],t[100],...e)}function g(...e){return t[60](t[95],t[94],t[98],t[99],t[97],t[101],t[100],...e)}return{key:e,first:null,c(){n=$("div"),p.c(),i=I(),l=$("i"),r=I(),z(l,"class","fa-solid fa-xmark svelte-tczdkj"),z(l,"tabindex","0"),z(n,"class","activeTagFilter svelte-tczdkj"),z(n,"tabindex","0"),M(n,"--activeTagFilterColor","included"===t[96]?"#5f9ea0":"read"===t[97]?"#000":"#e85d75"),this.first=n},m(e,t){var o;A(e,n,t),p.m(n,null),S(n,i),S(n,l),S(n,r),a=!0,c||(u=[j(l,"click",(o=m,function(e){return e.preventDefault(),o.call(this,e)})),j(l,"keydown",h),j(n,"click",y),j(n,"keydown",g)],c=!0)},p(e,o){f===(f=d(t=e))&&p?p.p(t,o):(p.d(1),p=f(t),p&&(p.c(),p.m(n,i))),1152&o[0]&&M(n,"--activeTagFilterColor","included"===t[96]?"#5f9ea0":"read"===t[97]?"#000":"#e85d75")},i(e){a||(te((()=>{a&&(s||(s=ye(n,Dt,{x:-10,duration:300},!0)),s.run(1))})),a=!0)},o(e){s||(s=ye(n,Dt,{x:-10,duration:300},!1)),s.run(0),a=!1},d(e){e&&T(n),p.d(),e&&s&&s.end(),c=!1,o(u)}}}function Co(t){let n;return{c(){n=$("div"),n.innerHTML='<div class="showHideActiveFilters skeleton shimmer svelte-tczdkj"></div> \n            <div class="sortFilter skeleton shimmer svelte-tczdkj"></div>',z(n,"class","last-filter-option svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function jo(e){let t,n,i,l,r,s,a,c,u,d,f,m,h,y,g,w,v,b,k,x,E,N,C,P,D,O,U,_,V=(e[7]?.sortFilter?.[e[7]?.sortFilter.findIndex(Ho)]?.sortName||"")+"",q=[],W=new Map,B=`${e[2]}px`,R=e[7]?.sortFilter||[];const H=e=>e[91]+e[93];for(let t=0;t<R.length;t+=1){let n=Vi(e,R,t),i=H(n);W.set(i,q[t]=zo(i,n))}return{c(){t=$("div"),n=$("div"),i=$("i"),r=I(),s=$("div"),a=$("i"),d=I(),f=$("h2"),m=L(V),y=I(),g=$("div"),w=$("div"),v=$("div"),b=$("h2"),b.textContent="Sort By",k=I(),x=$("div"),E=L("×"),C=I(),P=$("div");for(let e=0;e<q.length;e+=1)q[e].c();z(i,"class",l=p("icon fa-solid fa-arrows-"+(e[8]?"up-down":"left-right"))+" svelte-tczdkj"),z(n,"tabindex","0"),z(n,"class","changeGridView svelte-tczdkj"),z(a,"tabindex",c=e[4]?"":"0"),z(a,"class",u=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Ro)]?.sortType?"up":"down"))+" svelte-tczdkj"),z(f,"tabindex",h=e[4]?"":"0"),z(f,"class","svelte-tczdkj"),z(b,"class","svelte-tczdkj"),z(x,"class","closing-x svelte-tczdkj"),z(x,"tabindex",N=e[4]&&e[1]<=425?"0":""),z(v,"class","header svelte-tczdkj"),z(P,"class","options svelte-tczdkj"),z(w,"class",D=p("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-tczdkj"),z(g,"class",O=p("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-tczdkj"),M(g,"--maxFilterSelectionHeight",B),z(s,"class","sortFilter svelte-tczdkj"),z(t,"class","last-filter-option svelte-tczdkj")},m(o,l){A(o,t,l),S(t,n),S(n,i),S(t,r),S(t,s),S(s,a),S(s,d),S(s,f),S(f,m),S(s,y),S(s,g),S(g,w),S(w,v),S(v,b),S(v,k),S(v,x),S(x,E),S(w,C),S(w,P);for(let e=0;e<q.length;e+=1)q[e]&&q[e].m(P,null);U||(_=[j(n,"click",e[29]),j(n,"keydown",e[62]),j(a,"click",e[28]),j(a,"keydown",e[63]),j(f,"click",e[26]),j(f,"keydown",e[64]),j(x,"keydown",e[65]),j(x,"click",e[26])],U=!0)},p(e,t){256&t[0]&&l!==(l=p("icon fa-solid fa-arrows-"+(e[8]?"up-down":"left-right"))+" svelte-tczdkj")&&z(i,"class",l),16&t[0]&&c!==(c=e[4]?"":"0")&&z(a,"tabindex",c),128&t[0]&&u!==(u=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Ro)]?.sortType?"up":"down"))+" svelte-tczdkj")&&z(a,"class",u),128&t[0]&&V!==(V=(e[7]?.sortFilter?.[e[7]?.sortFilter.findIndex(Ho)]?.sortName||"")+"")&&F(m,V),16&t[0]&&h!==(h=e[4]?"":"0")&&z(f,"tabindex",h),18&t[0]&&N!==(N=e[4]&&e[1]<=425?"0":"")&&z(x,"tabindex",N),134217856&t[0]&&(R=e[7]?.sortFilter||[],q=ve(q,t,H,1,e,R,W,P,ge,zo,null,Vi)),16&t[0]&&D!==(D=p("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-tczdkj")&&z(w,"class",D),16&t[0]&&O!==(O=p("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-tczdkj")&&z(g,"class",O),4&t[0]&&B!==(B=`${e[2]}px`)&&M(g,"--maxFilterSelectionHeight",B)},d(e){e&&T(t);for(let e=0;e<q.length;e+=1)q[e].d();U=!1,o(_)}}}function Po(e){let t,n;return{c(){t=$("i"),z(t,"class",n=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Yo)].sortType?"up":"down"))+" svelte-tczdkj")},m(e,n){A(e,t,n)},p(e,i){128&i[0]&&n!==(n=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Yo)].sortType?"up":"down"))+" svelte-tczdkj")&&z(t,"class",n)},d(e){e&&T(t)}}}function zo(e,t){let n,i,r,s,a,c,u,d=(t[91]||"")+"",f=t[7]?.sortFilter?.[t[7]?.sortFilter?.findIndex(Mo)].sortName===t[91]&&t[91],p=f&&Po(t);function m(...e){return t[66](t[91],...e)}return{key:e,first:null,c(){n=$("div"),i=$("h3"),r=L(d),s=I(),p&&p.c(),a=I(),z(i,"class","svelte-tczdkj"),z(n,"class","option svelte-tczdkj"),this.first=n},m(e,o){A(e,n,o),S(n,i),S(i,r),S(n,s),p&&p.m(n,null),S(n,a),c||(u=[j(n,"click",(function(){l(t[27](t[91]))&&t[27](t[91]).apply(this,arguments)})),j(n,"keydown",m)],c=!0)},p(e,i){t=e,128&i[0]&&d!==(d=(t[91]||"")+"")&&F(r,d),128&i[0]&&(f=t[7]?.sortFilter?.[t[7]?.sortFilter?.findIndex(Mo)].sortName===t[91]&&t[91]),f?p?p.p(t,i):(p=Po(t),p.c(),p.m(n,a)):p&&(p.d(1),p=null)},d(e){e&&T(n),p&&p.d(),c=!1,o(u)}}}function Fo(e){let t,n,i,l,r,s,a,c,u,d,m,h,y,g,w,v,b,k,x,E,N,L,C,P,F,O,U,_,V,q,W,B,R,H,Y=`${e[2]}px`,K=[],G=new Map;function X(e,t){return e[7]?Ji:Xi}let J=X(e),Q=J(e),Z=(e[11]||!e[12])&&Qi(e),ee=e[7]&&no(e);function te(e,t){return e[7]?lo:oo}let ne=te(e),ie=ne(e),oe=!e[5]&&Ao(e),le=e[5]&&To(e),re=e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Wo)]?.filterSelectionName]||[];const se=e=>e[94]+e[95]+(e[101]??"");for(let t=0;t<re.length;t+=1){let n=qi(e,re,t),i=se(n);G.set(i,K[t]=Io(i,n))}function ae(e,t){return e[7]?jo:Co}let ce=ae(e),ue=ce(e);const he=e[34].default,ye=function(e,t,n,i){if(e){const o=f(e,t,n,i);return e[0](o)}}(he,e,e[33],null);return{c(){t=$("main"),n=$("div"),Q.c(),i=I(),Z&&Z.c(),l=I(),r=$("div"),s=$("input"),a=I(),c=$("div"),u=$("i"),m=I(),h=$("div"),ee&&ee.c(),g=I(),w=$("div"),v=$("i"),b=I(),k=$("div"),ie.c(),E=I(),N=$("div"),oe&&oe.c(),L=I(),C=$("div"),le&&le.c(),P=I();for(let e=0;e<K.length;e+=1)K[e].c();F=I(),O=$("div"),U=$("i"),q=I(),ue.c(),W=I(),ye&&ye.c(),z(n,"class","home-status svelte-tczdkj"),z(s,"id","input-search"),z(s,"class","input-search svelte-tczdkj"),z(s,"type","search"),z(s,"enterkeyhint","search"),z(s,"autocomplete","off"),z(s,"placeholder","Search"),z(u,"class","input-search-wrap-icon fa-solid fa-sliders svelte-tczdkj"),z(u,"tabindex",d=e[3]?"":"0"),z(h,"class",y=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-tczdkj"),M(h,"--maxFilterSelectionHeight",Y),z(c,"class","filterType svelte-tczdkj"),z(v,"class",p("showFilterOptions fa-solid fa-filter")+" svelte-tczdkj"),z(v,"tabindex","0"),z(w,"class","showFilterOptions-container svelte-tczdkj"),z(r,"class","input-search-wrap svelte-tczdkj"),z(k,"class",x=p("filters "+(e[6]?"":"disable-interaction")+(e[14]?" hasWheel":""))+" svelte-tczdkj"),z(k,"id","filters"),M(k,"--maxPaddingHeight",e[2]+65+"px"),z(C,"id","tagFilters"),z(C,"class","tagFilters svelte-tczdkj"),M(C,"max-height",e[5]?"200px":"30px"),z(U,"class",_=p("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-tczdkj"),z(O,"tabindex","0"),z(O,"class","showHideActiveFilters svelte-tczdkj"),z(N,"class",V=p("activeFilters"+(e[5]?" seenMore":""))+" svelte-tczdkj"),M(N,"display",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Bo)]?.filterSelectionName]||[]).length?"":"none"),z(t,"class","svelte-tczdkj"),M(t,"--filters-space",e[6]?"80px":""),M(t,"--active-filter-space",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Ko)]?.filterSelectionName]||[]).length?"auto":"")},m(o,d){A(o,t,d),S(t,n),Q.m(n,null),S(n,i),Z&&Z.m(n,null),S(t,l),S(t,r),S(r,s),D(s,e[13]),S(r,a),S(r,c),S(c,u),S(c,m),S(c,h),ee&&ee.m(h,null),S(r,g),S(r,w),S(w,v),S(t,b),S(t,k),ie.m(k,null),S(t,E),S(t,N),oe&&oe.m(N,null),S(N,L),S(N,C),le&&le.m(C,null),S(C,P);for(let e=0;e<K.length;e+=1)K[e]&&K[e].m(C,null);S(N,F),S(N,O),S(O,U),S(t,q),ue.m(t,null),S(t,W),ye&&ye.m(t,null),B=!0,R||(H=[j(s,"input",e[36]),j(u,"click",e[17]),j(u,"keydown",e[37]),j(v,"click",e[30]),j(v,"keydown",e[40]),j(k,"wheel",e[54]),j(O,"click",e[31]),j(O,"keydown",e[61])],R=!0)},p(e,o){J===(J=X(e))&&Q?Q.p(e,o):(Q.d(1),Q=J(e),Q&&(Q.c(),Q.m(n,i))),e[11]||!e[12]?Z?(Z.p(e,o),6144&o[0]&&pe(Z,1)):(Z=Qi(e),Z.c(),pe(Z,1),Z.m(n,null)):Z&&(de(),me(Z,1,1,(()=>{Z=null})),fe()),8192&o[0]&&s.value!==e[13]&&D(s,e[13]),(!B||8&o[0]&&d!==(d=e[3]?"":"0"))&&z(u,"tabindex",d),e[7]?ee?ee.p(e,o):(ee=no(e),ee.c(),ee.m(h,null)):ee&&(ee.d(1),ee=null),(!B||8&o[0]&&y!==(y=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-tczdkj"))&&z(h,"class",y),4&o[0]&&Y!==(Y=`${e[2]}px`)&&M(h,"--maxFilterSelectionHeight",Y),ne===(ne=te(e))&&ie?ie.p(e,o):(ie.d(1),ie=ne(e),ie&&(ie.c(),ie.m(k,null))),(!B||16448&o[0]&&x!==(x=p("filters "+(e[6]?"":"disable-interaction")+(e[14]?" hasWheel":""))+" svelte-tczdkj"))&&z(k,"class",x),4&o[0]&&M(k,"--maxPaddingHeight",e[2]+65+"px"),e[5]?oe&&(oe.d(1),oe=null):oe?oe.p(e,o):(oe=Ao(e),oe.c(),oe.m(N,L)),e[5]?le?le.p(e,o):(le=To(e),le.c(),le.m(C,P)):le&&(le.d(1),le=null),25166976&o[0]&&(re=e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Wo)]?.filterSelectionName]||[],de(),K=ve(K,o,se,1,e,re,G,C,we,Io,null,qi),fe()),32&o[0]&&M(C,"max-height",e[5]?"200px":"30px"),(!B||32&o[0]&&_!==(_=p("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-tczdkj"))&&z(U,"class",_),(!B||32&o[0]&&V!==(V=p("activeFilters"+(e[5]?" seenMore":""))+" svelte-tczdkj"))&&z(N,"class",V),1152&o[0]&&M(N,"display",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Bo)]?.filterSelectionName]||[]).length?"":"none"),ce===(ce=ae(e))&&ue?ue.p(e,o):(ue.d(1),ue=ce(e),ue&&(ue.c(),ue.m(t,W))),ye&&ye.p&&(!B||4&o[1])&&function(e,t,n,i,o,l){if(o){const r=f(t,n,i,l);e.p(r,o)}}(ye,he,e,e[33],B?function(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|o[i];return e}return t.dirty|o}return t.dirty}(he,e[33],o,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[33]),null),64&o[0]&&M(t,"--filters-space",e[6]?"80px":""),1152&o[0]&&M(t,"--active-filter-space",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Ko)]?.filterSelectionName]||[]).length?"auto":"")},i(e){if(!B){pe(Z);for(let e=0;e<re.length;e+=1)pe(K[e]);pe(ye,e),B=!0}},o(e){me(Z);for(let e=0;e<K.length;e+=1)me(K[e]);me(ye,e),B=!1},d(e){e&&T(t),Q.d(),Z&&Z.d(),ee&&ee.d(),ie.d(),oe&&oe.d(),le&&le.d();for(let e=0;e<K.length;e+=1)K[e].d();ue.d(),ye&&ye.d(e),R=!1,o(H)}}}function Do(e,t){if("string"==typeof e&&"string"==typeof t)return e.toLowerCase().includes(t.trim().toLowerCase())}const Mo=({sortType:e})=>"none"!==e,Oo=({isSelected:e})=>e,Uo=()=>{},_o=()=>{},Vo=({isSelected:e})=>e,qo=({isSelected:e})=>e,Wo=({isSelected:e})=>e,Bo=({isSelected:e})=>e,Ro=({sortType:e})=>"none"!==e,Ho=({sortType:e})=>"none"!==e,Yo=({sortType:e})=>"none"!==e,Ko=({isSelected:e})=>e;function Go(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w;d(e,nt,(e=>n(76,i=e))),d(e,Pe,(e=>n(7,o=e))),d(e,De,(e=>n(77,l=e))),d(e,Xe,(e=>n(78,r=e))),d(e,Fe,(e=>n(79,s=e))),d(e,Ge,(e=>n(8,a=e))),d(e,Ke,(e=>n(9,c=e))),d(e,ze,(e=>n(10,u=e))),d(e,vt,(e=>n(80,f=e))),d(e,Me,(e=>n(11,p=e))),d(e,gt,(e=>n(81,h=e))),d(e,Ce,(e=>n(12,y=e))),d(e,et,(e=>n(13,g=e))),d(e,Ie,(e=>n(14,w=e)));let v,b,k,S,x,E,A,T,N,{$$slots:$={},$$scope:L}=t,I=!0,C=window.visualViewport.width,j=window.visualViewport.height,P=.3*j,z=!1,F=!1,D=["Algorithm Filter"],M=["sort","Anime Filter","Content Caution"],O=["weighted score","score","average score","user score","popularity"];function U(e){A&&T===e&&clearTimeout(A),T=e,A=setTimeout((async()=>{D.includes(e)?(l&&(l.terminate(),m(De,l=null,l)),m(Fe,s=null,s),m(Me,p="Updating List",p),await Vn(!0,"shouldProcessRecommendation"),await Vn(o,"filterOptions"),await Vn(u,"activeTagFilters"),m(gt,h=!h,h)):M.includes(e)?(l&&(l.terminate(),m(De,l=null,l)),m(Fe,s=null,s),m(Me,p="Updating List",p),await Vn(o,"filterOptions"),await Vn(u,"activeTagFilters"),m(vt,f=!f,f)):(await Vn(o,"filterOptions"),await Vn(u,"activeTagFilters"))}),300)}async function _(){let e=document.getElementById("tagFilters");await ee(),e instanceof Element&&(e.scrollTop=0)}function V(){j=window.visualViewport.height,n(2,P=.3*j),n(1,C=window.visualViewport.width)}async function q(e){if(c)return ue();let t=o?.filterSelection.findIndex((({isSelected:e})=>e)),i=o?.filterSelection?.[t].filterSelectionName;if(i!==e){n(4,k=!1),s?.length>36&&!a&&await ce(),o?.filterSelection?.[t].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Pe,o.filterSelection[t]=o?.filterSelection?.[t],o),b=null,m(Pe,o.filterSelection[t].isSelected=!1,o);let i=o?.filterSelection?.findIndex((({filterSelectionName:t})=>t===e));m(Pe,o.filterSelection[i].isSelected=!0,o),_(),U()}S instanceof Element&&S.closest(".filterType")&&(Pt(S,"highlight"),S=null),n(3,v=!1)}function W(e){if(c&&(o?.filterSelection?.length??0)<1)return ue();let t=e.target,i=t.classList,l=t.closest(".filterType"),r=t.closest(".options-wrap");!i.contains("filterType")&&!l||v?r&&!i.contains("closing-x")||i.contains("options-wrap")||(S instanceof Element&&S.closest(".filterType")&&(Pt(S,"highlight"),S=null),n(3,v=!1)):n(3,v=!0)}function B(){x&&clearTimeout(x),E=!0,x=setTimeout((()=>{E=!1}),300)}function R(e,t){if(E&&"mouse"===e.pointerType)return;let i=e.target,l=i.closest(".filter-select");if(l===b)return;let r=o?.filterSelection?.findIndex((({isSelected:e})=>e));if(b instanceof Element){let e=Array.from(b.parentElement.children).filter((e=>!e.classList.contains("disable-interaction"))).indexOf(b);if(i.classList.contains("icon")&&!i.classList.contains("fa-angle-down")&&o?.filterSelection?.[r].filters.Dropdown[e].selected)return;m(Pe,o.filterSelection[r].filters.Dropdown[e].selected=!1,o)}I&&n(0,I=!1),S instanceof Element&&S.closest(".filter-select")&&(Pt(S,"highlight"),S=null),m(Pe,o.filterSelection[r].filters.Dropdown[t].selected=!0,o),b=l}function Y(e){let t=o?.filterSelection?.findIndex((({isSelected:e})=>e));m(Pe,o.filterSelection[t].filters.Dropdown[e].selected=!1,o),S instanceof Element&&S.closest(".filter-select")&&(Pt(S,"highlight"),S=null),b=null}async function K(e){if(o?.filterSelection?.length<1||!o)return;let t=e.target,i=t.classList;if(i.contains("options-wrap")&&"fixed"===getComputedStyle(t).position){S instanceof Element&&(Pt(S,"highlight"),S=null),n(3,v=!1),n(4,k=!1);let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Pe,o.filterSelection[e]=o?.filterSelection?.[e],o),b=null}else if(!i.contains("options-wrap")&&!t.closest(".options-wrap")&&!i.contains("async-element")){let e=t.closest(".filterType");i.contains("filterType")||e||(S instanceof Element&&S.closest(".filterType")&&(Pt(S,"highlight"),S=null),n(3,v=!1));let l=t.closest(".sortFilter");i.contains("sortFilter")||l||(S instanceof Element&&S.closest(".sortFilter")&&(Pt(S,"highlight"),S=null),n(4,k=!1));let r=t.closest(".select");if(!i.contains("select")&&!i.contains("fa-angle-down")&&!r){S instanceof Element&&S.closest(".filter-select")&&(Pt(S,"highlight"),S=null);let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Pe,o.filterSelection[e]=o?.filterSelection?.[e],o),b=null}}}function G(e,t,n,i,l,r){if(c)return ue();let s=o?.filterSelection?.findIndex((({isSelected:e})=>e)),a=o?.filterSelection?.[s].filterSelectionName,d=o?.filterSelection?.[s].filters.Dropdown[i].options[n].selected;"none"===d||!0===d||"read"===l&&"included"!==d?(m(Pe,o.filterSelection[s].filters.Dropdown[i].options[n].selected="included",o),m(ze,u[a]=u[a].filter((i=>i.optionName+i.optionIdx+i.optionType!==e+n+t)),u),u[a].unshift({optionName:e,optionType:t,optionIdx:n,categIdx:i,selected:"included",changeType:l,filterType:"dropdown"}),ze.set(u)):"included"===d?"read"===l?(m(Pe,o.filterSelection[s].filters.Dropdown[i].options[n].selected="none",o),m(ze,u[a]=u[a].filter((o=>!(o.optionIdx===n&&o.optionName===e&&"dropdown"===o.filterType&&o.categIdx===i&&(!o.optionType||o.optionType===t)))),u)):(m(Pe,o.filterSelection[s].filters.Dropdown[i].options[n].selected="excluded",o),m(ze,u[a]=u[a].map((o=>(o.optionIdx===n&&o.optionName===e&&"dropdown"===o.filterType&&o.categIdx===i&&"included"===o.selected&&o.optionType===t&&(o.selected="excluded"),o))),u)):(m(Pe,o.filterSelection[s].filters.Dropdown[i].options[n].selected="none",o),m(ze,u[a]=u[a].filter((o=>!(o.optionIdx===n&&o.optionName===e&&"dropdown"===o.filterType&&o.categIdx===i&&o.optionType===t))),u)),U(r)}function X(e,t,n,i){let l=e.target.classList,r=e.which||e.keyCode||0;if(l.contains("checkbox")&&"click"===e.type||l.contains("checkbox")&&13!==r&&"keydown"===e.type||E&&"mouse"===e.pointerType)return;if(c)return void(l.contains("checkbox")||ue());let s=o?.filterSelection?.findIndex((({isSelected:e})=>e)),a=o?.filterSelection?.[s].filterSelectionName,d=o?.filterSelection?.[s].filters.Checkbox[n].isSelected;d?m(ze,u[a]=u[a].filter((e=>!(e.optionIdx===n&&e.optionName===t&&"checkbox"===e.filterType&&"included"===e.selected))),u):(m(ze,u[a]=u[a].filter((e=>e.optionName+e.optionIdx!==t+n)),u),u[a].unshift({optionName:t,optionIdx:n,filterType:"checkbox",selected:"included",changeType:"read"}),ze.set(u)),m(Pe,o.filterSelection[s].filters.Checkbox[n].isSelected=!o?.filterSelection?.[s].filters.Checkbox[n].isSelected,o),U(i)}function J(e,t,n,i,l,r,s){if(c)return ue();let a=o?.filterSelection?.findIndex((({isSelected:e})=>e)),d=o?.filterSelection?.[a].filterSelectionName,f=o?.filterSelection?.[a].filters["Input Number"][n].numberValue;if(O.includes(i)&&/^(>=|<=|<|>).*($)/.test(t)){let c=t.split(/(<=|>=|<|>)/).filter((e=>e));if(t!==f&&c.length<=2){let p,h,y=t.split(/(<=|>=|<|>)/).filter((e=>e));if(c[0].includes(">")||c[0].includes("<")?(p=c[0],h=c[1]):(p=c[1],h=c[0]),y[0].includes(">")||y[0].includes("<")?(y[0],y[1]):(y[1],y[0]),t!==f&&(!isNaN(h)&&(parseFloat(h)>=r||"number"!=typeof r)&&(parseFloat(h)<=l||"number"!=typeof l)||!h)){if(h){let e=u[d].findIndex((e=>e.optionName===i&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(ze,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==i+n)),u),u[d].unshift({optionName:i,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(u[d].splice(e,1),m(ze,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==i+n)),u),u[d].unshift({optionName:i,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),ze.set(u)}else m(ze,u[d]=u[d].filter((e=>!(e.optionIdx===n&&e.optionName===i&&e.optionValue===f&&"input number"===e.filterType))),u);m(Pe,o.filterSelection[a].filters["Input Number"][n].numberValue=t,o),U(s)}else Lt(e.target,f)}else{let t=u[d].findIndex((e=>e.optionName===i&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));t>=0&&m(ze,u[d][t].selected="included",u),Lt(e.target,f)}}else if(t!==f&&(!isNaN(t)&&(parseFloat(t)>=r||"number"!=typeof r)&&(parseFloat(t)<=l||"number"!=typeof l)||""===t)){if(""===t)m(ze,u[d]=u[d].filter((e=>!(e.optionIdx===n&&e.optionName===i&&e.optionValue===f&&"input number"===e.filterType))),u);else{let e=u[d].findIndex((e=>e.optionName===i&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(ze,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==i+n)),u),u[d].unshift({optionName:i,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(u[d].splice(e,1),m(ze,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==i+n)),u),u[d].unshift({optionName:i,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),ze.set(u)}m(Pe,o.filterSelection[a].filters["Input Number"][n].numberValue=t,o),U(s)}else elementIdx>=0&&m(ze,u[d][elementIdx].selected="included",u),Lt(e.target,f)}function Q(e,t,n,i,l,r,s,a){if(c)return ue();let d=o?.filterSelection?.findIndex((({isSelected:e})=>e)),f=o?.filterSelection?.[d].filterSelectionName;if("input number"===i){let e=u[f].findIndex((e=>e.optionName===n&&e.optionValue===a&&e.optionIdx===t&&"input number"===e.filterType));if(e>=0){let t=u[f][e].selected;m(ze,u[f][e].selected="included"===t?"excluded":"included",u)}}else if("checkbox"===i){let e=u[f].findIndex((e=>e.optionIdx===t&&e.optionName===n&&e.filterType===i)),l=u?.[f]?.[e]?.selected;"included"===l?(m(ze,u[f][e].selected="excluded",u),m(Pe,o.filterSelection[d].filters.Checkbox[t].isSelected=!1,o)):"excluded"===l&&(m(ze,u[f][e].selected="included",u),m(Pe,o.filterSelection[d].filters.Checkbox[t].isSelected=!0,o))}else if("dropdown"===i){let e=o?.filterSelection?.[d].filters.Dropdown[l].options[t].selected;"included"===e?(m(Pe,o.filterSelection[d].filters.Dropdown[l].options[t].selected="excluded",o),m(ze,u[f]=u[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"included"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="excluded"),e))),u)):"excluded"===e&&(m(Pe,o.filterSelection[d].filters.Dropdown[l].options[t].selected="included",o),m(ze,u[f]=u[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"excluded"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="included"),e))),u))}U(f)}function Z(e,t,n,i,l,r){if(c)return ue();let s=o?.filterSelection?.findIndex((({isSelected:e})=>e)),a=o?.filterSelection?.[s].filterSelectionName;m(Pe,"checkbox"===i?o.filterSelection[s].filters.Checkbox[t].isSelected=!1:"input number"===i?o.filterSelection[s].filters["Input Number"][t].numberValue="":o.filterSelection[s].filters.Dropdown[l].options[t].selected="none",o),m(ze,u[a]=u[a].filter((e=>!(e.optionName===n&&e.optionIdx===t&&e.filterType===i&&(!e.optionType||e.optionType===r)))),u),U(a)}async function te(e){if(c)return ue();if(await i("Do you want to remove all filters?")){let e=o?.filterSelection?.findIndex((({isSelected:e})=>e)),t=o?.filterSelection?.[e].filterSelectionName;o?.filterSelection?.[e].filters["Input Number"].forEach((e=>{e.numberValue=""})),o?.filterSelection?.[e].filters.Checkbox.forEach((e=>{e.isSelected=!1})),o?.filterSelection?.[e].filters.Dropdown.forEach((({options:t},n)=>{t.forEach((({selected:t},i)=>{m(Pe,o.filterSelection[e].filters.Dropdown[n].options[i].selected="none",o)}))})),m(Pe,o.filterSelection[e]=o?.filterSelection?.[e],o),m(ze,u[t]=[],u),U(t)}}function ne(e){let t=e.target,i=t.classList,o=t.closest(".sortFilter"),l=t.closest(".options-wrap");!i.contains("sortFilter")&&!o||k?l&&!i.contains("closing-x")||i.contains("options-wrap")||(S instanceof Element&&S.closest(".sortFilter")&&(Pt(S,"highlight"),S=null),n(4,k=!1)):n(4,k=!0)}function ie(e){if(c)return ue();let{sortName:t,sortType:i}=o?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],l=o?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));if(t===e){let e="desc"===i?"asc":"desc";m(Pe,o.sortFilter[l].sortType=e,o)}else if(t!==e){m(Pe,o.sortFilter[l].sortType="none",o);let t=o?.sortFilter?.findIndex((({sortName:t})=>t===e));m(Pe,o.sortFilter[t].sortType="desc",o)}U("sort"),S instanceof Element&&S.closest(".sortFilter")&&(Pt(S,"highlight"),S=null),n(4,k=!1)}function oe(){if(c)return ue();let{sortType:e}=o?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],t=o?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));m(Pe,o.sortFilter[t].sortType="desc"===e?"asc":"desc",o),U("sort")}function le(e){let t=e.which||e.keyCode||0;if(38==t||40==t){var i=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(i?.closest?.(".filterType")||i?.closest?.(".sortFilter")||i?.closest?.(".filter-select"))if(e.preventDefault(),S instanceof Element&&S?.closest?.(".options")?.children?.length){let e,n,i,o,l=S.closest(".options"),r=Array.from(l.querySelectorAll(".option")),s=r.indexOf(S);for(let l=0;l<r.length;l++)if(!r[l].classList.contains("disable-interaction"))if(38===t){if(o=r[l],l<s)n=r[l];else if(n){e=n;break}}else if(i||(i=r[l]),l>s){e=r[l];break}let a=!1;e instanceof Element||(i instanceof Element?(e=i,a=!0):o instanceof Element&&(e=o,a=!0)),e instanceof Element&&(Pt(S,"highlight"),S=e,jt(S,"highlight"),S.scrollIntoView({behavior:a?"auto":"smooth",container:l,block:"nearest",inline:"nearest"}))}else{let e=i.querySelectorAll(".option:not(.disable-interaction)");S=e[0],S instanceof Element&&(jt(S,"highlight"),S.scrollIntoView({behavior:"smooth",container:parent,block:"nearest",inline:"nearest"}))}}else if(13===t){if(S instanceof Element){let e=new KeyboardEvent("keydown",{key:"Enter"});S.dispatchEvent(e)}}else{i=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(i?.closest?.(".filter-select")&&9!==t||i instanceof Element&&"fixed"===getComputedStyle(i).position)return;let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));n(3,v=null),n(4,k=null),o?.filterSelection?.length>0&&(o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Pe,o.filterSelection[e]=o?.filterSelection?.[e],o)),b=null,S instanceof Element&&(Pt(S,"highlight"),S=null)}}async function re(){m(Ge,a=!a,a),In(a,"gridFullView")}async function se(e=null){s?.length>36&&!a&&await ce(),n(6,F="boolean"==typeof e?e:!F)}async function ae(e=null){s?.length>36&&!a&&await ce(),n(5,z="boolean"==typeof e?e:!z),_()}function ce(){return new Promise((e=>{l instanceof Worker&&(m(Fe,s=null,s),r().then((()=>{l.postMessage({reload:!0})}))),N={resolve:e}}))}function ue(){i({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}ft.subscribe((e=>{"boolean"==typeof e&&N?.resolve?.()})),window.checkOpenDropdown=()=>(b||v||k)&&window.visualViewport.width<=425,window.closeDropdown=()=>{S instanceof Element&&(Pt(S,"highlight"),S=null),n(3,v=!1),n(4,k=!1);let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Pe,o.filterSelection[e]=o?.filterSelection?.[e],o),b=null},H((()=>{let e=document.getElementById("filters");e.addEventListener("scroll",B),((e,t="xy")=>{var n,i,o,l,r;let s=s=>{o&&"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(e.scrollTop=n-s.pageY+r),t.toLowerCase().includes("x")&&(e.scrollLeft=i-s.pageX+l))},a=s=>{"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(n=s.pageY,r=e.scrollTop),t.toLowerCase().includes("x")&&(i=s.pageX,l=e.scrollLeft),o=!0)},c=e=>{"mouse"===e.pointerType&&(o=!1)};e.addEventListener("pointermove",s),e.addEventListener("pointerdown",a),window.addEventListener("pointerup",c),window.addEventListener("pointercancel",c)})(e,"x"),document.addEventListener("keydown",le),window.addEventListener("resize",V),window.addEventListener("click",K)}));return e.$$set=e=>{"$$scope"in e&&n(33,L=e.$$scope)},[I,C,P,v,k,z,F,o,a,c,u,p,y,g,w,O,q,W,R,Y,G,X,J,Q,Z,te,ne,ie,oe,re,se,ae,ue,L,$,(e,{optionName:t})=>Do(t,e.optKeyword)||""===e.optKeyword,function(){g=this.value,et.set(g)},e=>"Enter"===e.key&&W(e),e=>"Enter"===e.key&&W(e),(e,t)=>"Enter"===t.key&&q(e),e=>"Enter"===e.key&&se(e),function(e,t){o.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,Pe.set(o)},(e,t)=>"Enter"===t.key&&Y(e),(e,t)=>("Enter"===t.key||"ArrowDown"===t.key||"ArrowUp"===t.key)&&R(t,e),(e,t)=>R(t,e),(e,t)=>"Enter"===t.key&&Y(e),function(e,t){o.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,Pe.set(o)},(e,t,n,i,o,l)=>"Enter"===l.key&&G(e.optionName,t.filName,n,i,t.changeType,o.filterSelectionName),e=>{e.target.checked=!1,ue()},(e,t,n,i)=>X(i,e.filName,t,n.filterSelectionName),function(e,t){e[t].isSelected=this.checked},(e,t,n,i)=>X(i,e.filName,t,n.filterSelectionName),(e,t,n,i)=>"Enter"===i.key&&X(i,e.filName,t,n.filterSelectionName),(e,t,n,i)=>J(i,i.target.value,e,t.filName,t.maxValue,t.minValue,n.filterSelectionName),e=>function(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}(e,"filters"),e=>"Enter"===e.key&&te(),e=>"Enter"===e.key&&te(),(e,t,n,i,o,l)=>Z(0,e,t,n,i,o),(e,t,n,i,o,l)=>"Enter"===l.key&&Z(0,e,t,n,i,o),(e,t,n,i,o,l,r,s)=>Q(0,e,t,n,i,0,l,r),(e,t,n,i,o,l,r,s)=>"Enter"===s.key&&Q(0,e,t,n,i,0,l,r),e=>"Enter"===e.key&&ae(),e=>"Enter"===e.key&&re(),e=>"Enter"===e.key&&oe(),e=>"Enter"===e.key&&ne(e),e=>"Enter"===e.key&&ne(e),(e,t)=>"Enter"===t.key&&ie(e)]}function Xo(e){let t,n,i,l,r,s,a,c,u,d,f,p,m,h,y,g,w,v,b=!e[1]&&Jo(e);return{c(){t=$("div"),n=$("div"),i=$("div"),l=$("div"),r=$("h2"),s=L(e[2]),a=I(),c=$("h2"),u=L(e[3]),d=I(),f=$("div"),b&&b.c(),p=I(),m=$("button"),h=L(e[4]),z(r,"class","confirm-title svelte-1980t5h"),z(c,"class","confirm-text svelte-1980t5h"),z(l,"class","confirm-info-container svelte-1980t5h"),z(m,"class","button svelte-1980t5h"),z(f,"class","confirm-button-container svelte-1980t5h"),z(i,"class","confirm-container svelte-1980t5h"),z(n,"class","confirm-wrapper svelte-1980t5h"),M(n,"--height",e[7]?"calc(100% + 1px)":"100%"),z(t,"class","confirm svelte-1980t5h")},m(o,y){A(o,t,y),S(t,n),S(n,i),S(i,l),S(l,r),S(r,s),S(l,a),S(l,c),S(c,u),S(i,d),S(i,f),b&&b.m(f,null),S(f,p),S(f,m),S(m,h),e[12](m),g=!0,w||(v=[j(m,"click",e[8]),j(m,"keydown",e[13]),j(t,"click",e[10]),j(t,"keydown",e[14])],w=!0)},p(e,t){(!g||4&t)&&F(s,e[2]),(!g||8&t)&&F(u,e[3]),e[1]?b&&(b.d(1),b=null):b?b.p(e,t):(b=Jo(e),b.c(),b.m(f,p)),(!g||16&t)&&F(h,e[4]),128&t&&M(n,"--height",e[7]?"calc(100% + 1px)":"100%")},i(e){g||(te((()=>{g&&(y||(y=ye(i,Dt,{y:20,duration:300},!0)),y.run(1))})),g=!0)},o(e){y||(y=ye(i,Dt,{y:20,duration:300},!1)),y.run(0),g=!1},d(n){n&&T(t),b&&b.d(),e[12](null),n&&y&&y.end(),w=!1,o(v)}}}function Jo(e){let t,n,i,l;return{c(){t=$("button"),n=L(e[5]),z(t,"class","button svelte-1980t5h")},m(o,r){A(o,t,r),S(t,n),i||(l=[j(t,"click",e[9]),j(t,"keydown",e[11])],i=!0)},p(e,t){32&t&&F(n,e[5])},d(e){e&&T(t),i=!1,o(l)}}}function Qo(e){let t,n,i=e[0]&&Xo(e);return{c(){i&&i.c(),t=C()},m(e,o){i&&i.m(e,o),A(e,t,o),n=!0},p(e,[n]){e[0]?i?(i.p(e,n),1&n&&pe(i,1)):(i=Xo(e),i.c(),pe(i,1),i.m(t.parentNode,t)):i&&(de(),me(i,1,1,(()=>{i=null})),fe())},i(e){n||(pe(i),n=!0)},o(e){me(i),n=!1},d(e){i&&i.d(e),e&&T(t)}}}function Zo(e,t,n){let i;d(e,rt,(e=>n(7,i=e)));const o=function(){const e=R();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const l=O(t,n,{cancelable:i});return o.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}();let l,r,{showConfirm:s=!1}=t,{isAlert:a=!1}=t,{confirmTitle:c="Confirmation"}=t,{confirmText:u="Do you want to continue?"}=t,{confirmLabel:f="OK"}=t,{cancelLabel:p="CANCEL"}=t,m=!1;function h(e){m&&"keydown"!==e.type||(n(0,s=!1),o("confirmed"))}function y(e){m&&"keydown"!==e.type||(n(0,s=!1),o("cancelled"))}function g(e){if(m&&"keydown"!==e.type)return;let t=e.target,n=t.classList;t.closest(".confirm-container")||n.contains("confirm-container")||y(e)}var w;w=()=>{s?(m=!0,r=setTimeout((()=>{m=!1}),500),l?.focus?.()):(r&&clearTimeout(r),m=!1)},R().$$.after_update.push(w);return e.$$set=e=>{"showConfirm"in e&&n(0,s=e.showConfirm),"isAlert"in e&&n(1,a=e.isAlert),"confirmTitle"in e&&n(2,c=e.confirmTitle),"confirmText"in e&&n(3,u=e.confirmText),"confirmLabel"in e&&n(4,f=e.confirmLabel),"cancelLabel"in e&&n(5,p=e.cancelLabel)},[s,a,c,u,f,p,l,i,h,y,g,e=>"Enter"===e.key&&y(e),function(e){K[e?"unshift":"push"]((()=>{l=e,n(6,l)}))},e=>"Enter"===e.key&&h(e),e=>"Enter"===e.key&&g(e)]}var el={Fixed:{Navigator:class extends Ee{constructor(e){super(),xe(this,e,zi,Pi,r,{},null,[-1,-1])}},Menu:class extends Ee{constructor(e){super(),xe(this,e,_i,Oi,r,{},null,[-1,-1])}}},Anime:{AnimeGrid:class extends Ee{constructor(e){super(),xe(this,e,sn,nn,r,{},null,[-1,-1])}},Fixed:{AnimePopup:class extends Ee{constructor(e){super(),xe(this,e,Li,xi,r,{},null,[-1,-1,-1,-1])}},AnimeOptionsPopup:class extends Ee{constructor(e){super(),xe(this,e,ji,Ci,r,{})}}}},Others:{Search:class extends Ee{constructor(e){super(),xe(this,e,Go,Fo,r,{},null,[-1,-1,-1,-1,-1])}},Confirm:class extends Ee{constructor(e){super(),xe(this,e,Zo,Qo,r,{showConfirm:0,isAlert:1,confirmTitle:2,confirmText:3,confirmLabel:4,cancelLabel:5})}}}},tl="@vercel/analytics",nl="1.0.1",il=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function ol(e="auto"){window.vam="auto"!==e?e:function(){try{const e=process.env.NODE_ENV;if("development"===e||"test"===e)return"development"}catch(e){}return"production"}()}function ll(){return"development"===(window.vam||"production")}function rl(e={debug:!0}){var t;if("undefined"==typeof window)return;ol(e.mode),il(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=ll()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${n}"]`))return;const i=document.createElement("script");i.src=n,i.defer=!0,i.setAttribute("data-sdkn",tl),i.setAttribute("data-sdkv",nl),ll()&&!1===e.debug&&i.setAttribute("data-debug","false"),document.head.appendChild(i)}function sl(e){let t,n;return t=new el.Anime.AnimeGrid({}),{c(){be(t.$$.fragment)},m(e,i){ke(t,e,i),n=!0},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function al(t){let n,i,l,r,s;return{c(){n=$("div"),n.innerHTML='<i class="list-update-icon fa-solid fa-arrows-rotate svelte-1ebcgky"></i> \n\t\t\t<h3 class="list-update-label svelte-1ebcgky">List Update Available</h3>',z(n,"class","list-update-container svelte-1ebcgky"),z(n,"tabindex","0")},m(e,i){A(e,n,i),l=!0,r||(s=[j(n,"click",t[9]),j(n,"keydown",t[10])],r=!0)},p:e,i(e){l||(te((()=>{l&&(i||(i=ye(n,Dt,{x:50,duration:300},!0)),i.run(1))})),l=!0)},o(e){i||(i=ye(n,Dt,{x:50,duration:300},!1)),i.run(0),l=!1},d(e){e&&T(n),e&&i&&i.end(),r=!1,o(s)}}}function cl(e){let t,n,i,o,l,r,s,a,c,u,d,f,p,m,h;n=new el.Fixed.Navigator({}),o=new el.Fixed.Menu({}),s=new el.Others.Search({props:{$$slots:{default:[sl]},$$scope:{ctx:e}}}),c=new el.Anime.Fixed.AnimePopup({}),d=new el.Anime.Fixed.AnimeOptionsPopup({}),p=new el.Others.Confirm({props:{showConfirm:e[0],isAlert:e[1],confirmTitle:e[2],confirmText:e[3],confirmLabel:e[4],cancelLabel:e[5]}}),p.$on("confirmed",e[7]),p.$on("cancelled",e[8]);let y=e[6]&&al(e);return{c(){t=$("main"),be(n.$$.fragment),i=I(),be(o.$$.fragment),l=I(),r=$("div"),be(s.$$.fragment),a=I(),be(c.$$.fragment),u=I(),be(d.$$.fragment),f=I(),be(p.$$.fragment),m=I(),y&&y.c(),z(r,"class","home svelte-1ebcgky"),z(t,"class","svelte-1ebcgky")},m(e,g){A(e,t,g),ke(n,t,null),S(t,i),ke(o,t,null),S(t,l),S(t,r),ke(s,r,null),S(r,a),ke(c,r,null),S(t,u),ke(d,t,null),S(t,f),ke(p,t,null),S(t,m),y&&y.m(t,null),h=!0},p(e,n){const i={};8388608&n[1]&&(i.$$scope={dirty:n,ctx:e}),s.$set(i);const o={};1&n[0]&&(o.showConfirm=e[0]),2&n[0]&&(o.isAlert=e[1]),4&n[0]&&(o.confirmTitle=e[2]),8&n[0]&&(o.confirmText=e[3]),16&n[0]&&(o.confirmLabel=e[4]),32&n[0]&&(o.cancelLabel=e[5]),p.$set(o),e[6]?y?(y.p(e,n),64&n[0]&&pe(y,1)):(y=al(e),y.c(),pe(y,1),y.m(t,null)):y&&(de(),me(y,1,1,(()=>{y=null})),fe())},i(e){h||(pe(n.$$.fragment,e),pe(o.$$.fragment,e),pe(s.$$.fragment,e),pe(c.$$.fragment,e),pe(d.$$.fragment,e),pe(p.$$.fragment,e),pe(y),h=!0)},o(e){me(n.$$.fragment,e),me(o.$$.fragment,e),me(s.$$.fragment,e),me(c.$$.fragment,e),me(d.$$.fragment,e),me(p.$$.fragment,e),me(y),h=!1},d(e){e&&T(t),Se(n),Se(o),Se(s),Se(c),Se(d),Se(p),y&&y.d()}}}function ul(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w,v,b,k,S,x,E,A,T,N,$,L,I,C,j,P,z,F,D,M;d(e,Ne,(e=>n(17,i=e))),d(e,$e,(e=>n(18,o=e))),d(e,nt,(e=>n(19,l=e))),d(e,Me,(e=>n(20,r=e))),d(e,tt,(e=>n(21,s=e))),d(e,je,(e=>n(22,a=e))),d(e,Fe,(e=>n(23,c=e))),d(e,et,(e=>n(24,u=e))),d(e,De,(e=>n(25,f=e))),d(e,ct,(e=>n(6,p=e))),d(e,ut,(e=>n(26,h=e))),d(e,at,(e=>n(27,y=e))),d(e,Ge,(e=>n(28,g=e))),d(e,ot,(e=>n(29,w=e))),d(e,rt,(e=>n(30,v=e))),d(e,it,(e=>n(31,b=e))),d(e,Oe,(e=>n(32,k=e))),d(e,Ke,(e=>n(33,S=e))),d(e,Ie,(e=>n(34,x=e))),d(e,dt,(e=>n(35,E=e))),d(e,Re,(e=>n(36,A=e))),d(e,Be,(e=>n(37,T=e))),d(e,We,(e=>n(38,N=e))),d(e,_e,(e=>n(39,$=e))),d(e,Ue,(e=>n(40,L=e))),d(e,Ve,(e=>n(41,I=e))),d(e,Ye,(e=>n(42,C=e))),d(e,Pe,(e=>n(43,j=e))),d(e,ze,(e=>n(44,P=e))),d(e,Ce,(e=>n(45,z=e))),d(e,qe,(e=>n(46,F=e))),m($e,o=It(),o),(async()=>{m(qe,F=await qn("exportPathIsAvailable"),F)})(),rl(),window.onload=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-PPMY92TJCE")};const O=new Function;window.onYouTubeIframeAPIReady=O;let U=[];m(Me,r="Getting Existing Data",r);let _=setInterval((()=>{r||m(Me,r="Please Wait...",r)}),300);function V(){En().then((()=>{m(Oe,k=!1,k),kn().finally((()=>{q()}))})).catch((e=>{q(),m(Oe,k=!1,k),m(Me,r="Something went wrong...",r),console.error(e)}))}function q(){if(N){let e=!1;A?A instanceof Date&&!isNaN(A)&&(new Date).getTime()-A.getTime()>W&&(e=!0):e=!0,e&&Tn().then((()=>{m(Re,A=new Date,A),Vn(A,"lastRunnedAutoExportDate")}))}}U.push(new Promise((async(e,t)=>{let n=await qn("lastAnimeUpdate"),i=!(n instanceof Date&&!isNaN(n));if(!i){await qn("animeEntriesIsEmpty")&&(i=!0)}var o;i?(m(Fe,c=null,c),new Promise(((e,t)=>{jn=setInterval((()=>{Me.set("Getting Anime Entries")}),300),cn("./webapi/worker/getAnimeEntries.js").then((n=>{jn&&(clearInterval(jn),jn=null);let i=new Worker(n);Cn&&clearTimeout(Cn),i.postMessage(o),i.onmessage=({data:t})=>{void 0!==t?.status?(fn=!0,Me.set(t.status)):(fn=!1,gt.update((e=>!e)),Cn=setTimeout((()=>{i.terminate()}),dn),e(t))},i.onerror=e=>{t(e)}})).catch((e=>{jn&&(clearInterval(jn),jn=null),Me.set(null),_n(),t(e)}))})).then((()=>{e()})).catch((async()=>{t()}))):e()}))),U.push(new Promise((async e=>{let t=await qn("username");t&&m(Ce,z=t,z),e()}))),U.push(new Promise((async e=>{var t;await qn("animeFranchisesLength")<1?new Promise(((e,n)=>{zn=setInterval((()=>{jn||Me.set("Getting Anime Franchise")}),300),cn("./webapi/worker/getAnimeFranchises.js").then((i=>{zn&&(clearInterval(zn),zn=null);let o=new Worker(i);Pn&&clearTimeout(Pn),o.postMessage(t),o.onmessage=({data:t})=>{void 0!==t?.status?(fn=!0,Me.set(t.status)):(gt.update((e=>!e)),fn=!1,Pn=setTimeout((()=>{o.terminate()}),dn),e(t))},o.onerror=e=>{n(e)}})).catch((e=>{zn&&(clearInterval(zn),zn=null),Me.set(null),_n(),n(e)}))})).then((()=>{e()})).catch((()=>{reject()})):e()}))),U.push(new Promise((async e=>{On().then((t=>{m(ze,P=t.activeTagFilters,P),m(Pe,j=t.filterOptions,j),e()})).catch((()=>{reject()}))}))),U.push(new Promise((async e=>{let t=await qn("autoPlay");"boolean"==typeof t&&m(Ye,C=t,C);let n=screen.availHeight>screen.availWidth,i=await qn("gridFullView")??n;"boolean"==typeof i&&m(Ge,g=i,g),m(je,a=await qn("hiddenEntries")||{},a),m(Ve,I=await qn("lastRunnedAutoUpdateDate"),I),m(Re,A=await qn("lastRunnedAutoExportDate"),A),m(Ue,L=await qn("autoUpdate")??!1,L),m(We,N=await qn("autoExport")??!1,N),e()}))),Promise.all(U).then((async()=>{let e=await qn("shouldProcessRecommendation");if(!e){await qn("recommendedAnimeListLength")<1&&(e=!0)}new Promise((async t=>{e?wn().then((async()=>{await Vn(!1,"shouldProcessRecommendation"),t()})).catch((e=>{throw e})):t()})).then((()=>{hn().then((async e=>{m(De,f=e.animeLoaderWorker,f),m(et,u="",u),e?.isNew&&(m(Fe,c=e.finalAnimeList,c),m(je,a=e.hiddenEntries,a),m(tt,s=e.numberOfNextLoadedGrid,s),m(Me,r=null,r),V(),m(Ke,S=!1,S))})).catch((e=>{throw e}))}))})).catch((async e=>{V(),m(Ke,S=!1,S),m(Me,r="Something went wrong...",r),l?.(o?{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}:{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."}),console.error(e)})),Ke.subscribe((async e=>{!1===e&&clearInterval(_)})),Fe.subscribe((async e=>{S&&e?.length>0&&!1!==S&&m(Ke,S=!1,S)})),yt.subscribe((async e=>{"boolean"!=typeof e||S||(m(ct,p=!1,p),f&&(f.terminate(),m(De,f=null,f)),hn().then((async e=>{m(De,f=e.animeLoaderWorker,f),m(et,u="",u),e?.isNew&&(m(Fe,c=e.finalAnimeList,c),m(je,a=e.hiddenEntries,a),m(tt,s=e.numberOfNextLoadedGrid,s)),m(Me,r=null,r)})).catch((e=>{throw e})))})),ht.subscribe((async e=>{"boolean"!=typeof e||S||(await Vn(!0,"shouldProcessRecommendation"),m(ct,p=!1,p),wn().then((async()=>{await Vn(!1,"shouldProcessRecommendation"),wt.update((e=>!e)),yt.update((e=>!e))})).catch((e=>{throw yt.update((e=>!e)),e})))})),gt.subscribe((async e=>{"boolean"!=typeof e||S||(await Vn(!0,"shouldProcessRecommendation"),wn().then((async()=>{await Vn(!1,"shouldProcessRecommendation"),wt.update((e=>!e)),vt.update((e=>!e))})).catch((e=>{throw vt.update((e=>!e)),e})))})),vt.subscribe((async e=>{"boolean"!=typeof e||S||((v||(g?M.scrollLeft>500:window.scrollY>M?.offsetTop-55))&&c?.length?m(ct,p=!0,p):(f&&(f.terminate(),m(De,f=null,f)),hn().then((async e=>{m(De,f=e.animeLoaderWorker,f),m(et,u="",u),e?.isNew&&(m(Fe,c=e.finalAnimeList,c),m(je,a=e.hiddenEntries,a),m(tt,s=e.numberOfNextLoadedGrid,s)),m(Me,r=null,r)})).catch((e=>{throw e}))))})),wt.subscribe((async e=>{"boolean"!=typeof e||S||On()}));let W=36e5;Ue.subscribe((async e=>{if(!0===e){Vn(!0,"autoUpdate");let e=!1;if(I?I instanceof Date&&!isNaN(I)&&(new Date).getTime()-I.getTime()>W&&(e=!0):e=!0,e)pt.update((e=>!e)),$&&clearInterval($),m(_e,$=setInterval((()=>{L&&pt.update((e=>!e))}),W),$);else{let e=W-((new Date).getTime()-I?.getTime())||0;setTimeout((()=>{!1!==L&&(pt.update((e=>!e)),$&&clearInterval($),m(_e,$=setInterval((()=>{L&&pt.update((e=>!e))}),W),$))}),e)}}else!1===e&&($&&clearInterval($),Vn(!1,"autoUpdate"))})),pt.subscribe((e=>{"boolean"==typeof e&&!S&&navigator.onLine&&(m(Oe,k=!0,k),En().then((()=>{m(Oe,k=!1,k),kn()})).catch((e=>{m(Oe,k=!1,k),m(Me,r="Something went wrong...",r),console.error(e)})))})),We.subscribe((async e=>{if(!0===e){Vn(!0,"autoExport");let e=!1;if(A?A instanceof Date&&!isNaN(A)&&(new Date).getTime()-A.getTime()>W&&(e=!0):e=!0,e)mt.update((e=>!e)),T&&clearInterval(T),m(Be,T=setInterval((()=>{N&&mt.update((e=>!e))}),W),T);else{let e=W-((new Date).getTime()-A?.getTime())||0;setTimeout((()=>{!1!==N&&(mt.update((e=>!e)),T&&clearInterval(T),m(Be,T=setInterval((()=>{N&&mt.update((e=>!e))}),W),T))}),e)}}else!1===e&&(T&&clearInterval(T),Vn(!1,"autoExport"))})),mt.subscribe((e=>{"boolean"!=typeof e||S||Tn().then((()=>{m(Re,A=new Date,A),Vn(A,"lastRunnedAutoExportDate")}))})),bt.subscribe((e=>{"boolean"==typeof e&&(h||m(ut,h=!0,h),E&&clearTimeout(E),m(dt,E=setTimeout((()=>{m(ut,h=!1,h)}),1e3),E))})),document.addEventListener("visibilitychange",(()=>{S||o||"visible"!==document.visibilityState||k||En({visibilityChange:!0})}));let B=!1;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");let R,Y=()=>{m(Ie,x=!0,x),window.removeEventListener("wheel",Y)};window.addEventListener("wheel",Y),window.checkEntries=()=>{S||k||En({visibilityChange:!0})},window.addEventListener("popstate",(()=>{window.backPressed()})),window.backPressed=()=>{if(y&&!o)window.history.go(-1);else{if(o||window.history.pushState("visited",""),B)return ie(),void n(0,B=!1);if(D&&D===document?.activeElement&&window.visualViewport.width<=750)D?.focus?.(),D?.blur?.();else{if(b)return void m(it,b=!1,b);if(v)return void m(rt,v=!1,v);if(w)return void m(ot,w=!1,w);if(window.checkOpenDropdown?.())return void window.closeDropdown?.();if(g?M.scrollLeft>500:window.scrollY>200)return g?(M.scrollTop=M.scrollTop,M.scrollLeft=M.scrollLeft,M?.children?.[0]?.scrollIntoView?.({container:M,behavior:"smooth",block:"nearest",inline:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"})),void window.setShouldGoBack(!0);g?(M.scrollTop=M.scrollTop,M.scrollLeft=M.scrollLeft,M?.children?.[0]?.scrollIntoView?.({container:M,behavior:"smooth",block:"nearest",inline:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"})),window.setShouldGoBack(!0)}}},Ge.subscribe((async e=>{await ee(),e?M?.scrollLeft>500&&window.setShouldGoBack(!1):window?.scrollY>200&&window.setShouldGoBack(!1)})),rt.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),it.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),window.addEventListener("scroll",(()=>{0===window.scrollY||g||window.setShouldGoBack(!1),bt.update((e=>!e))})),H((()=>{D=document.getElementById("usernameInput"),M=document.getElementById("anime-grid"),M?.addEventListener("scroll",(()=>{g&&(0!==M.scrollLeft&&window.setShouldGoBack(!1),bt.update((e=>!e)))})),document.getElementById("popup-container").addEventListener("scroll",(()=>{bt.update((e=>!e))}))})),window.setShouldGoBack=e=>{if(o)try{JSBridge.setShouldGoBack(e)}catch(e){}else"visited"!==window.history.state&&window.history.pushState("visited",""),m(at,y=e,y)},window.copyToClipBoard=e=>{if(o)try{JSBridge.copyToClipBoard(e)}catch(e){}else navigator?.clipboard?.writeText?.(e)};let K,G,X,J,Q,Z,te,ne=!1;function ie(){Z?.resolve?.(!1),Z=n(1,K=n(2,G=n(3,X=n(4,J=n(5,Q=void 0))))),n(0,B=!1)}async function oe(e){if(await l({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,i=n.classList;t=i.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),te&&clearTimeout(te),jt(t,"fa-spin"),f&&(f.terminate(),m(De,f=null,f)),hn().then((async e=>{m(ct,p=!1,p),te=setTimeout((()=>{Pt(t,"fa-spin")}),300),m(De,f=e.animeLoaderWorker,f),m(et,u="",u),e?.isNew&&(m(Fe,c=e.finalAnimeList,c),m(je,a=e.hiddenEntries,a),m(tt,s=e.numberOfNextLoadedGrid,s)),m(Me,r=null,r)})).catch((e=>{throw e}))}}if(document.addEventListener("pointerdown",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ne=!0,R&&clearTimeout(R),R=setTimeout((()=>{let e=t.getAttribute("copy-value");e&&!h&&ne&&(t.style.pointerEvents="none",setTimeout((()=>{t.style.pointerEvents=""}),500),window.copyToClipBoard(e))}),500))})),document.addEventListener("pointerup",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ne=!1,R&&clearTimeout(R))})),document.addEventListener("pointercancel",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ne=!1,R&&clearTimeout(R))})),m(nt,l=window.confirmPromise=async e=>new Promise((t=>{n(1,K=e?.isAlert||!1),n(2,G=e?.title||(K?"Heads Up":"Confirmation")),n(3,X=("string"==typeof e?e:e?.text)||"Are you sure you want to continue"),n(4,J=e?.confirmLabel||"OK"),n(5,Q=e?.cancelLabel||"CANCEL"),n(0,B=!0),Z={resolve:t}})),l),window.updateAppAlert=async()=>{if(await(l?.({title:"New updates are available",text:"You may want to download the new version.",confirmLabel:"DOWNLOAD"})))try{JSBridge.downloadUpdate()}catch(e){window.open("https://github.com/u-Kuro/Kanshi.Anime-Recommendation/raw/main/Kanshi.apk","_blank")}},window.appIsUpToDate=()=>{l?.({isAlert:!0,text:"There are currently no updates available."})},o&&navigator.onLine)try{JSBridge.checkAppID(i,!1)}catch(e){window.updateAppAlert?.()}return[B,K,G,X,J,Q,p,function(){Z?.resolve?.(!0),Z=n(1,K=n(2,G=n(3,X=n(4,J=n(5,Q=void 0))))),n(0,B=!1)},ie,oe,e=>"Enter"===e.key&&oe(e)]}var dl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};window.FontAwesomeKitConfig={asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrl:"https://ka-f.fontawesome.com",baseUrlKit:"https://kit.fontawesome.com",detectConflictsUntil:null,iconUploads:{},id:76794169,license:"free",method:"css",minify:{enabled:!0},token:"5a5fa257cb",v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},v5FontFaceShim:{enabled:!0},version:"6.2.0"},function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)),i}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){var n,o;n=e,o=i[t],t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n=t&&t.addOn||"",i=(n=t&&t.baseFilename||e.license+n,t&&t.minify?".min":""),o=t&&t.fileSuffix||e.method;return t=t&&t.subdir||e.method,e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/"+t+"/"+n+i+"."+o}function l(e,t){t="."+Array.prototype.join.call(t||["fa"],",."),t=e.querySelectorAll(t),Array.prototype.forEach.call(t,(function(t){var n=t.getAttribute("title"),i=(t.setAttribute("aria-hidden","true"),!t.nextElementSibling||!t.nextElementSibling.classList.contains("sr-only"));n&&i&&((i=e.createElement("span")).innerHTML=n,i.classList.add("sr-only"),t.parentNode.insertBefore(i,t.nextSibling))}))}function r(){}var s,a=void 0!==dl&&void 0!==dl.process&&"function"==typeof dl.process.emit,c="undefined"==typeof setImmediate?setTimeout:setImmediate,u=[];function d(){for(var e=0;e<u.length;e++)u[e][0](u[e][1]);s=!(u=[])}function f(e,t){u.push([e,t]),s||(s=!0,c(d,0))}function p(e){var t=(n=e.owner)._state,n=n._data,i=e[t],o=e.then;if("function"==typeof i){t="fulfilled";try{n=i(n)}catch(e){g(o,e)}}m(o,n)||("fulfilled"===t&&h(o,n),"rejected"===t&&g(o,n))}function m(t,n){var i;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===e(n))){var o=n.then;if("function"==typeof o)return o.call(n,(function(e){i||(i=!0,(n===e?y:h)(t,e))}),(function(e){i||(i=!0,g(t,e))})),1}}catch(o){return i||g(t,o),1}}function h(e,t){e!==t&&m(e,t)||y(e,t)}function y(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(v,e))}function g(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(b,e))}function w(e){e._then=e._then.forEach(p)}function v(e){e._state="fulfilled",w(e)}function b(e){e._state="rejected",w(e),!e._handled&&a&&dl.process.emit("unhandledRejection",e._data,e)}function k(e){dl.process.emit("rejectionHandled",e)}function S(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof S==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[];var t=e,n=this;function i(e){g(n,e)}try{t((function(e){h(n,e)}),i)}catch(t){i(t)}}S.prototype={constructor:S,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(r),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&a&&f(k,this)),"fulfilled"===this._state||"rejected"===this._state?f(p,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},S.all=function(e){if(Array.isArray(e))return new S((function(t,n){for(var i,o=[],l=0,r=0;r<e.length;r++)(i=e[r])&&"function"==typeof i.then?i.then(function(e){return l++,function(n){o[e]=n,--l||t(o)}}(r),n):o[r]=i;l||t(o)}));throw new TypeError("You must pass an array to Promise.all().")},S.race=function(e){if(Array.isArray(e))return new S((function(t,n){for(var i,o=0;o<e.length;o++)(i=e[o])&&"function"==typeof i.then?i.then(t,n):t(i)}));throw new TypeError("You must pass an array to Promise.race().")},S.resolve=function(t){return t&&"object"===e(t)&&t.constructor===S?t:new S((function(e){e(t)}))},S.reject=function(e){return new S((function(t,n){n(e)}))};var x,E,A,T,N="function"==typeof Promise?Promise:S;function $(e,t){var n=t.fetch,i=t.XMLHttpRequest,o=(t=t.token,e);return"URLSearchParams"in window?(o=new URL(e)).searchParams.set("token",t):o=o+"?token="+encodeURIComponent(t),o=o.toString(),new N((function(e,t){var l;"function"==typeof n?n(o,{mode:"cors",cache:"default"}).then((function(e){if(e.ok)return e.text();throw new Error("")})).then((function(t){e(t)})).catch(t):"function"==typeof i?((l=new i).addEventListener("loadend",(function(){this.responseText?e(this.responseText):t(new Error(""))})),["abort","error","timeout"].map((function(e){l.addEventListener(e,(function(){t(new Error(""))}))})),l.open("GET",o),l.send()):t(new Error(""))}))}function L(e,t,n){var o=e;return[[/(url\("?)\.\.\/\.\.\/\.\./g,function(e,n){return"".concat(n).concat(t)}],[/(url\("?)\.\.\/webfonts/g,function(e,i){return"".concat(i).concat(t,"/releases/v").concat(n,"/webfonts")}],[/(url\("?)https:\/\/kit-free([^.])*\.fontawesome\.com/g,function(e,n){return"".concat(n).concat(t)}]].forEach((function(e){t=2,e=function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,l=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}return n}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?i(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t=e[0];e=e[1],o=o.replace(t,e)})),o}function I(e,t,i){i=2<arguments.length&&void 0!==i?i:function(){};var r=t.document||r,s=(r=l.bind(l,r,["fa","fab","fas","far","fal","fad","fak"]),0<Object.keys(e.iconUploads||{}).length);return e.autoA11y.enabled&&i(r),i=[{id:"fa-main",addOn:void 0}],e.v4shim&&e.v4shim.enabled&&i.push({id:"fa-v4-shims",addOn:"-v4-shims"}),e.v5FontFaceShim&&e.v5FontFaceShim.enabled&&i.push({id:"fa-v5-font-face",addOn:"-v5-font-face"}),e.v4FontFaceShim&&e.v4FontFaceShim.enabled&&i.push({id:"fa-v4-font-face",addOn:"-v4-font-face"}),s&&i.push({id:"fa-kit-upload",customCss:!0}),r=i.map((function(i){return new N((function(l,r){$(i.customCss?e.baseUrlKit+"/"+e.token+"/"+e.id+"/kit-upload.css":o(e,{addOn:i.addOn,minify:e.minify.enabled}),t).then((function(o){var r,s,a;l((r=n(n({},t),{},{baseUrl:e.baseUrl,version:e.version,id:i.id,contentFilter:function(e,t){return L(e,t.baseUrl,t.version)}}),s=r.contentFilter||function(e,t){return e},a=document.createElement("style"),s=document.createTextNode(s(o,r)),a.appendChild(s),a.media="all",r.id&&a.setAttribute("id",r.id),r&&r.detectingConflicts&&r.detectionIgnoreAttr&&a.setAttributeNode(document.createAttribute(r.detectionIgnoreAttr)),a))})).catch(r)}))})),N.all(r)}function C(e,t){t.autoA11y=e.autoA11y.enabled,"pro"===e.license&&(t.autoFetchSvg=!0,t.fetchSvgFrom=e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/svgs",t.fetchUploadedSvgFrom=e.uploadsUrl);var i=[];return e.v4shim.enabled&&i.push(new N((function(i,l){$(o(e,{addOn:"-v4-shims",minify:e.minify.enabled}),t).then((function(e){i(j(e,n(n({},t),{},{id:"fa-v4-shims"})))})).catch(l)}))),i.push(new N((function(i,l){$(o(e,{minify:e.minify.enabled}),t).then((function(e){var o,l,r;e=j(e,n(n({},t),{},{id:"fa-main"})),i((l=(o=t)&&void 0!==o.autoFetchSvg?o.autoFetchSvg:void 0,void 0!==(r=o&&void 0!==o.autoA11y?o.autoA11y:void 0)&&e.setAttribute("data-auto-a11y",r?"true":"false"),l&&(e.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),e.setAttribute("data-fetch-svg-from",o.fetchSvgFrom),e.setAttribute("data-fetch-uploaded-svg-from",o.fetchUploadedSvgFrom)),e))})).catch(l)}))),N.all(i)}function j(e,t){var n=document.createElement("SCRIPT");return e=document.createTextNode(e),n.appendChild(e),n.referrerPolicy="strict-origin",t.id&&n.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),n}function P(e){var t,n=[],i=document,o=(i.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);o||i.addEventListener("DOMContentLoaded",t=function(){for(i.removeEventListener("DOMContentLoaded",t),o=1;t=n.shift();)t()}),o?setTimeout(e,0):n.push(e)}try{window.FontAwesomeKitConfig&&(x=window.FontAwesomeKitConfig,E={detectingConflicts:x.detectConflictsUntil&&new Date<=new Date(x.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",fetch:window.fetch,token:x.token,XMLHttpRequest:window.XMLHttpRequest,document:document},A=document.currentScript,T=A?A.parentElement:document.head,function(e,t){return t=1<arguments.length&&void 0!==t?t:{},"js"===(e=0<arguments.length&&void 0!==e?e:{}).method?C(e,t):"css"===e.method?I(e,t,(function(e){P(e),"undefined"!=typeof MutationObserver&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})})):void 0}(x,E).then((function(e){e.map((function(e){try{T.insertBefore(e,A?A.nextSibling:null)}catch(t){T.appendChild(e)}})),E.detectingConflicts&&A&&P((function(){A.setAttributeNode(document.createAttribute(E.detectionIgnoreAttr)),e=x,n=E,t=document.createElement("script"),n.detectionIgnoreAttr&&t.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),t.src=o(e,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:e.minify.enabled});var e,t,n=t;document.body.appendChild(n)}))})).catch((function(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))})))}catch(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))}}();return new class extends Ee{constructor(e){super(),xe(this,e,ul,cl,r,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
