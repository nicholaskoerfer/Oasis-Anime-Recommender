var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function a(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function c(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function u(e){let t;return c(e,(e=>t=e))(),t}function d(e,t,n){e.$$.on_destroy.push(c(t,n))}function f(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function p(e){return null==e?"":e}function m(e,t,n){return e.set(n),t}function h(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const y="undefined"!=typeof window;let w=y?()=>window.performance.now():()=>Date.now(),g=y?e=>requestAnimationFrame(e):e;const v=new Set;function b(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&g(b)}function S(e){let t;return 0===v.size&&g(b),{promise:new Promise((n=>{v.add(t={c:e,f:n})})),abort(){v.delete(t)}}}function k(e,t){e.appendChild(t)}function x(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function E(e){const t=$("style");return function(e,t){k(e.head||e,t),t.sheet}(x(e),t),t.sheet}function A(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function N(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function $(e){return document.createElement(e)}function L(e){return document.createTextNode(e)}function I(){return L(" ")}function C(){return L("")}function P(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function F(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function j(e,t){t=""+t,e.data!==t&&(e.data=t)}function M(e,t){e.value=null==t?"":t}function D(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function O(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}const _=new Map;let U,V=0;function R(e,t,n,o,i,l,r,s=0){const a=16.666/o;let c="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*l(e);c+=100*e+`%{${r(o,1-o)}}\n`}const u=c+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,f=x(e),{stylesheet:p,rules:m}=_.get(f)||function(e,t){const n={stylesheet:E(t),rules:{}};return _.set(e,n),n}(f,e);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${i}ms 1 both`,V+=1,d}function B(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),V-=i,V||g((()=>{V||(_.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&T(t)})),_.clear())})))}function H(e){U=e}function q(){if(!U)throw new Error("Function called outside component initialization");return U}function W(e){q().$$.on_mount.push(e)}const G=[],K=[];let Y=[];const J=[],X=Promise.resolve();let z=!1;function Q(){z||(z=!0,X.then(ie))}function Z(){return Q(),X}function ee(e){Y.push(e)}const te=new Set;let ne,oe=0;function ie(){if(0!==oe)return;const e=U;do{try{for(;oe<G.length;){const e=G[oe];oe++,H(e),le(e.$$)}}catch(e){throw G.length=0,oe=0,e}for(H(null),G.length=0,oe=0;K.length;)K.pop()();for(let e=0;e<Y.length;e+=1){const t=Y[e];te.has(t)||(te.add(t),t())}Y.length=0}while(G.length);for(;J.length;)J.pop()();z=!1,te.clear(),H(e)}function le(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function re(){return ne||(ne=Promise.resolve(),ne.then((()=>{ne=null}))),ne}function se(e,t,n){e.dispatchEvent(O(`${t?"intro":"outro"}${n}`))}const ae=new Set;let ce;function ue(){ce={r:0,c:[],p:ce}}function de(){ce.r||i(ce.c),ce=ce.p}function fe(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function pe(e,t,n,o){if(e&&e.o){if(ae.has(e))return;ae.add(e),ce.c.push((()=>{ae.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const me={duration:0};function he(n,o,r){const s={direction:"out"};let a,c=o(n,r,s),u=!0;const d=ce;function f(){const{delay:o=0,duration:l=300,easing:r=t,tick:s=e,css:f}=c||me;f&&(a=R(n,1,0,l,o,r,f));const p=w()+o,m=p+l;ee((()=>se(n,!1,"start"))),S((e=>{if(u){if(e>=m)return s(0,1),se(n,!1,"end"),--d.r||i(d.c),!1;if(e>=p){const t=r((e-p)/l);s(1-t,t)}}return u}))}return d.r+=1,l(c)?re().then((()=>{c=c(s),f()})):f(),{end(e){e&&c.tick&&c.tick(1,0),u&&(a&&B(n,a),u=!1)}}}function ye(n,o,r,s){const a={direction:"both"};let c=o(n,r,a),u=s?0:1,d=null,f=null,p=null;function m(){p&&B(n,p)}function h(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(o){const{delay:l=0,duration:r=300,easing:s=t,tick:a=e,css:y}=c||me,g={start:w()+l,b:o};o||(g.group=ce,ce.r+=1),d||f?f=g:(y&&(m(),p=R(n,u,o,r,l,s,y)),o&&a(0,1),d=h(g,r),ee((()=>se(n,o,"start"))),S((e=>{if(f&&e>f.start&&(d=h(f,r),f=null,se(n,d.b,"start"),y&&(m(),p=R(n,u,d.b,d.duration,0,s,c.css))),d)if(e>=d.end)a(u=d.b,1-u),se(n,d.b,"end"),f||(d.b?m():--d.group.r||i(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),a(u,1-u)}return!(!d&&!f)})))}return{run(e){l(c)?re().then((()=>{c=c(a),y(e)})):y(e)},end(){m(),d=f=null}}}function we(e,t){e.d(1),t.delete(e.key)}function ge(e,t){pe(e,1,1,(()=>{t.delete(e.key)}))}function ve(e,t,n,o,l,r,s,a,c,u,d,f){let p=e.length,m=r.length,h=p;const y={};for(;h--;)y[e[h].key]=h;const w=[],g=new Map,v=new Map,b=[];for(h=m;h--;){const e=f(l,r,h),i=n(e);let a=s.get(i);a?o&&b.push((()=>a.p(e,t))):(a=u(i,e),a.c()),g.set(i,w[h]=a),i in y&&v.set(i,Math.abs(h-y[i]))}const S=new Set,k=new Set;function x(e){fe(e,1),e.m(a,d),s.set(e.key,e),d=e.first,m--}for(;p&&m;){const t=w[m-1],n=e[p-1],o=t.key,i=n.key;t===n?(d=t.first,p--,m--):g.has(i)?!s.has(o)||S.has(o)?x(t):k.has(i)?p--:v.get(o)>v.get(i)?(k.add(o),x(t)):(S.add(i),p--):(c(n,s),p--)}for(;p--;){const t=e[p];g.has(t.key)||c(t,s)}for(;m;)x(w[m-1]);return i(b),w}function be(e){e&&e.c()}function Se(e,t,o,r){const{fragment:s,after_update:a}=e.$$;s&&s.m(t,o),r||ee((()=>{const t=e.$$.on_mount.map(n).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),a.forEach(ee)}function ke(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];Y.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),Y=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function xe(t,n,l,r,s,a,c,u=[-1]){const d=U;H(t);const f=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=l?l(t,n.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(G.push(e),Q(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(T)}else f.fragment&&f.fragment.c();n.intro&&fe(t.$$.fragment),Se(t,n.target,n.anchor,n.customElement),ie()}H(d)}class Ee{$destroy(){ke(this,1),this.$destroy=e}$on(t,n){if(!l(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ae=125;async function Te(){try{let e=window.location.pathname;e=e.endsWith("/")?e:e+"/",e=e.includes("/index.html")?e.replace("/index.html",""):e;let t=await fetch(`${e}version.json`,{cache:"no-store"});return(await t.json()).version||Ae}catch(e){return Ae}}const Ne=[];function $e(t,n=e){let o;const i=new Set;function l(e){if(r(t,e)&&(t=e,o)){const e=!Ne.length;for(const e of i)e[1](),Ne.push(e,t);if(e){for(let e=0;e<Ne.length;e+=2)Ne[e][0](Ne[e+1]);Ne.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(r,s=e){const a=[r,s];return i.add(a),1===i.size&&(o=n(l)||e),r(t),()=>{i.delete(a),0===i.size&&o&&(o(),o=null)}}}}const Le=$e(null),Ie=$e(null),Ce=$e(!0),Pe=$e(0),Fe=$e(!1),je=$e(null),Me=$e(null),De=$e(null),Oe=$e(null),_e=$e(null),Ue=$e(null),Ve=$e(null),Re=$e(!1),Be=$e(null),He=$e(null),qe=$e(null),We=$e(null),Ge=$e(null),Ke=$e(null),Ye=$e(null),Je=$e(null),Xe=$e([]),ze=$e(null),Qe=$e(!0),Ze=$e(null),et=$e(!1),tt=$e(null),nt=$e(null),ot=$e(!1),it=$e(""),lt=$e(null),rt=$e(null),st=$e(!1),at=$e(!1),ct=$e(null),ut=$e(!1),dt=$e(null),ft=$e(!0),pt=$e(!1),mt=$e(!1),ht=$e(null),yt=$e(null),wt=$e(null),gt=$e(null),vt=$e(null),bt=$e(null),St=$e(null),kt=$e(null),xt=$e(null),Et=$e(null),At=$e(null),Tt=e=>"[object Object]"===Object.prototype.toString.call(e),Nt=e=>{for(const t in e)return!1;return!0};function $t(e,t){try{let n=Math.floor(e/1e3%60),o=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),l=Math.floor(e/864e5%7),r=Math.floor(e/6048e5%4),s=Math.floor(e/24192e5%12),a=Math.floor(e/290304e5%10),c=Math.floor(e/290304e6%10),u=Math.floor(e/290304e7%10),d=Math.floor(e/290304e8%10),f=[];return d<=0&&u<=0&&c<=0&&a<=0&&s<=0&&r<=0&&l<=0&&i<=0&&o<=0&&n<=0?"0s":(d>0&&f.push(`${d}mil`),c>0&&f.push(`${c}dec`),a>0&&f.push(`${a}y`),s>0&&f.push(`${s}mon`),r>0&&f.push(`${r}w`),l>0&&f.push(`${l}d`),i>0&&f.push(`${i}h`),o>0&&f.push(`${o}m`),n>0&&f.push(`${n}s`),t>0&&(f=f.slice(0,t)),f.join(" "))}catch(e){return}}function Lt(e,t,n=.5){try{if(!t.length)return null;let i=null;var o=0;let l=e.getBoundingClientRect();return t instanceof HTMLCollection&&(t=Array.from(t)),t?.forEach?.((e=>{let t=e.getBoundingClientRect();var r=(Math.min(t.bottom,l.bottom)-Math.max(t.top,l.top))/t.height;r>o&&(0===n&&r>n||r>=n)&&(o=r,i=e)})),i}catch(e){return}}const It=(e,t)=>{try{return Array.from(e.parentElement.children).indexOf(e)}catch(e){return}},Ct=(e,t,n="top",o,i=0)=>{try{let l;if("string"==typeof t&&(t=document.querySelector(t)),e===window){const e=t.getBoundingClientRect(),o=window.scrollY;l="bottom"===n?e.bottom+o-window.innerHeight:"center"===n?e.top+o-window.innerHeight/2:e.top+o}else if("string"==typeof e&&(e=document.querySelector(e)),"bottom"===n)l=t.offsetTop+t.offsetHeight-e.offsetHeight;else if("center"===n){let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();l=n.top+n.height/2-(o.top+o.height/2)+e.scrollTop-o.height/2}else{let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();l=n.top-o.top+e.scrollTop}e===window?"smooth"===o?window.scrollTo({top:l+i,behavior:"smooth"}):window.scrollTo({top:l+i}):"smooth"===o?e.scrollBy({top:l+i,behavior:"smooth"}):e.scrollTop=l+i}catch(e){return}},Pt=(e,t=2)=>{if("number"==typeof e){const n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:0,notation:"compact",compactDisplay:"short"});return Math.abs(e)>=1e3?n.format(e):Math.abs(e)<.01?e.toExponential(0):e.toFixed(t)||e.toLocaleString("en-US",{maximumFractionDigits:t})}return null},Ft=(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),jt=(e,t)=>{let n=Math.max(e.selectionStart-1||0,0);e.value=t,e.setSelectionRange(n,n)};let Mt;const Dt=(e,t)=>{e?.classList?.add?.(t)},Ot=(e,t)=>{e?.classList?.remove?.(t)};function _t(e){const t=e-1;return t*t*t+1}function Ut(e,{delay:n=0,duration:o=400,easing:i=t}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:i,css:e=>"opacity: "+e*l}}function Vt(e,{delay:t=0,duration:n=400,easing:o=_t,x:i=0,y:l=0,opacity:r=0}={}){const s=getComputedStyle(e),a=+s.opacity,c="none"===s.transform?"":s.transform,u=a*(1-r),[d,f]=h(i),[p,m]=h(l);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*d}${f}, ${(1-e)*p}${m});\n\t\t\topacity: ${a-u*t}`}}function Rt(e,t,n){const o=e.slice();return o[45]=t[n],o}function Bt(e,t,n){const o=e.slice();return o[45]=t[n],o}function Ht(e,t,n){const o=e.slice();return o[45]=t[n],o}function qt(e,t,n){const o=e.slice();return o[45]=t[n],o}function Wt(e,t,n){const o=e.slice();return o[50]=t[n],o[51]=t,o[52]=n,o}function Gt(t){let n;return{c(){n=$("div"),n.textContent="No Results",F(n,"class","empty svelte-1app9e2")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Kt(t){let n,o,i=Array(21),l=[];for(let e=0;e<i.length;e+=1)l[e]=Jt(Bt(t,i,e));let r=Array(5),s=[];for(let e=0;e<r.length;e+=1)s[e]=Xt(Rt(t,r,e));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();n=I();for(let e=0;e<s.length;e+=1)s[e].c();o=C()},m(e,t){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,t);A(e,n,t);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(e,t);A(e,o,t)},p:e,d(e){N(l,e),e&&T(n),N(s,e),e&&T(o)}}}function Yt(e){let t,n,o,i=[],l=new Map,r=e[9]||[];const s=e=>e[50].id;for(let t=0;t<r.length;t+=1){let n=Wt(e,r,t),o=s(n);l.set(o,i[t]=nn(o,n))}let a=Array(e[8]??an),c=[];for(let t=0;t<a.length;t+=1)c[t]=on(qt(e,a,t));let u=Array(e[10]?Math.floor((e[0]??1100)/220):5),d=[];for(let t=0;t<u.length;t+=1)d[t]=ln(Ht(e,u,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=I();for(let e=0;e<c.length;e+=1)c[e].c();n=I();for(let e=0;e<d.length;e+=1)d[e].c();o=C()},m(e,l){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,l);A(e,t,l);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,l);A(e,n,l);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(e,l);A(e,o,l)},p(e,f){if(516678&f[0]&&(r=e[9]||[],i=ve(i,f,s,1,e,r,l,t.parentNode,we,nn,t,Wt)),912&f[0]){let t;for(a=Array(e[8]??an),t=0;t<a.length;t+=1){const o=qt(e,a,t);c[t]?c[t].p(o,f):(c[t]=on(o),c[t].c(),c[t].m(n.parentNode,n))}for(;t<c.length;t+=1)c[t].d(1);c.length=a.length}if(1025&f[0]){let t;for(u=Array(e[10]?Math.floor((e[0]??1100)/220):5),t=0;t<u.length;t+=1){const n=Ht(e,u,t);d[t]?d[t].p(n,f):(d[t]=ln(),d[t].c(),d[t].m(o.parentNode,o))}for(;t<d.length;t+=1)d[t].d(1);d.length=u.length}},d(e){for(let t=0;t<i.length;t+=1)i[t].d(e);e&&T(t),N(c,e),e&&T(n),N(d,e),e&&T(o)}}}function Jt(t){let n;return{c(){n=$("div"),n.innerHTML='<div class="shimmer svelte-1app9e2"></div>',F(n,"class","image-grid__card skeleton svelte-1app9e2")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Xt(t){let n;return{c(){n=$("div"),F(n,"class","image-grid__card svelte-1app9e2")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function zt(e){let t,n=`${e[50].format||"N/A"}${e[50].episodes?"("+e[50].episodes+")":""}`;return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=`${e[50].format||"N/A"}${e[50].episodes?"("+e[50].episodes+")":""}`)&&j(t,n)},d(e){e&&T(t)}}}function Qt(e){let t,n=e[2].getSeconds(),o=Zt(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),A(e,t,n)},p(e,i){4&i[0]&&r(n,n=e[2].getSeconds())?(o.d(1),o=Zt(e),o.c(),o.m(t.parentNode,t)):o.p(e,i)},d(e){e&&T(t),o.d(e)}}}function Zt(e){let t,n=`${e[50].format||"N/A"}${un(e[50].episodes,e[50].nextAiringEpisode)}\n                                        `;return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=`${e[50].format||"N/A"}${un(e[50].episodes,e[50].nextAiringEpisode)}\n                                        `)&&j(t,n)},d(e){e&&T(t)}}}function en(e){let t,n=(Pt(e[50].weightedScore)||"N/A")+"";return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=(Pt(e[50].weightedScore)||"N/A")+"")&&j(t,n)},d(e){e&&T(t)}}}function tn(e){let t,n=(e[17](e[50])||"N/A")+"";return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=(e[17](e[50])||"N/A")+"")&&j(t,n)},d(e){e&&T(t)}}}function nn(e,t){let n,o,r,s,c,u,d,f,m,h,y,w,g,v,b,S,x,E,N,C,M,D,O,_,U,V,R,B,H,q=(dn(t[50]?.title)||"N/A")+"",W=t[51],G=t[52];function K(e,t){return 512&t[0]&&(x=null),null==x&&(x=!!Tt(e[50]?.nextAiringEpisode)),x?Qt:zt}let Y=K(t,[-1,-1]),J=Y(t);function X(e,t){return e[1]?tn:en}let z=X(t),Q=z(t);function Z(...e){return t[22](t[52],...e)}function ee(...e){return t[23](t[52],...e)}const te=()=>t[24](n,W,G),ne=()=>t[24](null,W,G);return{key:e,first:null,c(){n=$("div"),o=$("div"),r=$("img"),c=I(),u=$("span"),d=$("span"),f=L(q),h=I(),y=$("span"),w=$("div"),g=$("span"),v=$("i"),S=I(),J.c(),N=I(),C=$("div"),M=$("span"),D=$("i"),_=I(),Q.c(),F(r,"loading","lazy"),F(r,"class",p("image-grid__card-thumb fade-out")+" svelte-1app9e2"),F(r,"alt","anime-cover"),a(r.src,s=t[50].coverImageUrl||"")||F(r,"src",s),F(d,"class","title copy svelte-1app9e2"),F(d,"copy-value",m=dn(t[50]?.title)||""),F(v,"class",b=p(`${t[18](t[50].userStatus)}-color fa-solid fa-circle`)+" svelte-1app9e2"),F(w,"class","brief-info svelte-1app9e2"),F(w,"date",E=JSON.stringify(t[50]?.nextAiringEpisode)),F(D,"class",O=p(`${cn(t[50])}-color fa-solid fa-star`)+" svelte-1app9e2"),F(C,"class","brief-info svelte-1app9e2"),F(y,"class","brief-info-wrapper copy svelte-1app9e2"),F(y,"copy-value",U=dn(t[50]?.title)||""),F(u,"class","image-grid__card-title svelte-1app9e2"),F(o,"class","shimmer svelte-1app9e2"),F(o,"tabindex",V=t[6]?"":"0"),F(n,"class","image-grid__card svelte-1app9e2"),F(n,"title",R=t[16](t[50])),this.first=n},m(e,i){A(e,n,i),k(n,o),k(o,r),k(o,c),k(o,u),k(u,d),k(d,f),k(u,h),k(u,y),k(y,w),k(w,g),k(g,v),k(g,S),J.m(g,null),k(y,N),k(y,C),k(C,M),k(M,D),k(M,_),Q.m(M,null),te(),B||(H=[P(r,"load",t[21]),P(o,"click",(function(){l(t[13](t[52]))&&t[13](t[52]).apply(this,arguments)})),P(o,"pointerdown",Z),P(o,"pointerup",t[15]),P(o,"pointercancel",t[15]),P(o,"keydown",ee)],B=!0)},p(e,i){t=e,512&i[0]&&!a(r.src,s=t[50].coverImageUrl||"")&&F(r,"src",s),512&i[0]&&q!==(q=(dn(t[50]?.title)||"N/A")+"")&&j(f,q),512&i[0]&&m!==(m=dn(t[50]?.title)||"")&&F(d,"copy-value",m),512&i[0]&&b!==(b=p(`${t[18](t[50].userStatus)}-color fa-solid fa-circle`)+" svelte-1app9e2")&&F(v,"class",b),Y===(Y=K(t,i))&&J?J.p(t,i):(J.d(1),J=Y(t),J&&(J.c(),J.m(g,null))),512&i[0]&&E!==(E=JSON.stringify(t[50]?.nextAiringEpisode))&&F(w,"date",E),512&i[0]&&O!==(O=p(`${cn(t[50])}-color fa-solid fa-star`)+" svelte-1app9e2")&&F(D,"class",O),z===(z=X(t))&&Q?Q.p(t,i):(Q.d(1),Q=z(t),Q&&(Q.c(),Q.m(M,null))),512&i[0]&&U!==(U=dn(t[50]?.title)||"")&&F(y,"copy-value",U),64&i[0]&&V!==(V=t[6]?"":"0")&&F(o,"tabindex",V),512&i[0]&&R!==(R=t[16](t[50]))&&F(n,"title",R),W===t[51]&&G===t[52]||(ne(),W=t[51],G=t[52],te())},d(e){e&&T(n),J.d(),Q.d(),ne(),B=!1,i(H)}}}function on(e){let t,n,o;return{c(){t=$("div"),n=$("div"),F(n,"class","shimmer svelte-1app9e2"),F(t,"class",o=p("image-grid__card skeleton anime-loaded-padding "+(e[9]?.length&&!e[7]&&e[4]?"":"disable-interaction"))+" svelte-1app9e2")},m(e,o){A(e,t,o),k(t,n)},p(e,n){656&n[0]&&o!==(o=p("image-grid__card skeleton anime-loaded-padding "+(e[9]?.length&&!e[7]&&e[4]?"":"disable-interaction"))+" svelte-1app9e2")&&F(t,"class",o)},d(e){e&&T(t)}}}function ln(t){let n;return{c(){n=$("div"),F(n,"class","image-grid__card svelte-1app9e2")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function rn(t){let n,o,l,r,s;return{c(){n=$("div"),n.innerHTML='<i class="fa-solid fa-arrow-left svelte-1app9e2"></i>',F(n,"class","go-back-grid svelte-1app9e2"),F(n,"tabindex","0")},m(e,o){A(e,n,o),l=!0,r||(s=[P(n,"click",t[19]),P(n,"keydown",t[27])],r=!0)},p:e,i(e){l||(ee((()=>{l&&(o||(o=ye(n,Vt,{x:-50,duration:300},!0)),o.run(1))})),l=!0)},o(e){o||(o=ye(n,Vt,{x:-50,duration:300},!1)),o.run(0),l=!1},d(e){e&&T(n),e&&o&&o.end(),r=!1,i(s)}}}function sn(e){let t,n,o,i,l,r,s,a;function c(e,t){return e[9]?.length?Yt:!e[9]||e[11]?Kt:Gt}let u=c(e),d=u(e),f=!e[12]&&e[10]&&e[3]?.scrollLeft>500&&rn(e);return{c(){t=$("main"),n=$("div"),d.c(),i=I(),f&&f.c(),F(n,"id","anime-grid"),F(n,"class",o=p("image-grid "+(e[10]?"fullView":"")+(0!==e[9]?.length||e[11]?"":"empty"))+" svelte-1app9e2"),D(n,"--anime-grid-height",e[5]+"px"),F(t,"class",l=p(e[10]?"fullView":"")+" svelte-1app9e2")},m(o,l){A(o,t,l),k(t,n),d.m(n,null),e[25](n),k(t,i),f&&f.m(t,null),r=!0,s||(a=P(n,"wheel",e[26]),s=!0)},p(e,i){u===(u=c(e))&&d?d.p(e,i):(d.d(1),d=u(e),d&&(d.c(),d.m(n,null))),(!r||3584&i[0]&&o!==(o=p("image-grid "+(e[10]?"fullView":"")+(0!==e[9]?.length||e[11]?"":"empty"))+" svelte-1app9e2"))&&F(n,"class",o),32&i[0]&&D(n,"--anime-grid-height",e[5]+"px"),!e[12]&&e[10]&&e[3]?.scrollLeft>500?f?(f.p(e,i),5128&i[0]&&fe(f,1)):(f=rn(e),f.c(),fe(f,1),f.m(t,null)):f&&(ue(),pe(f,1,1,(()=>{f=null})),de()),(!r||1024&i[0]&&l!==(l=p(e[10]?"fullView":"")+" svelte-1app9e2"))&&F(t,"class",l)},i(e){r||(fe(f),r=!0)},o(e){pe(f),r=!1},d(n){n&&T(t),d.d(),e[25](null),f&&f.d(),s=!1,a()}}}let an=13;function cn({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":e?.semiCaution?.length?"teal":o<t?"purple":o<n?"orange":"green"}function un(e,t){let n,o;if("number"==typeof t?.episode&&"number"==typeof t?.airingAt){let e=new Date(1e3*t?.airingAt);o=t?.episode,e instanceof Date&&!isNaN(e)&&(n=e.getTime()-(new Date).getTime())}if(n>0&&o>1&&e>o)return`(${o-1}/${e})`;if(n<=0&&"number"==typeof o&&e>o)return`(${o}/${e})`;if("number"==typeof e)return`(${e})`;if("number"==typeof o){if(n>0&&o>1)return`(${o-1}")`;if(n<=0)return`(${o}")`}return""}function dn(e){return e?.english||e?.userPreferred||e?.romaji||e?.native||""}function fn(e,t,n){let o,i,l,r,s,a,c,u,f,p,h,y,w,g,v,b,S,k,x,E;d(e,De,(e=>n(1,i=e))),d(e,Oe,(e=>n(20,l=e))),d(e,at,(e=>n(33,r=e))),d(e,ct,(e=>n(34,s=e))),d(e,ut,(e=>n(6,a=e))),d(e,dt,(e=>n(35,c=e))),d(e,Ue,(e=>n(36,u=e))),d(e,et,(e=>n(37,f=e))),d(e,ot,(e=>n(7,p=e))),d(e,wt,(e=>n(38,h=e))),d(e,tt,(e=>n(39,y=e))),d(e,lt,(e=>n(8,w=e))),d(e,_e,(e=>n(9,g=e))),d(e,Ve,(e=>n(40,v=e))),d(e,nt,(e=>n(41,b=e))),d(e,St,(e=>n(42,S=e))),d(e,Ze,(e=>n(10,k=e))),d(e,Qe,(e=>n(11,x=e))),d(e,Ie,(e=>n(12,E=e)));let A,T,N=window.visualViewport.height,$=new Date,L=!1;W((()=>{n(0,N=window.visualViewport.height),n(3,A=A||document.getElementById("anime-grid")),window.addEventListener("resize",(()=>{n(0,N=window.visualViewport.height)})),setInterval((()=>{n(2,$=new Date)}),1e3)}));let I,C,P,F=!1;function j(e){m(dt,c=e,c),m(ut,a=!0,a)}function M(e,t){let n=e.target;n.classList.contains("copy")||n.closest(".copy")||(P&&clearTimeout(P),P=setTimeout((()=>{m(ct,s=t,s),m(at,r=!0,r)}),500))}function D(){n(3,A.style.overflow="hidden",A),n(3,A.style.overflow="",A),A?.children?.[0]?.scrollIntoView?.({container:A,behavior:"smooth",block:"nearest",inline:"start"})}window.checkAnimeLoaderStatus=m(et,f=async()=>{if(u instanceof Worker&&"function"==typeof u.onmessage)return new Promise(((e,t)=>{I={resolve:e,reject:t},u?.postMessage?.({checkStatus:!0}),clearTimeout(C),C=setTimeout((()=>{t()}),1e3)})).catch((()=>{m(Ue,u=null,u),m(_e,g=null,g),m(St,S=!S,S),I=null})).finally((()=>{I=null}))},f),Ue.subscribe((e=>{e instanceof Worker&&(e.onmessage=async({data:e})=>{if(I?.resolve&&e?.isAlive&&(I?.resolve?.(),I=null),await Z(),void 0!==e?.status)m(Ve,v=e.status,v);else if(e.finalAnimeList instanceof Array)!0===e?.reload?(m(_e,g=e.finalAnimeList,g),F=!0,m(lt,w=e.numberOfNextLoadedGrid,w)):!0===e.isNew?(m(_e,g=e.finalAnimeList,g),m(lt,w=e.numberOfNextLoadedGrid,w)):!1===e.isNew&&(g instanceof Array&&(m(_e,g=g.concat(e.finalAnimeList),g),e.isLast&&(m(ot,p=!0,p),y instanceof IntersectionObserver&&(y.disconnect(),m(tt,y=null,y)))),m(lt,w=e.numberOfNextLoadedGrid,w));else if(!0===e.isRemoved&&"number"==typeof e.removedID){let t=Math.max(g.length-2,0),n=g[t].gridElement||A.children?.[t];y instanceof IntersectionObserver&&n instanceof Element&&y.observe(n);let o=g.findIndex((({id:t})=>t===e.removedID));m(_e,g=g.filter((({id:t})=>t!==e.removedID)),g),o>=0&&m(nt,b=o,b),m(lt,w=e.numberOfNextLoadedGrid,w)}},e.onerror=e=>{m(Ve,v="Something went wrong...",v),console.error(e)})})),_e.subscribe((async e=>{if(e instanceof Array&&e.length){p&&m(ot,p=!1,p),y&&(y.disconnect(),m(tt,y=null,y)),await Z(),T=!1,m(tt,y=new IntersectionObserver((e=>{p||e.forEach((e=>{if(e.isIntersecting){if(n(4,L=!0),T)return;T=!0,setTimeout((()=>{u instanceof Worker&&f().then((()=>{u?.postMessage?.({loadMore:!0})})),T=!1}),1e3)}}))}),{root:null,rootMargin:"100%",threshold:[0,1]}),y);let e=g.length-1,t=g[e].gridElement||A.children?.[e];y instanceof IntersectionObserver&&(t instanceof Element&&y.observe(t),document.querySelectorAll(".anime-loaded-padding").forEach((e=>{y.observe(e)}))),F&&(m(wt,h=!h,h),F=!1),n(4,L=!1)}else m(lt,w=null,w),y&&(y?.disconnect?.(),m(tt,y=null,y)),F&&(m(wt,h=!h,h),F=!1),n(4,L=!1)})),it.subscribe((async e=>{"string"==typeof e&&u instanceof Worker&&(m(ot,p=!1,p),f().then((()=>{u?.postMessage?.({filterKeyword:e})})))}));return e.$$.update=()=>{1048579&e.$$.dirty[0]&&n(5,o=(l?.[i?.filterSelection?.[i?.filterSelection?.findIndex((({isSelected:e})=>e))]?.filterSelectionName]||[]).length?N:N+50)},[N,i,$,A,L,o,a,p,w,g,k,x,E,j,M,function(){P&&clearTimeout(P)},function({contentCaution:e,sortedFavoriteContents:t,meanScoreAll:n,meanScoreAbove:o,score:i}){let l=[];t?.forEach((e=>{"string"==typeof e&&l.push(e)}));let r=[];i<n?r.push(`Very Low Score (mean: ${Pt(n)})`):i<o&&r.push(`Low Score (mean: ${Pt(o)})`),r=r.concat(e?.caution||[]).concat(e?.semiCaution||[]);let s="";return l.length&&(s+="Favorite Contents: "+l.join(", ")||""),r.length&&(s+="\n\nContent Cautions: "+r.join(", ")),s},function({weightedScore:e,score:t,averageScore:n,userScore:o}){let l=i?.sortFilter.filter((({sortType:e})=>"none"!==e))?.[0]?.sortName;return"score"===l?Pt(t):"user score"===l?o:"average score"===l?n:Pt(e)},function(e){return Ft(e,"completed")?"green":Ft(e,"current")||Ft(e,"repeating")?"blue":Ft(e,"planning")?"orange":Ft(e,"paused")?"peach":Ft(e,"dropped")?"red":"lightgrey"},D,l,e=>{Ot(e.target,"fade-out"),Dt(e.target?.closest?.(".shimmer"),"loaded")},(e,t)=>M(t,e),(e,t)=>"Enter"===t.key&&j(e),function(e,t,n){K[e?"unshift":"push"]((()=>{t[n].gridElement=e}))},function(e){K[e?"unshift":"push"]((()=>{A=e,n(3,A)}))},e=>(k??!1)&&function(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}(e,"image-grid"),e=>"Enter"===e.key&&D()]}let pn={};const mn=e=>new Promise((async t=>{if(u(Ie))t(e);else{let n=u(Le);n||(n=await Te(),Le.set(n)),pn[e=e+"?v="+n]?t(pn[e]):fetch(e,{headers:{"Cache-Control":"max-age=31536000, immutable"}}).then((e=>e.blob())).then((n=>{let o=URL.createObjectURL(n);pn[e]=o,t(o)})).catch((async()=>{t(e)}))}}));let hn,yn,wn,gn=1e3,vn=!1,bn=!1;const Sn=(e={})=>new Promise(((t,n)=>{vn=!0,Pe.set(0),mn("./webapi/worker/animeLoader.js").then((o=>{wn&&(wn.terminate(),wn=null),e?.filterOptions&&e?.activeTagFilters?(hn=e?.filterOptions,yn=e?.activeTagFilters,e.hasPassedFilters=!0):hn&&yn&&(e.filterOptions=hn,e.activeTagFilters=yn,e.hasPassedFilters=!0),wn=new Worker(o),wn.postMessage(e),wn.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?e?.progress>=0&&e?.progress<=100&&Pe.set(e.progress):e?.hasOwnProperty("status")?(vn=!0,Ve.set(e.status)):e?.isNew&&(!0===e?.hasPassedFilters&&(hn=yn=void 0),vn=!1,wn.onmessage=null,Pe.set(100),t(Object.assign({},e,{animeLoaderWorker:wn})))},wn.onerror=e=>{Pe.set(100),n(e)}})).catch((e=>{Pe.set(100),Gn(),n(e)}))}));let kn,xn;const En=(e={})=>new Promise(((t,n)=>{vn=!0,xn&&xn.terminate(),Pe.set(0),mn("./webapi/worker/processRecommendedAnimeList.js").then((o=>{kn&&clearTimeout(kn),e?.filterOptions&&e?.activeTagFilters?(hn=e?.filterOptions,yn=e?.activeTagFilters,e.hasPassedFilters=!0):hn&&yn&&(e.filterOptions=hn,e.activeTagFilters=yn,e.hasPassedFilters=!0),xn=new Worker(o),xn.postMessage(e),xn.onmessage=({data:e})=>{if(e?.hasOwnProperty("progress"))e?.progress>=0&&e?.progress<=100&&Pe.set(e.progress);else if(e?.hasOwnProperty("status"))vn=!0,Ve.set(e.status);else if(e?.animeReleaseNotification){if(u(Ie))try{let t=e?.animeReleaseNotification;"number"==typeof t?.releaseEpisodes&&"number"==typeof t?.releaseDateMillis&&"number"==typeof t?.maxEpisode&&"string"==typeof t?.title&&"number"==typeof t?.id&&"boolean"==typeof t?.isMyAnime&&"string"==typeof t?.imageURL&&JSBridge.addAnimeReleaseNotification(t.id,t.title,t.releaseEpisodes,t.maxEpisode,t.releaseDateMillis,t?.imageURL,t.isMyAnime)}catch(e){}}else!0===e?.hasPassedFilters&&(hn=yn=void 0),vn=!1,kn=setTimeout((()=>{xn.terminate()}),gn),Pe.set(100),t()},xn.onerror=e=>{Pe.set(100),n(e)}})).catch((e=>{Pe.set(100),Gn(),n(e)}))}));let An,Tn;const Nn=e=>new Promise(((t,n)=>{Tn&&Tn.terminate(),Pe.set(0),mn("./webapi/worker/requestAnimeEntries.js").then((o=>{Tn=new Worker(o),An&&clearTimeout(An),Tn.postMessage(e),Tn.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?!vn&&e?.progress>=0&&e?.progress<=100&&Pe.set(e.progress):e?.hasOwnProperty("status")?vn||Ve.set(e.status):void 0!==e?.updateRecommendationList?kt.update((e=>!e)):e?.lastRunnedAutoUpdateDate instanceof Date&&!isNaN(e?.lastRunnedAutoUpdateDate)?We.set(e.lastRunnedAutoUpdateDate):(void 0!==e?.errorDuringInit||(An=setTimeout((()=>{Tn.terminate()}),gn),Pe.set(100)),t(e))},Tn.onerror=e=>{Pe.set(100),n(e)}})).catch((e=>{Pe.set(100),Gn(),n(e)}))}));let $n,Ln;const In=e=>new Promise(((t,n)=>{u(Qe)||(bn||u(Re))&&Be.set(!1),Ln&&Ln.terminate(),Pe.set(0),mn("./webapi/worker/requestUserEntries.js").then((o=>{Ln=new Worker(o),$n&&clearTimeout($n),Ln.postMessage(e),Ln.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?!vn&&e?.progress>=0&&e?.progress<=100&&Pe.set(e.progress):e?.hasOwnProperty("status")?vn||(Ve.set(e.status),"User not found"===e.status&&(Be.set(!1),Et.update((e=>!e)),window.confirmPromise({isAlert:!0,text:"User is not found, you may want to try again..."}),$n=setTimeout((()=>{Ln.terminate()}),gn),Pe.set(100),n(e))):e?.error?(Be.set(!1),Et.update((e=>!e)),$n=setTimeout((()=>{Ln.terminate()}),gn),Pe.set(100),n(e)):void 0!==e?.updateRecommendationList?kt.update((e=>!e)):(Be.set(!1),$n=setTimeout((()=>{Ln.terminate()}),gn),Pe.set(100),t(e))},Ln.onerror=e=>{Be.set(!1),Et.update((e=>!e)),$n=setTimeout((()=>{Ln.terminate()}),gn),Pe.set(100),n(e)}})).catch((e=>{Be.set(!1),Pe.set(100),Et.update((e=>!e)),Gn(),n(e)}))}));let Cn;const Pn=e=>new Promise(((e,t)=>{if(!u(Qe)){if(u(Re))return;Wn(),bn=!0}Cn&&Cn.terminate(),Pe.set(0),mn("./webapi/worker/exportUserData.js").then((n=>{Cn=new Worker(n),u(Ie)?Cn.postMessage("android"):Cn.postMessage("browser"),Cn.onmessage=({data:t})=>{if(t?.hasOwnProperty("progress"))t?.progress>=0&&t?.progress<=100&&Pe.set(t.progress);else if(t?.hasOwnProperty("status"))vn=!0,Ve.set(t.status);else if(u(Ie)){vn=!1;let n=t.chunk,o=t.state;if(0===o)JSBridge.exportJSON("",0,"");else if(1===o)JSBridge.exportJSON(n,1,"");else if(2===o){let o=t.username??null;JSBridge.exportJSON(n,2,`Kanshi.${o?.toLowerCase()||"Backup"}.json`),Pe.set(100),Cn.terminate(),bn=!1,e(t)}}else{vn=!1;let n=t.username??null;Pe.set(100),((e,t)=>{Mt&&setTimeout((()=>URL.revokeObjectURL(Mt)),0),Mt=e;const n=document.createElement("a");n.href=e,n.download=t,n.click()})(t.url,`Kanshi.${n?.toLowerCase()||"Backup"}.json`),bn=!1,e(t)}},Cn.onerror=e=>{Pe.set(100),bn=!1,window.confirmPromise?.({isAlert:!0,title:"Export Failed",text:"Data is not exported, please try again in a later time."}),t(e)}})).catch((e=>{Pe.set(100),bn=!1,Gn(),t(e)}))}));let Fn,jn;const Mn=e=>new Promise(((t,n)=>{mn("./webapi/worker/getIDBdata.js").then((o=>{let i=new Worker(o);i.postMessage({name:e}),i.onmessage=({data:e})=>{e?.hasOwnProperty("status")?Ve.set(e.status):(i.terminate(),t(e))},i.onerror=e=>{n(e)}})).catch((()=>{Gn(),n(error)}))})),Dn=(e,t)=>new Promise(((n,o)=>{mn("./webapi/worker/saveIDBdata.js").then((i=>{let l=new Worker(i);l.onmessage=({data:e})=>{e?.hasOwnProperty("status")?Ve.set(e.status):(setTimeout((()=>{l.terminate(),l=null}),gn),n())},l.onerror=e=>{o(e)},l.postMessage({data:e,name:t})})).catch((e=>{Gn(),o(e)}))}));let On,_n;let Un,Vn;let Rn,Bn,Hn;const qn=e=>new Promise(((t,n)=>{Bn=setInterval((()=>{_n||Vn||Ve.set("Getting Filters")}),300),mn("./webapi/worker/getFilterOptions.js").then((o=>{Bn&&(clearInterval(Bn),Bn=null),Hn&&Hn.terminate(),Hn=new Worker(o),Rn&&clearTimeout(Rn),Hn.postMessage(e),Hn.onmessage=({data:e})=>{e?.hasOwnProperty("status")?(vn=!0,Ve.set(e.status)):(vn=!1,Rn=setTimeout((()=>{Hn.terminate()}),gn),t(e))},Hn.onerror=e=>{n(e)}})).catch((e=>{Bn&&(clearInterval(Bn),Bn=null),Ve.set(null),Gn(),n(e)}))}));function Wn(){Pe.set(0),Tn?.terminate?.(),Ln?.terminate?.(),Be.set(!1),jn?.terminate?.(),Re.set(!1),Cn?.terminate?.(),bn=!1,Hn?.terminate?.(),clearInterval(_n),_n=null,clearInterval(Vn),Vn=null,clearInterval(Bn),Bn=null,Ve.set(null)}function Gn(){u(Ie)?window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}):window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."})}function Kn(e,t){return new Promise((async(n,o)=>{await Dn(e,t).then((e=>{n(e)})).catch((e=>{o(e)}))}))}async function Yn(e){return new Promise((async(t,n)=>{await Mn(e).then((e=>{t(e)})).catch((e=>{n(e)}))}))}function Jn(e,t,n){const o=e.slice();return o[95]=t[n],o[96]=t,o[97]=n,o}function Xn(e,t,n){const o=e.slice();return o[98]=t[n].tag,o[99]=t[n].tagColor,o}function zn(e,t,n){const o=e.slice();return o[102]=t[n].genre,o[103]=t[n].genreColor,o}function Qn(e,t,n){const o=e.slice();return o[106]=t[n].studio,o[107]=t[n].studioColor,o}function Zn(e){let t,n,o,i=[],l=new Map,r=e[9]||[];const s=e=>e[95].id;for(let t=0;t<r.length;t+=1){let n=Jn(e,r,t),o=s(n);l.set(o,i[t]=wo(o,n))}let a=e[9]?.length&&!e[12]&&go();return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=I(),a&&a.c(),n=C()},m(e,l){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,l);A(e,t,l),a&&a.m(e,l),A(e,n,l),o=!0},p(e,o){67096249&o[0]&&(r=e[9]||[],ue(),i=ve(i,o,s,1,e,r,l,t.parentNode,ge,wo,t,Jn),de()),e[9]?.length&&!e[12]?a||(a=go(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){if(!o){for(let e=0;e<r.length;e+=1)fe(i[e]);o=!0}},o(e){for(let e=0;e<i.length;e+=1)pe(i[e]);o=!1},d(e){for(let t=0;t<i.length;t+=1)i[t].d(e);e&&T(t),a&&a.d(e),e&&T(n)}}}function eo(e){let t;return{c(){t=$("div"),F(t,"class","trailer display-none svelte-1jwtcbl")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function to(e){let t,n,o,i;return{c(){t=$("img"),F(t,"loading","lazy"),a(t.src,n=e[95].bannerImageUrl)||F(t,"src",n),F(t,"alt","bannerImg"),F(t,"class","bannerImg fade-out svelte-1jwtcbl")},m(n,l){A(n,t,l),o||(i=P(t,"load",e[31]),o=!0)},p(e,o){512&o[0]&&!a(t.src,n=e[95].bannerImageUrl)&&F(t,"src",n)},d(e){e&&T(t),o=!1,i()}}}function no(e){let t,n,o,l,r,s,a,c,u,d=e[4]>=350?"List Update Available":e[4]>=283?"Update Available":e[4]>=236?"Available":"";return{c(){t=$("div"),n=$("i"),o=I(),l=$("h3"),r=L(d),F(n,"class","list-update-icon fa-solid fa-arrows-rotate svelte-1jwtcbl"),F(l,"class","list-update-label svelte-1jwtcbl"),F(t,"class","list-update-container svelte-1jwtcbl"),F(t,"tabindex","0")},m(i,s){A(i,t,s),k(t,n),k(t,o),k(t,l),k(l,r),a=!0,c||(u=[P(t,"click",e[20]),P(t,"keydown",e[37])],c=!0)},p(e,t){(!a||16&t[0])&&d!==(d=e[4]>=350?"List Update Available":e[4]>=283?"Update Available":e[4]>=236?"Available":"")&&j(r,d)},i(e){a||(ee((()=>{a&&(s||(s=ye(t,Vt,{x:-50,duration:300},!0)),s.run(1))})),a=!0)},o(e){s||(s=ye(t,Vt,{x:-50,duration:300},!1)),s.run(0),a=!1},d(e){e&&T(t),e&&s&&s.end(),c=!1,i(u)}}}function oo(e){let t,n,o=(e[25](e[95])||"NA")+"";return{c(){t=$("h4"),F(t,"class","copy"),F(t,"copy-value",n=xo(e[25](e[95]))||"")},m(e,n){A(e,t,n),t.innerHTML=o},p(e,i){512&i[0]&&o!==(o=(e[25](e[95])||"NA")+"")&&(t.innerHTML=o),512&i[0]&&n!==(n=xo(e[25](e[95]))||"")&&F(t,"copy-value",n)},d(e){e&&T(t)}}}function io(e){let t,n=e[0].getSeconds(),o=lo(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),A(e,t,n)},p(e,i){1&i[0]&&r(n,n=e[0].getSeconds())?(o.d(1),o=lo(e),o.c(),o.m(t.parentNode,t)):o.p(e,i)},d(e){e&&T(t),o.d(e)}}}function lo(e){let t,n,o=(e[25](e[95])||"NA")+"";return{c(){t=$("h4"),F(t,"class","copy"),F(t,"copy-value",n=xo(e[25](e[95]))||"")},m(e,n){A(e,t,n),t.innerHTML=o},p(e,i){512&i[0]&&o!==(o=(e[25](e[95])||"NA")+"")&&(t.innerHTML=o),512&i[0]&&n!==(n=xo(e[25](e[95]))||"")&&F(t,"copy-value",n)},d(e){e&&T(t)}}}function ro(t){let n;return{c(){n=$("h4"),n.textContent="NA"},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function so(e){let t,n,o,i=(`${e[95]?.season||""}${e[95]?.year?" "+e[95].year:""}`||"NA")+"";return{c(){t=$("span"),n=L(i),F(t,"class","copy svelte-1jwtcbl"),F(t,"copy-value",o=`${e[95]?.season||""}${e[95]?.year?" "+e[95].year:""}`||"NA")},m(e,o){A(e,t,o),k(t,n)},p(e,l){512&l[0]&&i!==(i=(`${e[95]?.season||""}${e[95]?.year?" "+e[95].year:""}`||"NA")+"")&&j(n,i),512&l[0]&&o!==(o=`${e[95]?.season||""}${e[95]?.year?" "+e[95].year:""}`||"NA")&&F(t,"copy-value",o)},d(e){e&&T(t)}}}function ao(e){let t,n,o,i,l,r=e[95].userScore+"";return{c(){t=L(" · "),n=I(),o=$("i"),i=I(),l=L(r),F(o,"class","fa-regular fa-star svelte-1jwtcbl")},m(e,r){A(e,t,r),A(e,n,r),A(e,o,r),A(e,i,r),A(e,l,r)},p(e,t){512&t[0]&&r!==(r=e[95].userScore+"")&&j(l,r)},d(e){e&&T(t),e&&T(n),e&&T(o),e&&T(i),e&&T(l)}}}function co(e){let t,n,o,i,l,r,s=[],a=new Map,c=e[23](Object.entries(e[95].studios||{}),e[95]?.favoriteContents?.studios);const u=e=>e[106];for(let t=0;t<c.length;t+=1){let n=Qn(e,c,t),o=u(n);a.set(o,s[t]=uo(o,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Studios",o=I(),i=$("div");for(let e=0;e<s.length;e+=1)s[e].c();F(n,"class","info-categ svelte-1jwtcbl"),F(i,"class",p("studio-popup info")+" svelte-1jwtcbl"),D(i,"overflow",e[7]?"hidden":""),F(t,"class","svelte-1jwtcbl")},m(a,c){A(a,t,c),k(t,n),k(t,o),k(t,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);l||(r=P(i,"wheel",e[38]),l=!0)},p(e,t){8389120&t[0]&&(c=e[23](Object.entries(e[95].studios||{}),e[95]?.favoriteContents?.studios),s=ve(s,t,u,1,e,c,a,i,we,uo,null,Qn)),128&t[0]&&D(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<s.length;e+=1)s[e].d();l=!1,r()}}}function uo(e,t){let n,o,i,l,r,s,a,c=(t[106].studioName||"N/A")+"";return{key:e,first:null,c(){n=$("span"),o=$("a"),i=L(c),s=I(),F(o,"class",l=p(t[107]?`${t[107]}-color`:"")+" svelte-1jwtcbl"),F(o,"rel","noopener noreferrer"),F(o,"target","_blank"),F(o,"href",r=t[106].studioUrl||""),F(n,"class",p("copy")+" svelte-1jwtcbl"),F(n,"copy-value",a=t[106].studioName||""),this.first=n},m(e,t){A(e,n,t),k(n,o),k(o,i),k(n,s)},p(e,s){t=e,512&s[0]&&c!==(c=(t[106].studioName||"N/A")+"")&&j(i,c),512&s[0]&&l!==(l=p(t[107]?`${t[107]}-color`:"")+" svelte-1jwtcbl")&&F(o,"class",l),512&s[0]&&r!==(r=t[106].studioUrl||"")&&F(o,"href",r),512&s[0]&&a!==(a=t[106].studioName||"")&&F(n,"copy-value",a)},d(e){e&&T(n)}}}function fo(e){let t,n,o,i,l,r,s=[],a=new Map,c=e[24](e[95].genres,e[95]?.favoriteContents?.genres,e[95].contentCaution);const u=e=>e[102];for(let t=0;t<c.length;t+=1){let n=zn(e,c,t),o=u(n);a.set(o,s[t]=po(o,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Genres",o=I(),i=$("div");for(let e=0;e<s.length;e+=1)s[e].c();F(n,"class","info-categ svelte-1jwtcbl"),F(i,"class",p("genres-popup info")+" svelte-1jwtcbl"),D(i,"overflow",e[7]?"hidden":""),F(t,"class","svelte-1jwtcbl")},m(a,c){A(a,t,c),k(t,n),k(t,o),k(t,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);l||(r=P(i,"wheel",e[39]),l=!0)},p(e,t){16777728&t[0]&&(c=e[24](e[95].genres,e[95]?.favoriteContents?.genres,e[95].contentCaution),s=ve(s,t,u,1,e,c,a,i,we,po,null,zn)),128&t[0]&&D(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<s.length;e+=1)s[e].d();l=!1,r()}}}function po(e,t){let n,o,i,l,r,s=(t[102]||"N/A")+"";return{key:e,first:null,c(){n=$("span"),o=L(s),i=I(),F(n,"class",l=p("copy "+(t[103]?`${t[103]}-color`:""))+" svelte-1jwtcbl"),F(n,"copy-value",r=t[102]||""),this.first=n},m(e,t){A(e,n,t),k(n,o),k(n,i)},p(e,i){t=e,512&i[0]&&s!==(s=(t[102]||"N/A")+"")&&j(o,s),512&i[0]&&l!==(l=p("copy "+(t[103]?`${t[103]}-color`:""))+" svelte-1jwtcbl")&&F(n,"class",l),512&i[0]&&r!==(r=t[102]||"")&&F(n,"copy-value",r)},d(e){e&&T(n)}}}function mo(e){let t,n,o,i,l,r,s=[],a=new Map,c=e[22](e[95].tags,e[95]?.favoriteContents?.tags,e[95].contentCaution);const u=e=>e[98];for(let t=0;t<c.length;t+=1){let n=Xn(e,c,t),o=u(n);a.set(o,s[t]=ho(o,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Tags",o=I(),i=$("div");for(let e=0;e<s.length;e+=1)s[e].c();F(n,"class","info-categ svelte-1jwtcbl"),F(i,"class",p("tags-popup info")+" svelte-1jwtcbl"),D(i,"overflow",e[7]?"hidden":""),F(t,"class","svelte-1jwtcbl")},m(a,c){A(a,t,c),k(t,n),k(t,o),k(t,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);l||(r=P(i,"wheel",e[40]),l=!0)},p(e,t){4194816&t[0]&&(c=e[22](e[95].tags,e[95]?.favoriteContents?.tags,e[95].contentCaution),s=ve(s,t,u,1,e,c,a,i,we,ho,null,Xn)),128&t[0]&&D(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<s.length;e+=1)s[e].d();l=!1,r()}}}function ho(e,t){let n,o,i,l,r,s=(t[98]||"N/A")+"";return{key:e,first:null,c(){n=$("span"),o=L(s),i=I(),F(n,"class",l=p("copy "+(t[99]?`${t[99]}-color`:""))+" svelte-1jwtcbl"),F(n,"copy-value",r=t[98]||""),this.first=n},m(e,t){A(e,n,t),k(n,o),k(n,i)},p(e,i){t=e,512&i[0]&&s!==(s=(t[98]||"N/A")+"")&&j(o,s),512&i[0]&&l!==(l=p("copy "+(t[99]?`${t[99]}-color`:""))+" svelte-1jwtcbl")&&F(n,"class",l),512&i[0]&&r!==(r=t[98]||"")&&F(n,"copy-value",r)},d(e){e&&T(n)}}}function yo(e){let t,n,o,i,l,r=Eo(e[95]?.description)+"";return{c(){t=$("div"),n=$("h3"),n.textContent="Description",o=I(),i=$("div"),F(i,"class","anime-description copy svelte-1jwtcbl"),F(i,"copy-value",l=xo(e[95]?.description)||""),F(t,"class","anime-description-wrapper svelte-1jwtcbl")},m(e,l){A(e,t,l),k(t,n),k(t,o),k(t,i),i.innerHTML=r},p(e,t){512&t[0]&&r!==(r=Eo(e[95]?.description)+"")&&(i.innerHTML=r),512&t[0]&&l!==(l=xo(e[95]?.description)||"")&&F(i,"copy-value",l)},d(e){e&&T(t)}}}function wo(e,t){let n,o,r,s,c,u,d,f,m,h,y,w,g,v,b,S,x,E,N,C,M,O,_,U,V,R,B,H,q,W,G,K,Y,J,X,z,Q,Z,ee,te,ne,oe,ie,le,re,se,ae,ce,me,he,ye,we,ge,ve,be,Se,ke,xe,Ee,Ae,Te,Ne,$e,Le,Ie,Ce,Pe,Fe,je,Me,De,Oe,_e,Ue,Ve=t[96],Re=t[97],Be=(Ao(t[95]?.title)||"NA")+"",He=(null!=t[95].averageScore?Pt(.1*t[95].averageScore,1):"NA")+"",qe="/10 · "+(null!=t[95].popularity?Pt(t[95].popularity,0):"NA"),We=(t[95].userStatus||"NA")+"",Ge=(t[95].status||"NA")+"",Ke=Object.entries(t[95]?.studios||{}).length,Ye=(t[14](t[95].id)||"N/A")+"",Je="See "+(t[95].isSeenMore?"Less":"More"),Xe=t[95].trailerID&&eo(),ze=t[95].bannerImageUrl&&to(t);const Qe=()=>t[32](r,Ve,Re),Ze=()=>t[32](null,Ve,Re);function et(){return t[33](t[95])}function tt(...e){return t[34](t[95],...e)}let nt=t[11]&&no(t);function ot(e,t){return e[95]?.nextAiringEpisode?.airingAt?io:oo}let it=ot(t),lt=it(t);function rt(e,t){return e[95]?.season||e[95]?.year?so:ro}let st=rt(t),at=st(t),ct=null!=t[95].userScore&&ao(t),ut=Ke&&co(t),dt=t[95].genres.length&&fo(t),ft=t[95]?.tags?.length&&mo(t);function pt(){return t[42](t[95])}function mt(...e){return t[43](t[95],...e)}let ht=t[95]?.description&&yo(t);function yt(...e){return t[44](t[95],...e)}function wt(...e){return t[45](t[95],...e)}const gt=()=>t[46](n,Ve,Re),vt=()=>t[46](null,Ve,Re);return{key:e,first:null,c(){n=$("div"),o=$("div"),r=$("div"),s=$("div"),s.innerHTML='<i class="fa-solid fa-k fa-fade svelte-1jwtcbl"></i>',c=I(),Xe&&Xe.c(),u=I(),d=$("div"),ze&&ze.c(),m=I(),h=$("div"),y=$("div"),w=$("label"),g=$("input"),v=I(),b=$("span"),S=I(),x=$("h3"),x.textContent="Auto Play",E=I(),nt&&nt.c(),N=I(),C=$("div"),M=$("div"),O=$("div"),_=$("a"),U=L(Be),H=I(),q=$("div"),W=$("i"),G=I(),K=$("h3"),Y=$("b"),J=L(He),X=I(),z=L(qe),Z=I(),ee=$("div"),lt.c(),te=I(),at.c(),ne=I(),oe=$("div"),ie=$("h4"),le=$("span"),re=L(We),ae=I(),ct&&ct.c(),me=I(),he=$("h4"),ye=L(Ge),ge=I(),ve=$("div"),ut&&ut.c(),be=I(),dt&&dt.c(),Se=I(),ft&&ft.c(),ke=I(),xe=$("div"),Ee=$("img"),Te=I(),ht&&ht.c(),$e=I(),Le=$("div"),Ie=$("button"),Ce=L(Ye),Pe=I(),Fe=$("button"),Fe.textContent="YT Videos",je=I(),Me=$("button"),De=L(Je),F(s,"class","popup-header-loading svelte-1jwtcbl"),F(d,"class","popup-img svelte-1jwtcbl"),F(r,"class",f=p("popup-header "+(t[95].trailerID?"loader":""))+" svelte-1jwtcbl"),F(g,"type","checkbox"),F(g,"class","autoplayToggle svelte-1jwtcbl"),F(b,"class","slider round svelte-1jwtcbl"),F(b,"tabindex","0"),F(w,"class","switch svelte-1jwtcbl"),F(x,"class","autoplay-label svelte-1jwtcbl"),F(y,"class","autoPlay-container svelte-1jwtcbl"),F(h,"class","popup-controls svelte-1jwtcbl"),F(_,"rel","noopener noreferrer"),F(_,"target","_blank"),F(_,"href",V=t[95].animeUrl||""),F(_,"class",R=p(So(t[95])+"-color anime-title copy")+" svelte-1jwtcbl"),F(_,"copy-value",B=Ao(t[95]?.title)||""),D(_,"overflow",t[7]?"hidden":""),F(W,"class","fa-regular fa-star svelte-1jwtcbl"),F(Y,"class","svelte-1jwtcbl"),F(K,"class","copy svelte-1jwtcbl"),F(K,"copy-value",Q=(null!=t[95].averageScore?Pt(.1*t[95].averageScore,1):"NA")+"/10 · "+(null!=t[95].popularity?Pt(t[95].popularity,0):"NA")),F(q,"class","info-rating-wrapper svelte-1jwtcbl"),F(O,"class","anime-title-container svelte-1jwtcbl"),F(ee,"class","info-format svelte-1jwtcbl"),F(le,"class",se=p(t[21](t[95].userStatus)+"-color")+" svelte-1jwtcbl"),F(ie,"class","copy"),F(ie,"copy-value",ce=(t[95].userStatus||"NA")+(null!=t[95].userScore?" · "+t[95].userScore:"")),F(he,"class","copy"),F(he,"copy-value",we=t[95].status||""),F(oe,"class","info-status svelte-1jwtcbl"),F(ve,"class","info-contents svelte-1jwtcbl"),F(Ee,"loading","lazy"),a(Ee.src,Ae=t[95].coverImageUrl)||F(Ee,"src",Ae),F(Ee,"alt","coverImg"),F(Ee,"class","fade-in svelte-1jwtcbl"),F(xe,"class","info-profile svelte-1jwtcbl"),F(M,"class",Ne=p("popup-info"+(t[95].isSeenMore?" seenmore":""))+" svelte-1jwtcbl"),D(M,"--windowWidth",t[4]+"px"),D(M,"--windowHeight",t[5]+"px"),F(Ie,"class","hideshowbtn svelte-1jwtcbl"),F(Fe,"class","morevideos svelte-1jwtcbl"),F(Me,"class","seemoreless svelte-1jwtcbl"),D(Me,"overflow",t[7]?"hidden":""),F(Le,"class","footer svelte-1jwtcbl"),F(C,"class","popup-body svelte-1jwtcbl"),F(o,"class","popup-main svelte-1jwtcbl"),F(n,"class","popup-content svelte-1jwtcbl"),this.first=n},m(e,i){A(e,n,i),k(n,o),k(o,r),k(r,s),k(r,c),Xe&&Xe.m(r,null),k(r,u),k(r,d),ze&&ze.m(d,null),Qe(),k(o,m),k(o,h),k(h,y),k(y,w),k(w,g),g.checked=t[10],k(w,v),k(w,b),k(y,S),k(y,x),k(h,E),nt&&nt.m(h,null),k(o,N),k(o,C),k(C,M),k(M,O),k(O,_),k(_,U),k(O,H),k(O,q),k(q,W),k(q,G),k(q,K),k(K,Y),k(Y,J),k(K,X),k(K,z),k(M,Z),k(M,ee),lt.m(ee,null),k(ee,te),at.m(ee,null),k(M,ne),k(M,oe),k(oe,ie),k(ie,le),k(le,re),k(ie,ae),ct&&ct.m(ie,null),k(oe,me),k(oe,he),k(he,ye),k(M,ge),k(M,ve),ut&&ut.m(ve,null),k(ve,be),dt&&dt.m(ve,null),k(ve,Se),ft&&ft.m(ve,null),k(M,ke),k(M,xe),k(xe,Ee),k(xe,Te),ht&&ht.m(xe,null),k(C,$e),k(C,Le),k(Le,Ie),k(Ie,Ce),k(Le,Pe),k(Le,Fe),k(Le,je),k(Le,Me),k(Me,De),gt(),Oe=!0,_e||(Ue=[P(r,"click",et),P(r,"keydown",tt),P(g,"change",t[35]),P(b,"keydown",t[36]),P(Ee,"error",t[41]),P(Ee,"click",pt),P(Ee,"keydown",mt),P(Ie,"click",(function(){l(t[15](t[95].id))&&t[15](t[95].id).apply(this,arguments)})),P(Ie,"keydown",yt),P(Fe,"click",(function(){l(t[18](t[95].title))&&t[18](t[95].title).apply(this,arguments)})),P(Fe,"keydown",wt),P(Me,"click",(function(){l(t[19](t[95],t[97]))&&t[19](t[95],t[97]).apply(this,arguments)})),P(Me,"keydown",To)],_e=!0)},p(e,n){(t=e)[95].trailerID?Xe||(Xe=eo(),Xe.c(),Xe.m(r,u)):Xe&&(Xe.d(1),Xe=null),t[95].bannerImageUrl?ze?ze.p(t,n):(ze=to(t),ze.c(),ze.m(d,null)):ze&&(ze.d(1),ze=null),(!Oe||512&n[0]&&f!==(f=p("popup-header "+(t[95].trailerID?"loader":""))+" svelte-1jwtcbl"))&&F(r,"class",f),Ve===t[96]&&Re===t[97]||(Ze(),Ve=t[96],Re=t[97],Qe()),1024&n[0]&&(g.checked=t[10]),t[11]?nt?(nt.p(t,n),2048&n[0]&&fe(nt,1)):(nt=no(t),nt.c(),fe(nt,1),nt.m(h,null)):nt&&(ue(),pe(nt,1,1,(()=>{nt=null})),de()),(!Oe||512&n[0])&&Be!==(Be=(Ao(t[95]?.title)||"NA")+"")&&j(U,Be),(!Oe||512&n[0]&&V!==(V=t[95].animeUrl||""))&&F(_,"href",V),(!Oe||512&n[0]&&R!==(R=p(So(t[95])+"-color anime-title copy")+" svelte-1jwtcbl"))&&F(_,"class",R),(!Oe||512&n[0]&&B!==(B=Ao(t[95]?.title)||""))&&F(_,"copy-value",B),128&n[0]&&D(_,"overflow",t[7]?"hidden":""),(!Oe||512&n[0])&&He!==(He=(null!=t[95].averageScore?Pt(.1*t[95].averageScore,1):"NA")+"")&&j(J,He),(!Oe||512&n[0])&&qe!==(qe="/10 · "+(null!=t[95].popularity?Pt(t[95].popularity,0):"NA"))&&j(z,qe),(!Oe||512&n[0]&&Q!==(Q=(null!=t[95].averageScore?Pt(.1*t[95].averageScore,1):"NA")+"/10 · "+(null!=t[95].popularity?Pt(t[95].popularity,0):"NA")))&&F(K,"copy-value",Q),it===(it=ot(t))&&lt?lt.p(t,n):(lt.d(1),lt=it(t),lt&&(lt.c(),lt.m(ee,te))),st===(st=rt(t))&&at?at.p(t,n):(at.d(1),at=st(t),at&&(at.c(),at.m(ee,null))),(!Oe||512&n[0])&&We!==(We=(t[95].userStatus||"NA")+"")&&j(re,We),(!Oe||512&n[0]&&se!==(se=p(t[21](t[95].userStatus)+"-color")+" svelte-1jwtcbl"))&&F(le,"class",se),null!=t[95].userScore?ct?ct.p(t,n):(ct=ao(t),ct.c(),ct.m(ie,null)):ct&&(ct.d(1),ct=null),(!Oe||512&n[0]&&ce!==(ce=(t[95].userStatus||"NA")+(null!=t[95].userScore?" · "+t[95].userScore:"")))&&F(ie,"copy-value",ce),(!Oe||512&n[0])&&Ge!==(Ge=(t[95].status||"NA")+"")&&j(ye,Ge),(!Oe||512&n[0]&&we!==(we=t[95].status||""))&&F(he,"copy-value",we),512&n[0]&&(Ke=Object.entries(t[95]?.studios||{}).length),Ke?ut?ut.p(t,n):(ut=co(t),ut.c(),ut.m(ve,be)):ut&&(ut.d(1),ut=null),t[95].genres.length?dt?dt.p(t,n):(dt=fo(t),dt.c(),dt.m(ve,Se)):dt&&(dt.d(1),dt=null),t[95]?.tags?.length?ft?ft.p(t,n):(ft=mo(t),ft.c(),ft.m(ve,null)):ft&&(ft.d(1),ft=null),(!Oe||512&n[0]&&!a(Ee.src,Ae=t[95].coverImageUrl))&&F(Ee,"src",Ae),t[95]?.description?ht?ht.p(t,n):(ht=yo(t),ht.c(),ht.m(xe,null)):ht&&(ht.d(1),ht=null),(!Oe||512&n[0]&&Ne!==(Ne=p("popup-info"+(t[95].isSeenMore?" seenmore":""))+" svelte-1jwtcbl"))&&F(M,"class",Ne),16&n[0]&&D(M,"--windowWidth",t[4]+"px"),32&n[0]&&D(M,"--windowHeight",t[5]+"px"),(!Oe||512&n[0])&&Ye!==(Ye=(t[14](t[95].id)||"N/A")+"")&&j(Ce,Ye),(!Oe||512&n[0])&&Je!==(Je="See "+(t[95].isSeenMore?"Less":"More"))&&j(De,Je),128&n[0]&&D(Me,"overflow",t[7]?"hidden":""),Ve===t[96]&&Re===t[97]||(vt(),Ve=t[96],Re=t[97],gt())},i(e){Oe||(fe(nt),Oe=!0)},o(e){pe(nt),Oe=!1},d(e){e&&T(n),Xe&&Xe.d(),ze&&ze.d(),Ze(),nt&&nt.d(),lt.d(),at.d(),ct&&ct.d(),ut&&ut.d(),dt&&dt.d(),ft&&ft.d(),ht&&ht.d(),vt(),_e=!1,i(Ue)}}}function go(e){let t;return{c(){t=$("div"),t.innerHTML='<i class="popup-content-loading-icon fa-solid fa-k fa-fade svelte-1jwtcbl"></i>',F(t,"class","popup-content-loading svelte-1jwtcbl")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function vo(e){let t,n,o,i,l,r;return{c(){t=$("div"),n=$("div"),o=$("i"),F(o,"class","fa-solid fa-arrow-left svelte-1jwtcbl"),F(n,"class",i=p("go-back-grid"+(e[6]>=100?" willGoBack":""))+" svelte-1jwtcbl"),F(t,"class","go-back-grid-highlight svelte-1jwtcbl"),D(t,"--scale",Math.max(1,.01*(e[6]??1)*2)),D(t,"--position","-"+(100-(e[6]??0))+"%")},m(e,i){A(e,t,i),k(t,n),k(n,o),r=!0},p(e,o){(!r||64&o[0]&&i!==(i=p("go-back-grid"+(e[6]>=100?" willGoBack":""))+" svelte-1jwtcbl"))&&F(n,"class",i),64&o[0]&&D(t,"--scale",Math.max(1,.01*(e[6]??1)*2)),64&o[0]&&D(t,"--position","-"+(100-(e[6]??0))+"%")},i(e){r||(l&&l.end(1),r=!0)},o(e){l=he(t,Vt,{x:-176,duration:1e3}),r=!1},d(e){e&&T(t),e&&l&&l.end()}}}function bo(e){let t,n,o,l,r,s,a,c=e[9]?.length&&Zn(e),u=e[8]&&e[7]&&vo(e);return{c(){t=$("div"),n=$("div"),c&&c.c(),o=I(),u&&u.c(),l=C(),F(n,"id","popup-container"),F(n,"class","popup-container hide svelte-1jwtcbl"),D(n,"--translateX",e[4]+"px"),D(n,"--translateY",e[5]+"px"),F(t,"id","popup-wrapper"),F(t,"class","popup-wrapper svelte-1jwtcbl")},m(i,d){A(i,t,d),k(t,n),c&&c.m(n,null),e[47](n),e[49](t),A(i,o,d),u&&u.m(i,d),A(i,l,d),r=!0,s||(a=[P(n,"touchstart",e[27]),P(n,"touchmove",e[28]),P(n,"touchend",e[29]),P(n,"touchcancel",e[30],{passive:!0}),P(n,"scroll",e[26]),P(t,"click",e[13]),P(t,"keydown",e[48])],s=!0)},p(e,t){e[9]?.length?c?(c.p(e,t),512&t[0]&&fe(c,1)):(c=Zn(e),c.c(),fe(c,1),c.m(n,null)):c&&(ue(),pe(c,1,1,(()=>{c=null})),de()),16&t[0]&&D(n,"--translateX",e[4]+"px"),32&t[0]&&D(n,"--translateY",e[5]+"px"),e[8]&&e[7]?u?(u.p(e,t),384&t[0]&&fe(u,1)):(u=vo(e),u.c(),fe(u,1),u.m(l.parentNode,l)):u&&(ue(),pe(u,1,1,(()=>{u=null})),de())},i(e){r||(fe(c),fe(u),r=!0)},o(e){pe(c),pe(u),r=!1},d(n){n&&T(t),c&&c.d(),e[47](null),e[49](null),n&&T(o),u&&u.d(n),n&&T(l),s=!1,i(a)}}}function So({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":e?.semiCaution?.length?"teal":o<t?"purple":o<n?"orange":"green"}function ko(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}function xo(e){let t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}function Eo(e){let t=document.createElement("span");t.innerHTML=e;let n=t.querySelectorAll("a");return Array.from(n).forEach((e=>{e?.setAttribute("rel","noopener noreferrer"),e?.setAttribute("target","_blank")})),t.innerHTML}function Ao(e){return e?.english||e?.userPreferred||e?.romaji||e?.native||""}const To=e=>"Enter"===e.key;function No(e,t,n){let o,i,l,r,s,a,c,u,f,p,h,y,w,g,v,b,S,k,x,E;d(e,mt,(e=>n(7,o=e))),d(e,ut,(e=>n(8,i=e))),d(e,Ve,(e=>n(71,l=e))),d(e,Ie,(e=>n(72,r=e))),d(e,Xe,(e=>n(73,s=e))),d(e,kt,(e=>n(74,a=e))),d(e,_e,(e=>n(9,c=e))),d(e,Qe,(e=>n(75,u=e))),d(e,ze,(e=>n(10,f=e))),d(e,Ce,(e=>n(76,p=e))),d(e,lt,(e=>n(77,h=e))),d(e,Me,(e=>n(78,y=e))),d(e,it,(e=>n(79,w=e))),d(e,Ue,(e=>n(80,g=e))),d(e,pt,(e=>n(11,v=e))),d(e,rt,(e=>n(81,b=e))),d(e,tt,(e=>n(82,S=e))),d(e,dt,(e=>n(83,k=e))),d(e,et,(e=>n(84,x=e))),d(e,ot,(e=>n(12,E=e)));let A,T=window.navigator.onLine,N=r?100:50;(async()=>{N=await Yn("savedYtVolume")||N})();let $,L,I,C,P,F,j,M,D,O,_,U=window.visualViewport.width,V=window.visualViewport.height,R={};function B(e){let t=e.target,n=t.classList;t.closest(".popup-container")||n.contains("popup-container")||m(ut,i=!1,i)}async function H(e){y[e]?await b("Are you sure you want to show the anime?")&&(delete y[e],Me.set(y),c.length&&g instanceof Worker&&x().then((()=>{g.postMessage({removeID:e})}))):await b("Are you sure you want to hide the anime?")&&(m(Me,y[e]=!0,y),c.length&&g instanceof Worker&&x().then((()=>{g.postMessage({removeID:e})})))}async function q(e){e&&await b({title:"Open in Anilist",text:"Are you sure you want open this anime in Anilist?"})&&window.open(e,"_blank")}async function G(e){let t;Tt(e)?t=e?.romaji||e?.userPreferred||e?.english||e?.native:"string"==typeof e&&(t=e),"string"==typeof t&&""!==t&&await b({title:"See Related Videos",text:"Are you sure you want see more related videos in Youtube?"})&&Y(t)}async function Y(e){let t;Tt(e)?t=e?.romaji||e?.userPreferred||e?.english||e?.native:"string"==typeof e&&(t=e),"string"==typeof t&&""!==t&&window.open(`https://www.youtube.com/results?search_query=${t} Anime`,"_blank")}async function J(){if(!i)return;await Z();let e,t=L?.querySelector?.(".trailer"),n=It(L?.closest?.(".popup-content"))??-1;if(O&&clearTimeout(O),O=setTimeout((()=>{if(!i)return;let e=c?.[n]?.gridElement||$.children?.[n];i&&e instanceof Element&&!function(e,t,n=0){try{var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),l=getComputedStyle(e).overflowX,r=getComputedStyle(e).overflowY;if("auto"===l||"scroll"===l||"auto"===r||"scroll"===r){var s=e.scrollLeft,a=e.scrollTop,c=o.top>=i.top&&o.left>=i.left&&o.bottom<=i.bottom&&o.right<=i.right;if(c||(c=(Math.max(o.top,i.top)-Math.min(o.bottom,i.bottom))*(Math.max(o.left,i.left)-Math.min(o.right,i.right))/(Math.min(o.height,window.innerHeight)*Math.min(o.width,window.innerWidth))>=n),!c)return!1;o={top:o.top-i.top+a,left:o.left-i.left+s,bottom:o.bottom-i.top+a,right:o.right-i.left+s,height:o.height,width:o.width}}var u=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth;return o.top>=0&&o.left>=0&&o.bottom<=u&&o.right<=d}catch(e){return}}($,e,.5)&&(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",$.style.overflow="hidden",$.style.overflow="",e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),300),t instanceof Element&&(e=s?.some((({ytPlayer:e})=>e.g===t))),e){if(n>=0){I=n;let e=[[c?.[n+1],n+1],[c?.[n-1],n-1]];_&&clearTimeout(_),_=setTimeout((async()=>{i&&e.forEach((([e,t])=>{e&&Q(e,t)}))}),300)}for(let e=0;e<s.length;e++)s[e].ytPlayer.g===t&&1!==s[e].ytPlayer?.getPlayerState?.()&&f?(await Z(),F?.classList?.contains?.("visible")&&p&&(ee(s[e].ytPlayer),s[e].ytPlayer?.playVideo?.())):s[e].ytPlayer.g!==t&&s[e].ytPlayer?.pauseVideo?.()}else if(s?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),n>=0){I=n;let e=[[c?.[n],n],[c?.[n+1],n+1],[c?.[n-1],n-1]];_&&clearTimeout(_),_=setTimeout((async()=>{i&&e.forEach((([e,t])=>{e&&Q(e,t)}))}),300)}}nt.subscribe((async e=>{if(i&&e>=0){await Z();let t=j?.children[e];t instanceof Element&&j instanceof Element&&Ct(j,t,"top")}})),Me.subscribe((async e=>{Tt(e)&&await Kn(e,"hiddenEntries")})),ut.subscribe((async e=>{if(F instanceof Element&&j instanceof Element)if(!0===e){U>=750?j.style.setProperty("--translateX",U+"px"):j.style.setProperty("--translateY",V+"px");let e=j?.children[k??I??0];if(e instanceof Element){Ct(j,e,"top","instant"),Dt(F,"visible"),Dt(j,"show"),Dt(P,"hide"),Ot(P,"show"),I=k;let t,n=[[c[k],k],[c[k+1],k+1],[c[k-1],k-1]],o=n[0][0]?.popupHeader?.querySelector?.(".trailer")||j?.children?.[k]?.querySelector?.(".trailer");for(let e=0;e<s.length;e++)if(s[e].ytPlayer.g===o&&(t=!0,f)){await Z(),F?.classList?.contains?.("visible")&&p&&(ee(s[e].ytPlayer),s[e].ytPlayer?.playVideo?.());break}n.forEach((([e,n],o)=>{t&&e&&0===o||e&&Q(e,n)})),m(dt,k=null,k)}else Dt(F,"visible"),Dt(j,"show")}else!1===e&&(Ot(j,"show"),Ot(P,"hide"),Dt(j,"hide"),Dt(P,"show"),setTimeout((()=>{s?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),Ot(F,"visible")}),300))})),_e.subscribe((async e=>{if(e instanceof Array&&e.length){D&&(D?.disconnect?.(),D=null),await Z(),D=new IntersectionObserver((e=>{if(!i)return;let t=[];if(e.forEach((e=>{if(!i)return;let n=e.target;e.isIntersecting&&(e.intersectionRatio>=.5||V<=360&&e.intersectionRatio>0)&&t.push(n)})),t.length){let e=Lt(j,t,V>360?.5:0)||Lt(j,j.children,0)?.getElementsByClassName("popup-header")?.[0];L=e,J()}}),{root:null,rootMargin:"100%",threshold:[.5,0]}),e.forEach((async(e,t)=>{let n=e.popupHeader||j.children?.[t]?.querySelector?.(".popup-header");n instanceof Element&&D?.observe?.(n)}));let t=c[c.length-1].popupContent||j.children?.[c.length-1];S&&t instanceof Element&&S.observe(t),J()}else e instanceof Array&&e.length<1&&m(ut,i=!1,i)})),ze.subscribe((async e=>{if("boolean"==typeof e)if(await Kn(e,"autoPlay"),!0===e){await Z();let e=L?.querySelector?.(".trailer");for(let t=0;t<s.length;t++)s[t].ytPlayer.g===e&&p?(ee(s[t].ytPlayer),s[t].ytPlayer?.playVideo?.()):s[t].ytPlayer?.pauseVideo?.()}else s.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()}))})),W((()=>{let e;setInterval((()=>{n(0,A=new Date)}),1e3),n(1,F=F||document.getElementById("popup-wrapper")),P=document.getElementById("main-home"),n(2,j=j||F.querySelector("#popup-container")),j.addEventListener("scroll",(()=>{n(3,M=!0),clearTimeout(e),e=setTimeout((()=>{n(3,M=!1)}),500)})),$=document.getElementById("anime-grid"),window.addEventListener("resize",(()=>{document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||(n(4,U=window.visualViewport.width),n(5,V=window.visualViewport.height))})),document.addEventListener("keydown",(async e=>{if(" "===e.key&&i){e.preventDefault();let t=L?.querySelector?.(".trailer"),n=s?.some((({ytPlayer:e})=>t===e.g&&1===e?.getPlayerState?.()));if(s.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()})),!n){await Z();for(let e=0;e<s.length;e++)if(s[e].ytPlayer.g===t&&p){ee(s[e].ytPlayer),s[e].ytPlayer?.playVideo?.();break}}}else e.ctrlKey&&"x"===e.key?.toLowerCase?.()?(e.preventDefault(),m(ut,i=!i,i)):e.ctrlKey&&"k"===e.key?.toLowerCase?.()&&(e.preventDefault(),m(ze,f=!f,f))}))}));let X,z={};function Q(e,t){let n=e?.popupHeader||j.children?.[t]?.querySelector(".popup-header"),o=n?.querySelector?.(".trailer")||n?.querySelector?.(".trailer"),l=e?.trailerID;if(o instanceof Element&&l&&"undefined"!=typeof YT){if(s.some((({ytPlayer:e})=>e.g===o)))return;Dt(n,"loader");let r=n?.querySelector?.(".popup-img");if(e?.bannerImageUrl&&!z[e.id]){let e=r.querySelector(".coverImg");Dt(e,"display-none"),Dt(e,"fade-out")}if(s.length>=3){let e=0,t=-1/0;s.forEach(((n,o)=>{if(-1===n.headerIdx)return;let i=Math.abs(n.headerIdx-I);i>t&&(t=i,e=o)}));let i=s?.splice?.(e,1)?.[0]?.ytPlayer,l=i?.g?.closest?.(".popup-header");i?.destroy?.();let a=l?.querySelector?.(".popup-img");a instanceof Element&&Ot(a,"display-none");let c=document.createElement("div");c.className="trailer",Dt(o,"display-none"),Ot(r,"display-none"),n.replaceChild(c,o),Dt(o,"display-none"),o=n.querySelector(".trailer")}else Dt(o,"display-none");Ot(r,"display-none"),o.setAttribute("id","yt-player"+Date.now()+Math.random());let a=new YT.Player(o,{playerVars:{cc_lang_pref:"en",cc_load_policy:1,enablejsapi:1,modestbranding:1,playsinline:1,playlist:l,rel:0},events:{onReady:e=>{!async function(e){let t=e.target,n=t?.g,o=n?.parentElement,i=o?.closest?.(".popup-content"),l=c?.[It(i)??-1];if(-1!==t.getPlayerState()&&"IFRAME"===n.tagName&&T){if(n?.setAttribute?.("loading","lazy"),!f){let e=o?.querySelector?.(".popup-img");Dt(e,"fade-out"),Ot(o,"loader"),Ot(n,"display-none"),setTimeout((()=>{Dt(e,"display-none"),Ot(e,"fade-out")}),300)}J(),delete z[l.id]}else{z[l.id]=!0,m(Xe,s=s.filter((e=>e.ytPlayer!==t)),s),t.destroy(),Dt(n,"display-none"),Ot(o,"loader");let e=o?.querySelector?.(".popup-img"),i=e.querySelector(".coverImg");Dt(i,"fade-out"),Ot(i,"fade-in"),Dt(i,"fade-in"),Ot(i,"display-none"),Ot(i,"fade-out"),Ot(e,"display-none")}}(e)},onStateChange:e=>{!function(e){let t=e.target;if(!t||!t?.getPlayerState)return;let n=t?.g,o=n?.parentElement,l=o?.querySelector?.(".popup-img");if(0===t?.getPlayerState?.()){t?.stopVideo?.();let e=o?.closest?.(".popup-content"),n=c?.[It(e)??-1]?.id;null!=n&&(R[n]&&(clearTimeout(R[n]),R[n]=null),R[n]=setTimeout((()=>{L===o&&5===t?.getPlayerState?.()&&t.g&&p&&i&&f&&t?.playVideo?.()}),8e3))}1!==t?.getPlayerState?.()||!n?.classList?.contains?.("display-none")&&l?.classList?.contains?.("display-none")||(s?.forEach((({ytPlayer:e})=>e?.g!==t?.g&&e?.pauseVideo?.())),C=t,Dt(l,"fade-out"),Ot(o,"loader"),Ot(n,"display-none"),setTimeout((()=>{Dt(l,"display-none"),Ot(l,"fade-out")}),300))}(e)},onError:e=>{!function(e){let t=e.target,n=t?.g,o=n?.parentElement,i=o?.querySelector?.(".popup-img");m(Xe,s=s.filter((e=>e.ytPlayer!==t)),s),t.destroy(),Dt(n,"display-none"),Ot(o,"loader");let l=i.querySelector(".coverImg");Dt(l,"fade-out"),Ot(l,"fade-in"),Dt(l,"fade-in"),Ot(l,"display-none"),Ot(l,"fade-out"),Ot(i,"display-none")}(e)}}}),u=`https://www.youtube.com/embed/${l}`;o.setAttribute("src",u),s.push({ytPlayer:a,headerIdx:t})}else{let e=n?.querySelector?.(".popup-img"),t=e.querySelector(".coverImg");Ot(n,"loader"),Ot(t,"display-none"),Ot(e,"display-none")}}function ee(e){if(C?.isMuted&&C?.getVolume){let t=C?.isMuted?.(),n=C?.getVolume?.();"boolean"==typeof t&&(t?e?.mute?.():e?.unMute?.()),"number"==typeof n&&(N!==n&&(N=n,Kn(N,"savedYtVolume")),e?.setVolume?.(N))}}async function te(e){if(await b({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,o=n.classList;t=o.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),X&&clearTimeout(X),Dt(t,"fa-spin"),g&&(g.terminate(),m(Ue,g=null,g)),Sn().then((async e=>{m(pt,v=!1,v),X=setTimeout((()=>{Ot(t,"fa-spin")}),300),m(Ue,g=e.animeLoaderWorker,g),m(it,w="",w),e?.isNew&&(m(_e,c=e.finalAnimeList,c),m(Me,y=e.hiddenEntries,y),m(lt,h=e.numberOfNextLoadedGrid,h)),m(Ve,l=null,l)})).catch((e=>{throw e}))}}function ne(e,t){const n=864e5,o=7*n,i=e=>e.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit",hour12:!0});return t>o?`${$t(t,1)}, ${(e=>e.toLocaleDateString(void 0,{month:"short"}))(e)} ${(e=>e.toLocaleDateString(void 0,{day:"numeric"}))(e)} ${(e=>e.toLocaleDateString(void 0,{year:"numeric"}))(e)}`:t<=o&&t>n?`${$t(t,1)}, ${(e=>e.toLocaleDateString(void 0,{weekday:"short"}))(e)}, ${i(e).toLowerCase()}`:`${$t(t,2)}, ${i(e).toLowerCase()}`}let oe,ie,le,re,se,ae,ce,ue=!1;function de(){new Promise((e=>{let t=document.getElementById("www-widgetapi-script");t&&t.parentElement.removeChild(t);let n=document.createElement("script");n.src="https://www.youtube.com/iframe_api?v=16",n.onerror=()=>{e()},n.onload=()=>{window?.onYouTubeIframeAPIReady?.(),e()};let o=document.getElementsByTagName("script")[0];o.parentElement.insertBefore(n,o)})).then((()=>{m(Xe,s=s.filter((({ytPlayer:e})=>{if("function"!=typeof e?.playVideo||-1===e.getPlayerState()||isNaN(e.getPlayerState())){e.destroy();let t=e?.g?.closest?.(".popup-header")?.querySelector?.(".popup-img");return t instanceof Element&&Ot(t,"display-none"),!1}return!0})),s),J()}))}window.returnedAppIsVisible=e=>{if(!r)return;if(m(Ce,p=e,p),!i||u)return;let t=L?.querySelector?.(".trailer");if(t)if(p)for(let e=0;e<s.length;e++)s[e]?.ytPlayer.g===t&&(f||2===s[e]?.ytPlayer?.getPlayerState?.()&&ue)?(ee(s[e]?.ytPlayer),s[e]?.ytPlayer?.playVideo?.()):s[e]?.ytPlayer?.pauseVideo?.();else{ue=!1;for(let e=0;e<s.length;e++)s[e]?.ytPlayer.g===t&&1===s[e]?.ytPlayer?.getPlayerState?.()&&(ue=!0),s[e]?.ytPlayer?.pauseVideo?.()}},document.addEventListener("visibilitychange",(()=>{if(r)return;if(m(Ce,p="visible"===document.visibilityState,p),!i||u)return;let e=L?.querySelector?.(".trailer");if(e)if(p)for(let t=0;t<s.length;t++)s[t]?.ytPlayer.g===e&&(f||2===s[t]?.ytPlayer?.getPlayerState?.()&&ue)?(ee(s[t]?.ytPlayer),s[t]?.ytPlayer?.playVideo?.()):s[t]?.ytPlayer?.pauseVideo?.();else{ue=!1;for(let t=0;t<s.length;t++)s[t]?.ytPlayer.g===e&&1===s[t]?.ytPlayer?.getPlayerState?.()&&(ue=!0),s[t]?.ytPlayer?.pauseVideo?.()}})),window.addEventListener("online",(()=>{if(r)try{JSBridge.isOnline(!0)}catch(e){}m(Ve,l="Reconnected Successfully",l),u&&m(Qe,u=!1,u),c?.length||m(kt,a=!a,a),T=!0,document.querySelectorAll("script")?.forEach((e=>{e.src&&"https://www.youtube.com/iframe_api?v=16"!==e.src&&(e.src=e.src)})),document.querySelectorAll("img")?.forEach((e=>{e.naturalHeight||(e.src=e.src)})),de()})),window.reloadYoutube=de,window.addEventListener("offline",(()=>{if(r)try{JSBridge.isOnline(!1)}catch(e){}m(Ve,l="Currently Offline...",l),T=!1}));return[A,F,j,M,U,V,ce,o,i,c,f,v,E,B,function(e){return y?y[e]?"Show":"Hide":"N/A"},H,q,G,Y,async function(e,t){if(c[t]){m(_e,c[t].isSeenMore=!c[t].isSeenMore,c),await Z();let n=e.popupContent||j.children?.[t],o=n?.getElementsByClassName?.("popup-header")[0];n instanceof Element&&(Ct(j,n,"bottom","instant"),L=o,J())}},te,function(e){return Ft(e,"completed")?"green":Ft(e,"current")||Ft(e,"repeating")?"blue":Ft(e,"planning")?"orange":Ft(e,"paused")?"peach":Ft(e,"dropped")?"red":"lightgrey"},function(e,t,n){if(!e?.length)return e;let o=Tt(t)&&!Nt(t),i=Tt(n)&&!Nt(n),l={},r={};i&&(n?.caution.forEach((e=>{l[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{r[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],u=[],d={};return e.sort(((e,t)=>t?.rank-e?.rank)),e.forEach((e=>{let n=e?.name||e,f=e?.rank;if(!n)return;let p=n?.trim?.().toLowerCase?.();i&&(l[p]?(d[n]=!0,a.push({tag:`${n}${f?" | "+f+"%":""}`,tagColor:"red"})):r[p]&&(d[n]=!0,c.push({tag:`${n}${f?" | "+f+"%":""}`,tagColor:"teal"}))),o&&!d[n]&&t[p]&&(d[n]=!0,s.push({tag:e,score:t[p]})),d[n]||u.push({tag:`${n}${f?" | "+f+"%":""}`,tagColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>{let t=e?.tag?.name||e?.tag,n=e?.tag?.rank;return{tag:`${t} (${Pt(e.score)})${n?" | "+n+"%":""}`,tagColor:"green"}})),a.concat(c).concat(s).concat(u)},function(e,t){if(!e?.length)return e;let n=Tt(t)&&!Nt(t),o=[],i=[];return e.forEach((([e,l])=>{if(n){let n=e?.trim?.().toLowerCase?.();t[n]?o.push({studio:[e,l],score:t[n]}):i.push({studio:{studioName:e,studioUrl:l},studioColor:null})}else i.push({studio:{studioName:e,studioUrl:l},studioColor:null})})),o.sort(((e,t)=>t.score-e.score)),o=o.map((e=>({studio:{studioName:`${e.studio[0]} (${Pt(e.score)})`,studioUrl:e.studio[1]},studioColor:"green"}))),o.concat(i)},function(e,t,n){if(!e?.length)return e;let o=Tt(t)&&!Nt(t),i=Tt(n)&&!Nt(n),l={},r={};i&&(n?.caution.forEach((e=>{l[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{r[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],u=[],d={};return e.forEach((e=>{let n=e?.trim?.().toLowerCase?.();i&&(l[n]?(d[e]=!0,a.push({genre:e,genreColor:"red"})):r[n]&&(d[e]=!0,c.push({genre:e,genreColor:"teal"}))),o&&!d[e]&&t[n]&&(d[e]=!0,s.push({genre:e,score:t[n]})),d[e]||u.push({genre:e,genreColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>({genre:`${e.genre} (${Pt(e.score)})`,genreColor:"green"}))),s.concat(a).concat(c).concat(u)},function({episodes:e,format:t,duration:n,nextAiringEpisode:o,score:i,meanScoreAll:l,meanScoreAbove:r}){let s="";if(t){let a,c,u;if(s=`${t}`,"number"==typeof o?.episode&&"number"==typeof o?.airingAt&&(u=new Date(1e3*o?.airingAt),c=o?.episode,u instanceof Date&&!isNaN(u)&&(a=u.getTime()-(new Date).getTime())),a>0&&"number"==typeof c&&e>c?s+=` · <span style="color:rgb(61, 180, 242);">${c}/${e} in ${ne(u,a)}</span>`:a>0&&"number"==typeof c?s+=` · <span style="color:rgb(61, 180, 242);">Ep ${c} in ${ne(u,a)}</span>`:a<=0&&"number"==typeof c&&e>c?s+=` · ${c}/${e}`:e>0&&(s+=` · ${e}`),n>0){let e=$t(60*n*1e3);s+=` · ${e||""}`}i<l?s+=' · <span class="purple-color">VERY LOW SCORE</span>':i<r&&(s+=' · <span class="orange-color">LOW SCORE</span>')}return s},function(){m(mt,o=!1,o),n(6,ce=0)},function(e){le=e.touches[0].clientX,se=e.touches[0].clientY,oe=e.touches[0].identifier;let t=e.target,n=!1;for(;t&&t!==document.body;){if(t.scrollWidth>t.clientWidth&&t.scrollLeft>0){n="popup-container"!==t.id;break}t=t.parentElement}n||(ie=!0)},function(e){if(ie){ie=!1,re=e.touches[0].clientX,ae=e.touches[0].clientY;const t=re-le,n=ae-se;Math.abs(t)>Math.abs(n)&&t>0&&m(mt,o=!0,o)}else if(o){re=e.touches[0].clientX;const t=re-le;n(6,ce=t>0?Math.min(t/48*100,100):0)}},function(e){if(o){re=Array.from(e.changedTouches).find((e=>e.identifier===oe)).clientX,o&&re-le>=48&&m(ut,i=!1,i),oe=null,m(mt,o=!1,o),n(6,ce=0)}else oe=null,m(mt,o=!1,o),n(6,ce=0)},function(){oe=null,m(mt,o=!1,o),n(6,ce=0)},e=>{Ot(e.target,"fade-out"),Dt(e.target,"fade-in")},function(e,t,n){K[e?"unshift":"push"]((()=>{t[n].popupHeader=e}))},e=>G(e.title),(e,t)=>"Enter"===t.key&&G(e.title),function(){f=this.checked,ze.set(f)},e=>"Enter"===e.key&&m(ze,f=!f,f),e=>"Enter"===e.key&&te(e),e=>!M&&ko(e,"info"),e=>!M&&ko(e,"info"),e=>!M&&ko(e,"info"),e=>{Ot(e.target,"fade-in"),Dt(e.target,"fade-out"),setTimeout((()=>{Dt(e.target,"display-none")}),300)},e=>q(e.animeUrl),(e,t)=>"Enter"===t.key&&q(e.animeUrl),(e,t)=>"Enter"===t.key&&H(e.id),(e,t)=>"Enter"===t.key&&Y(e.title),function(e,t,n){K[e?"unshift":"push"]((()=>{t[n].popupContent=e}))},function(e){K[e?"unshift":"push"]((()=>{j=e,n(2,j)}))},e=>"Enter"===e.key&&B(e),function(e){K[e?"unshift":"push"]((()=>{F=e,n(1,F)}))}]}function $o(e){let t,n,o,l,r,s,a,c,u,d,f,p,m,h,y,w,g,v,b,S,x,E,N,C,M=(e[3][e[1]]?"Show":"Hide")+" Anime";return{c(){t=$("div"),n=$("div"),o=$("div"),l=$("span"),r=$("h1"),s=L(e[0]),a=I(),c=$("div"),c.textContent="×",u=I(),d=$("span"),d.innerHTML='<h2 class="option-title svelte-l6klld">Information</h2>',f=I(),p=$("span"),p.innerHTML='<h2 class="option-title svelte-l6klld">Open in Anilist</h2>',m=I(),h=$("span"),h.innerHTML='<h2 class="option-title svelte-l6klld">Open in Youtube</h2>',y=I(),w=$("span"),w.innerHTML='<h2 class="option-title svelte-l6klld">Copy Title</h2>',g=I(),v=$("span"),b=$("h2"),S=L(M),F(r,"class","svelte-l6klld"),F(l,"class","anime-title svelte-l6klld"),F(c,"class","closing-x svelte-l6klld"),F(c,"tabindex","0"),F(o,"class","option-header svelte-l6klld"),F(d,"class","anime-option svelte-l6klld"),F(p,"class","anime-option svelte-l6klld"),F(h,"class","anime-option svelte-l6klld"),F(w,"class","anime-option svelte-l6klld"),F(b,"class","option-title svelte-l6klld"),F(v,"class","anime-option svelte-l6klld"),F(n,"class","anime-options-container svelte-l6klld"),F(t,"class","anime-options svelte-l6klld")},m(i,x){A(i,t,x),k(t,n),k(n,o),k(o,l),k(l,r),k(r,s),k(o,a),k(o,c),k(n,u),k(n,d),k(n,f),k(n,p),k(n,m),k(n,h),k(n,y),k(n,w),k(n,g),k(n,v),k(v,b),k(b,S),E=!0,N||(C=[P(c,"click",e[4]),P(c,"keydown",e[10]),P(d,"click",e[5]),P(d,"keydown",e[11]),P(p,"click",e[6]),P(p,"keydown",e[12]),P(h,"click",e[7]),P(h,"keydown",e[13]),P(w,"click",e[8]),P(w,"keydown",e[14]),P(v,"click",e[9]),P(v,"keydown",e[15]),P(t,"click",e[4]),P(t,"keydown",e[16])],N=!0)},p(e,t){(!E||1&t)&&j(s,e[0]),(!E||10&t)&&M!==(M=(e[3][e[1]]?"Show":"Hide")+" Anime")&&j(S,M)},i(e){E||(ee((()=>{E&&(x||(x=ye(n,Vt,{y:20,duration:300},!0)),x.run(1))})),E=!0)},o(e){x||(x=ye(n,Vt,{y:20,duration:300},!1)),x.run(0),E=!1},d(e){e&&T(t),e&&x&&x.end(),N=!1,i(C)}}}function Lo(e){let t,n,o=e[2]&&$o(e);return{c(){o&&o.c(),t=C()},m(e,i){o&&o.m(e,i),A(e,t,i),n=!0},p(e,[n]){e[2]?o?(o.p(e,n),4&n&&fe(o,1)):(o=$o(e),o.c(),fe(o,1),o.m(t.parentNode,t)):o&&(ue(),pe(o,1,1,(()=>{o=null})),de())},i(e){n||(fe(o),n=!0)},o(e){pe(o),n=!1},d(e){o&&o.d(e),e&&T(t)}}}function Io(e,t,n){let o,i,l,r,s,a,c,u,f,p,h,y,w,g,v;d(e,at,(e=>n(2,o=e))),d(e,Ue,(e=>n(22,i=e))),d(e,et,(e=>n(23,l=e))),d(e,_e,(e=>n(24,r=e))),d(e,Me,(e=>n(3,s=e))),d(e,rt,(e=>n(25,a=e))),d(e,Ie,(e=>n(26,c=e))),d(e,ut,(e=>n(27,u=e))),d(e,dt,(e=>n(28,f=e))),d(e,ct,(e=>n(29,p=e)));let b,S=!0;function k(e){if(S&&"keydown"!==e.type)return;let t=e.target,n=t.classList;(n.contains("closing-x")||!t.closest(".anime-options-container")&&!n.contains("anime-options-container"))&&m(at,o=!1,o)}function x(e){S&&"keydown"!==e.type||(m(dt,f=v,f),m(ut,u=!0,u),m(at,o=!1,o))}function E(e){S&&"keydown"!==e.type||"string"==typeof g&&""!==g&&window.open(g,"_blank")}async function A(e){S&&"keydown"!==e.type||"string"==typeof y&&""!==y&&window.open(`https://www.youtube.com/results?search_query=${y} Anime`,"_blank")}function T(e){if((!S||"keydown"===e.type)&&h){if(c)try{JSBridge.copyToClipBoard(h)}catch(e){}else navigator?.clipboard?.writeText?.(h);m(at,o=!1,o)}}async function N(e){if(S&&"keydown"!==e.type)return;s[w]?await a("Are you sure you want to show the anime?")&&(delete s[w],Me.set(s),r.length&&i instanceof Worker&&l().then((()=>{i.postMessage({removeID:w})})),m(at,o=!1,o)):await a("Are you sure you want to hide the anime?")&&(m(Me,s[w]=!0,s),r.length&&i instanceof Worker&&l().then((()=>{i.postMessage({removeID:w})})),m(at,o=!1,o))}at.subscribe((e=>{if(!0===e){S=!0,b=setTimeout((()=>{S=!1}),500);let e=r[p];e&&(n(0,h=e?.title?.english||e?.title?.userPreferred||e?.title?.romaji||e?.title?.native),y=e?.title?.romaji||e?.title?.userPreferred||e?.title?.english||e?.title?.native,n(1,w=e.id),g=e.animeUrl,v=p),m(ct,p=null,p)}else b&&clearTimeout(b),S=!1}));return[h,w,o,s,k,x,E,A,T,N,e=>"Enter"===e.key&&k(e),e=>"Enter"===e.key&&x(e),e=>"Enter"===e.key&&E(e),e=>"Enter"===e.key&&A(e),e=>"Enter"===e.key&&T(e),e=>"Enter"===e.key&&N(e),e=>"Enter"===e.key&&k(e)]}function Co(t){let n,o,l,r,s,c,u,d,f,m,h,y,w,g,v,b,S,x=(t[0]||"Your Anilist Username")+"";return{c(){n=$("div"),o=$("nav"),l=$("div"),r=$("i"),s=I(),c=$("div"),u=$("input"),d=I(),f=$("div"),m=L(x),h=I(),y=$("div"),w=$("img"),F(r,"class",p("goback fa-solid fa-arrow-left")+" svelte-6wt022"),F(r,"tabindex","0"),F(l,"class","go-back-container svelte-6wt022"),F(u,"id","usernameInput"),F(u,"type","search"),F(u,"enterkeyhint","search"),F(u,"autocomplete","off"),F(u,"placeholder","Your Anilist Username"),F(u,"class","svelte-6wt022"),F(f,"class",p("usernameText")+" svelte-6wt022"),F(c,"class","input-search svelte-6wt022"),F(w,"class","logo-icon svelte-6wt022"),a(w.src,g="./images/Kanshi-Logo.png")||F(w,"src","./images/Kanshi-Logo.png"),F(w,"alt","Kanshi Logo"),F(y,"class","logo-icon-container svelte-6wt022"),F(o,"id","nav"),F(o,"class",v=p("nav "+(t[3]||t[4]?"popupvisible":t[1]===document?.activeElement?"inputfocused":""))+" svelte-6wt022"),F(n,"class","nav-container svelte-6wt022")},m(e,i){A(e,n,i),k(n,o),k(o,l),k(l,r),k(o,s),k(o,c),k(c,u),M(u,t[0]),t[15](u),k(c,d),k(c,f),k(f,m),k(o,h),k(o,y),k(y,w),t[18](o),b||(S=[P(r,"keydown",t[12]),P(l,"click",t[8]),P(u,"keydown",t[13]),P(u,"focusin",t[11]),P(u,"focusout",t[11]),P(u,"input",t[14]),P(f,"click",t[7]),P(f,"keydown",t[16]),P(w,"keydown",t[17]),P(y,"pointerdown",t[9]),P(y,"pointerup",t[10]),P(y,"pointercancel",t[10]),P(n,"keydown",t[19]),P(n,"click",t[6])],b=!0)},p(e,t){1&t[0]&&u.value!==e[0]&&M(u,e[0]),1&t[0]&&x!==(x=(e[0]||"Your Anilist Username")+"")&&j(m,x),26&t[0]&&v!==(v=p("nav "+(e[3]||e[4]?"popupvisible":e[1]===document?.activeElement?"inputfocused":""))+" svelte-6wt022")&&F(o,"class",v)},i:e,o:e,d(e){e&&T(n),t[15](null),t[18](null),b=!1,i(S)}}}function Po(e,t,n){let o,i,l,r,s,a,c,u,f;d(e,rt,(e=>n(25,o=e))),d(e,Ze,(e=>n(26,i=e))),d(e,ut,(e=>n(3,l=e))),d(e,st,(e=>n(4,r=e))),d(e,Ve,(e=>n(27,s=e))),d(e,je,(e=>n(28,a=e))),d(e,Be,(e=>n(29,c=e))),d(e,_e,(e=>n(30,u=e))),d(e,Qe,(e=>n(31,f=e)));let p,h,y,w,g,v,b=[],S="",k=!1;async function x(e){if(f)return await async function(){return await o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}(),void A();let t=e.target,i=t.classList;if("Enter"===e.key||"click"===e.type&&(i.contains("searchBtn")||t?.closest?.(".searchBtn"))){if(!S)return;if(S!==a){if(!navigator.onLine)return o({isAlert:!0,title:"Currently Offline",text:"It seems that you're currently offline and unable to update."});(async()=>{a?await o(`Currently connected to ${a}, do you want to change account?`)?(m(st,r=!1,r),l||(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(_e,u=null,u)),m(Ve,s="Getting User Entries",s),m(Be,c=!0,c),In({username:S}).then((({newusername:e})=>{m(Be,c=!1,c),e&&(n(0,S=m(je,a=e||"",a)),bt.update((e=>!e)))})).catch((e=>{m(Ve,s="Something went wrong...",s),console.error(e)}))):A():await o(`Are you sure you want to connect to ${S}?`)?(m(st,r=!1,r),l||(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(_e,u=null,u)),m(Ve,s="Getting User Entries",s),m(Be,c=!0,c),await In({username:S}).then((({newusername:e})=>{m(Be,c=!1,c),e&&n(0,S=m(je,a=e||"",a)),bt.update((e=>!e))})).catch((e=>{m(Ve,s="Something went wrong...",s),console.error(e)}))):A()})()}else w?.blur?.(),k=!1}}function E(e){if(v)return void(v=!1);let t=e.target.classList;return t.contains("nav")||t.contains("logo-icon")?k&&!t.contains("logo-icon")?(w?.blur?.(),void(k=!1)):void m(st,r=!r,r):void 0}async function A(){w?.focus?.()}function T(){w===document.activeElement||k?(w?.blur?.(),k=!1):r?m(st,r=!r,r):l&&m(ut,l=!1,l)}var N;W((()=>{n(2,y=y||document?.getElementById("nav")),n(1,w=w||document?.getElementById("usernameInput")),p=p||document?.getElementById("anime-grid"),h=h||document?.getElementById("popup-container"),b.push(je.subscribe((e=>{n(0,S=e||"")})))})),N=()=>{b.forEach((e=>e()))},q().$$.on_destroy.push(N);return e.$$.update=()=>{3&e.$$.dirty[0]&&S&&w?.setCustomValidity?.("")},[S,w,y,l,r,x,E,A,T,function(){g&&clearTimeout(g),g=setTimeout((()=>{v=!0,l?(h.style.overflow="hidden",h.style.overflow="",h?.children?.[0]?.scrollIntoView?.({container:h,behavior:"smooth",block:"start",inline:"nearest"})):i?(p.style.overflow="hidden",p.style.overflow="",p?.children?.[0]?.scrollIntoView?.({container:p,behavior:"smooth",block:"nearest",inline:"start"})):(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",window.scrollTo({top:-9999,behavior:"smooth"}))}),500)},function(){g&&clearTimeout(g),v&&(g=setTimeout((()=>{v=!1}),50))},function(e){"focusin"===e.type?(k=!0,Dt(y,"inputfocused")):setTimeout((()=>{Ot(y,"inputfocused"),k=!1}),100)},e=>"Enter"===e.key&&T(),e=>"Enter"===e.key&&x(e),function(){S=this.value,n(0,S)},function(e){K[e?"unshift":"push"]((()=>{w=e,n(1,w)}))},e=>"Enter"===e.key&&A(),e=>"Enter"===e.key&&E(e),function(e){K[e?"unshift":"push"]((()=>{y=e,n(2,y)}))},e=>"Enter"===e.key&&E(e)]}function Fo(e){let t,n,o,l,r,s,a,c,u,d,f,m,h,y,w,g,v,b,S,x,E,N,C,j,M,D,O,_,U,V,R=e[1]&&jo(e),B=e[1]&&Mo(e),H=e[1]&&Do(e);return{c(){t=$("div"),n=$("div"),o=$("button"),o.textContent="Update List",r=I(),s=$("button"),s.textContent="Show All Hidden Entries",c=I(),u=$("button"),u.textContent="Import Data",f=I(),m=$("button"),m.textContent="Export Data",y=I(),R&&R.c(),w=I(),g=$("button"),v=L("Auto Update"),x=I(),B&&B.c(),E=I(),N=$("button"),N.textContent="Create an Anilist Account",j=I(),H&&H.c(),M=I(),D=$("button"),D.textContent="Reload",F(o,"class","button svelte-d02c5o"),F(s,"class","button svelte-d02c5o"),F(u,"class","button svelte-d02c5o"),F(m,"class","button svelte-d02c5o"),F(g,"class",b=p("button "+(e[5]?"selected":""))+" svelte-d02c5o"),F(N,"class","button svelte-d02c5o"),F(D,"class","button svelte-d02c5o"),F(n,"class","menu svelte-d02c5o"),F(t,"class","menu-container svelte-d02c5o")},m(i,l){A(i,t,l),k(t,n),k(n,o),k(n,r),k(n,s),k(n,c),k(n,u),k(n,f),k(n,m),k(n,y),R&&R.m(n,null),k(n,w),k(n,g),k(g,v),k(n,x),B&&B.m(n,null),k(n,E),k(n,N),k(n,j),H&&H.m(n,null),k(n,M),k(n,D),_=!0,U||(V=[P(o,"click",e[9]),P(o,"keydown",e[22]),P(s,"click",e[13]),P(s,"keydown",e[23]),P(u,"click",e[6]),P(u,"keydown",e[24]),P(m,"click",e[8]),P(m,"keydown",e[25]),P(g,"click",e[10]),P(g,"keydown",e[27]),P(N,"click",e[14]),P(N,"keydown",e[29]),P(D,"keydown",e[35]),P(D,"click",e[18]),P(t,"click",e[12]),P(t,"keydown",e[36])],U=!0)},p(e,t){e[1]?R?(R.p(e,t),2&t[0]&&fe(R,1)):(R=jo(e),R.c(),fe(R,1),R.m(n,w)):R&&(ue(),pe(R,1,1,(()=>{R=null})),de()),(!_||32&t[0]&&b!==(b=p("button "+(e[5]?"selected":""))+" svelte-d02c5o"))&&F(g,"class",b),e[1]?B?(B.p(e,t),2&t[0]&&fe(B,1)):(B=Mo(e),B.c(),fe(B,1),B.m(n,E)):B&&(ue(),pe(B,1,1,(()=>{B=null})),de()),e[1]?H?(H.p(e,t),2&t[0]&&fe(H,1)):(H=Do(e),H.c(),fe(H,1),H.m(n,M)):H&&(ue(),pe(H,1,1,(()=>{H=null})),de())},i(e){_||(ee((()=>{_&&(l||(l=ye(o,Vt,{x:50,duration:300},!0)),l.run(1))})),ee((()=>{_&&(a||(a=ye(s,Vt,{x:50,duration:300},!0)),a.run(1))})),ee((()=>{_&&(d||(d=ye(u,Vt,{x:50,duration:300},!0)),d.run(1))})),ee((()=>{_&&(h||(h=ye(m,Vt,{x:50,duration:300},!0)),h.run(1))})),fe(R),ee((()=>{_&&(S||(S=ye(g,Vt,{x:50,duration:300},!0)),S.run(1))})),fe(B),ee((()=>{_&&(C||(C=ye(N,Vt,{x:50,duration:300},!0)),C.run(1))})),fe(H),ee((()=>{_&&(O||(O=ye(D,Vt,{x:50,duration:300},!0)),O.run(1))})),_=!0)},o(e){l||(l=ye(o,Vt,{x:50,duration:300},!1)),l.run(0),a||(a=ye(s,Vt,{x:50,duration:300},!1)),a.run(0),d||(d=ye(u,Vt,{x:50,duration:300},!1)),d.run(0),h||(h=ye(m,Vt,{x:50,duration:300},!1)),h.run(0),pe(R),S||(S=ye(g,Vt,{x:50,duration:300},!1)),S.run(0),pe(B),C||(C=ye(N,Vt,{x:50,duration:300},!1)),C.run(0),pe(H),O||(O=ye(D,Vt,{x:50,duration:300},!1)),O.run(0),_=!1},d(e){e&&T(t),e&&l&&l.end(),e&&a&&a.end(),e&&d&&d.end(),e&&h&&h.end(),R&&R.d(),e&&S&&S.end(),B&&B.d(),e&&C&&C.end(),H&&H.d(),e&&O&&O.end(),U=!1,i(V)}}}function jo(e){let t,n,o,l,r,s,a=(e[4]?"Change":"Set")+" Export Folder";return{c(){t=$("button"),n=L(a),F(t,"class","button svelte-d02c5o")},m(o,i){A(o,t,i),k(t,n),l=!0,r||(s=[P(t,"click",_o),P(t,"keydown",e[26])],r=!0)},p(e,t){(!l||16&t[0])&&a!==(a=(e[4]?"Change":"Set")+" Export Folder")&&j(n,a)},i(e){l||(ee((()=>{l&&(o||(o=ye(t,Vt,{x:50,duration:300},!0)),o.run(1))})),l=!0)},o(e){o||(o=ye(t,Vt,{x:50,duration:300},!1)),o.run(0),l=!1},d(e){e&&T(t),e&&o&&o.end(),r=!1,i(s)}}}function Mo(e){let t,n,o,l,r,s,a;return{c(){t=$("button"),n=L("Auto Export"),F(t,"class",o=p("button "+(e[3]?"selected":""))+" svelte-d02c5o")},m(o,i){A(o,t,i),k(t,n),r=!0,s||(a=[P(t,"click",e[11]),P(t,"keydown",e[28])],s=!0)},p(e,n){(!r||8&n[0]&&o!==(o=p("button "+(e[3]?"selected":""))+" svelte-d02c5o"))&&F(t,"class",o)},i(e){r||(ee((()=>{r&&(l||(l=ye(t,Vt,{x:50,duration:300},!0)),l.run(1))})),r=!0)},o(e){l||(l=ye(t,Vt,{x:50,duration:300},!1)),l.run(0),r=!1},d(e){e&&T(t),e&&l&&l.end(),s=!1,i(a)}}}function Do(t){let n,o,l,r,s,a,c,u,d,f,p,m,h,y,w,g=!window.location.protocol.startsWith("file:"),v=g&&function(t){let n,o,l,r,s;return{c(){n=$("button"),n.textContent="Check for Updates",F(n,"class","button svelte-d02c5o")},m(e,o){A(e,n,o),l=!0,r||(s=[P(n,"keydown",t[31]),P(n,"click",t[17])],r=!0)},p:e,i(e){l||(ee((()=>{l&&(o||(o=ye(n,Vt,{x:50,duration:300},!0)),o.run(1))})),l=!0)},o(e){o||(o=ye(n,Vt,{x:50,duration:300},!1)),o.run(0),l=!1},d(e){e&&T(n),e&&o&&o.end(),r=!1,i(s)}}}(t);return{c(){n=$("button"),n.textContent="Show Recent Releases",l=I(),v&&v.c(),r=I(),s=$("button"),s.textContent="Switch App Mode",c=I(),u=$("button"),u.textContent="Clear Cache",f=I(),p=$("button"),p.textContent="Refresh",F(n,"class","button svelte-d02c5o"),F(s,"class","button svelte-d02c5o"),F(u,"class","button svelte-d02c5o"),F(p,"class","button svelte-d02c5o")},m(e,o){A(e,n,o),A(e,l,o),v&&v.m(e,o),A(e,r,o),A(e,s,o),A(e,c,o),A(e,u,o),A(e,f,o),A(e,p,o),h=!0,y||(w=[P(n,"keydown",t[30]),P(n,"click",t[15]),P(s,"keydown",t[32]),P(s,"click",t[16]),P(u,"keydown",t[33]),P(u,"click",t[20]),P(p,"keydown",t[34]),P(p,"click",t[19])],y=!0)},p(e,t){g&&v.p(e,t)},i(e){h||(ee((()=>{h&&(o||(o=ye(n,Vt,{x:50,duration:300},!0)),o.run(1))})),fe(v),ee((()=>{h&&(a||(a=ye(s,Vt,{x:50,duration:300},!0)),a.run(1))})),ee((()=>{h&&(d||(d=ye(u,Vt,{x:50,duration:300},!0)),d.run(1))})),ee((()=>{h&&(m||(m=ye(p,Vt,{x:50,duration:300},!0)),m.run(1))})),h=!0)},o(e){o||(o=ye(n,Vt,{x:50,duration:300},!1)),o.run(0),pe(v),a||(a=ye(s,Vt,{x:50,duration:300},!1)),a.run(0),d||(d=ye(u,Vt,{x:50,duration:300},!1)),d.run(0),m||(m=ye(p,Vt,{x:50,duration:300},!1)),m.run(0),h=!1},d(e){e&&T(n),e&&o&&o.end(),e&&T(l),v&&v.d(e),e&&T(r),e&&T(s),e&&a&&a.end(),e&&T(c),e&&T(u),e&&d&&d.end(),e&&T(f),e&&T(p),e&&m&&m.end(),y=!1,i(w)}}}function Oo(e){let t,n,o,i,l,r,s=e[2]&&Fo(e);return{c(){t=$("input"),n=I(),s&&s.c(),o=C(),F(t,"type","file"),F(t,"accept",".json"),D(t,"display","none")},m(a,c){A(a,t,c),e[21](t),A(a,n,c),s&&s.m(a,c),A(a,o,c),i=!0,l||(r=P(t,"change",e[7]),l=!0)},p(e,t){e[2]?s?(s.p(e,t),4&t[0]&&fe(s,1)):(s=Fo(e),s.c(),fe(s,1),s.m(o.parentNode,o)):s&&(ue(),pe(s,1,1,(()=>{s=null})),de())},i(e){i||(fe(s),i=!0)},o(e){pe(s),i=!1},d(i){i&&T(t),e[21](null),i&&T(n),s&&s.d(i),i&&T(o),l=!1,r()}}}function _o(){try{JSBridge.chooseExportFolder()}catch(e){}}function Uo(e,t,n){let o,i,l,r,s,a,c,f,p,h,y,w,g,v,b,S;async function k(){return w?D():S instanceof Element?void(await o({text:"Are you sure you want to import your Data?"})&&S.click()):m(Ve,c="Something went wrong...",c)}async function x(){return w?D():!v&&i?_o():void(await o("Are you sure you want to export your data?")&&(m(st,a=!1,a),vt.update((e=>!e))))}async function E(){return w?D():navigator.onLine?void(await o("Are you sure you want to update your list?")&&(m(st,a=!1,a),gt.update((e=>!e)))):o({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to update."})}async function A(){await o(`Are you sure you want to ${b?"disable":"enable"} auto-update?`)&&m(He,b=!b,b)}async function T(){if(!v&&i)return _o();await o(`Are you sure you want to ${g?"disable":"enable"} auto-export?`)&&m(Ke,g=!g,g)}function N(e){e.target.classList.contains("button")||m(st,a=!a,a)}async function $(){if(w)return D();if(Nt(y))o({isAlert:!0,text:"There is currently no hidden entries."});else if(await o("Are you sure you want to show all hidden anime entries?")){h&&(h.terminate(),m(Ue,h=null,h)),p||m(_e,f=null,f),m(Ve,c="Updating List",c),m(st,a=!1,a);let e=s?.filterSelection?.findIndex?.((({filterSelectionName:e})=>"Anime Filter"===e)),t=s?.filterSelection?.[e??-1]?.filters?.Checkbox?.findIndex?.((({filName:e})=>"hidden anime"===e));e>=0&&t>=0&&m(De,s.filterSelection[e??-1].filters.Checkbox[t??-1].isSelected=!1,s),r?.["Anime Filter"]&&m(Oe,r["Anime Filter"]=r["Anime Filter"].filter((({optionName:e,filterType:t})=>"hidden"!==e&&"checkbox"!==t)),r),await Kn(s,"filterOptions"),await Kn(r,"activeTagFilters"),await Kn({},"hiddenEntries"),St.update((e=>!e))}}async function L(){await o("Are you sure want to sign-up an anilist account?")&&window.open("https://anilist.co/signup","_blank")}function I(){if(i)try{JSBridge.showRecentReleases()}catch(e){}}function C(){if(i)try{JSBridge.switchApp()}catch(e){}}function P(){if(!navigator.onLine)return o({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to check for updates."});if(i)try{JSBridge.checkAppID(l,!0)}catch(e){}}async function F(){await o("Are you sure want to reload the resources?")&&(document.querySelectorAll("script")?.forEach((e=>{e.src&&"https://www.youtube.com/iframe_api?v=16"!==e.src&&(e.src=e.src)})),document.querySelectorAll("img")?.forEach((e=>{e.naturalHeight||(e.src=e.src)})),window.reloadYoutube?.())}async function j(){if(i&&await o("Are you sure want to refresh the app?"))try{JSBridge.refreshWeb()}catch(e){}}async function M(){if(i&&await o("Are you sure want to clear the cache?"))try{JSBridge.clearCache()}catch(e){}}function D(){o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}d(e,rt,(e=>n(37,o=e))),d(e,Ie,(e=>n(1,i=e))),d(e,Le,(e=>n(38,l=e))),d(e,Oe,(e=>n(39,r=e))),d(e,De,(e=>n(40,s=e))),d(e,st,(e=>n(2,a=e))),d(e,Ve,(e=>n(41,c=e))),d(e,_e,(e=>n(42,f=e))),d(e,ut,(e=>n(43,p=e))),d(e,Ue,(e=>n(44,h=e))),d(e,Me,(e=>n(45,y=e))),d(e,Qe,(e=>n(46,w=e))),d(e,Ke,(e=>n(3,g=e))),d(e,Ge,(e=>n(4,v=e))),d(e,He,(e=>n(5,b=e))),window.setExportPathAvailability=async(e=!0)=>{m(Ge,v=e,v),await Kn(e,"exportPathIsAvailable")};return[S,i,a,g,v,b,k,async function(){if(!(S instanceof Element))return m(Ve,c="Something went wrong...",c);let e=S.files?.[0];if(e){let i=e.name;await o(`File ${i?"named ["+i+"] ":""}has been detected, do you want to continue the import?`)?(await Kn(!0,"shouldProcessRecommendation"),m(st,a=!1,a),p||(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(_e,f=null,f)),(t={importedFile:e},new Promise(((e,n)=>{if(!u(Qe)){if(bn)return;Wn(),Re.set(!0)}jn&&jn.terminate(),Pe.set(0),mn("./webapi/worker/importUserData.js").then((o=>{jn=new Worker(o),Fn&&clearTimeout(Fn),jn.postMessage(t),jn.onmessage=({data:t})=>{t?.hasOwnProperty("progress")?t?.progress>=0&&t?.progress<=100&&Pe.set(t.progress):void 0!==t?.error?(Re.set(!1),Et.update((e=>!e)),window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),Pe.set(100),n(t?.error||"Something went wrong...")):t?.hasOwnProperty("status")?(vn=!0,Ve.set(t.status)):"string"==typeof t?.importedUsername?je.set(t.importedUsername):Tt(t?.importedHiddenEntries)?Me.set(t?.importedHiddenEntries):t?.importedlastRunnedAutoUpdateDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoUpdateDate)?We.set(t.importedlastRunnedAutoUpdateDate):t?.importedlastRunnedAutoExportDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoExportDate)?Je.set(t.importedlastRunnedAutoExportDate):void 0!==t?.updateFilters?(Re.set(!1),qn().then((e=>{Oe.set(e.activeTagFilters),De.set(e.filterOptions)}))):void 0!==t?.updateRecommendationList?(Re.set(!1),bt.update((e=>!e))):(Re.set(!1),gt.update((e=>!e)),vn=!1,Fn=setTimeout((()=>{jn.terminate()}),gn),Pe.set(100),e(t))},jn.onerror=e=>{Re.set(!1),window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),Et.update((e=>!e)),Pe.set(100),n(e||"Something went wrong...")}})).catch((e=>{Pe.set(100),Re.set(!1),Et.update((e=>!e)),Gn(),n(e)}))}))).then((()=>{S instanceof Element&&n(0,S.value=null,S)})).catch((e=>{m(Ve,c=e||"Something went wrong...",c),n(0,S.value=null,S),bt.update((e=>!e))}))):S instanceof Element&&n(0,S.value=null,S)}else S instanceof Element&&n(0,S.value=null,S);var t},x,E,A,T,N,$,L,I,C,P,F,j,M,function(e){K[e?"unshift":"push"]((()=>{S=e,n(0,S)}))},e=>"Enter"===e.key&&E(),e=>"Enter"===e.key&&$(),e=>"Enter"===e.key&&k(),e=>"Enter"===e.key&&x(),e=>"Enter"===e.key&&_o(),e=>"Enter"===e.key&&A(),e=>"Enter"===e.key&&T(),e=>"Enter"===e.key&&L(),e=>"Enter"===e.key&&I(),e=>"Enter"===e.key&&P(),e=>"Enter"===e.key&&C(),e=>"Enter"===e.key&&M(),e=>"Enter"===e.key&&j(),e=>"Enter"===e.key&&F(),e=>"Enter"===e.key&&N(e)]}function Vo(e,t,n){const o=e.slice();return o[95]=t[n].sortName,o[97]=n,o}function Ro(e,t,n){const o=e.slice();return o[98]=t[n].optionName,o[99]=t[n].optionIdx,o[100]=t[n].selected,o[101]=t[n].changeType,o[102]=t[n].filterType,o[103]=t[n].categIdx,o[104]=t[n].optionValue,o[105]=t[n].optionType,o}function Bo(e,t,n){const o=e.slice();return o[108]=t[n],o[109]=t,o[110]=n,o}function Ho(e,t,n){const o=e.slice();return o[111]=t[n],o[113]=n,o}function qo(e,t,n){const o=e.slice();return o[114]=t[n],o[115]=t,o[116]=n,o}function Wo(e,t,n){const o=e.slice();return o[117]=t[n],o[118]=t,o[119]=n,o}function Go(e,t,n){const o=e.slice();return o[120]=t[n],o[99]=n,o}function Ko(e,t,n){const o=e.slice();return o[122]=t[n].filterSelectionName,o[123]=t[n].isSelected,o}function Yo(t){let n;return{c(){n=L("Nothing to show here...")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Jo(t){let n;return{c(){n=L("No Anilist Username Found")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Xo(e){let t;return{c(){t=L(e[11])},m(e,n){A(e,t,n)},p(e,n){2048&n[0]&&j(t,e[11])},d(e){e&&T(t)}}}function zo(e){let t,n,o,l,r,s,a,c,u,d,f,m,h,y,w,g=" "+(e[7]?.filterSelection?.filter?.(Fi)?.[0]?.filterSelectionName||""),v=`${e[2]}px`,b=e[7]&&Qo(e);return{c(){t=$("div"),n=$("span"),o=$("h2"),l=$("i"),r=I(),s=L(g),c=I(),u=$("div"),b&&b.c(),f=I(),m=$("div"),h=$("i"),F(l,"class","fa-solid fa-angle-right svelte-15aftwn"),F(o,"tabindex",a=e[3]?"":"0"),F(o,"class","svelte-15aftwn"),F(u,"class",d=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-15aftwn"),D(u,"--maxFilterSelectionHeight",v),F(n,"class","filterType svelte-15aftwn"),F(h,"class",p("showFilterOptions fa-solid fa-filter")+" svelte-15aftwn"),F(h,"tabindex","0"),F(m,"class","showFilterOptions-container svelte-15aftwn"),F(t,"class","filter-settings svelte-15aftwn")},m(i,a){A(i,t,a),k(t,n),k(n,o),k(o,l),k(o,r),k(o,s),k(n,c),k(n,u),b&&b.m(u,null),k(t,f),k(t,m),k(m,h),y||(w=[P(o,"click",e[16]),P(o,"keydown",e[35]),P(h,"click",e[29]),P(h,"keydown",e[38])],y=!0)},p(e,t){128&t[0]&&g!==(g=" "+(e[7]?.filterSelection?.filter?.(Fi)?.[0]?.filterSelectionName||""))&&j(s,g),8&t[0]&&a!==(a=e[3]?"":"0")&&F(o,"tabindex",a),e[7]?b?b.p(e,t):(b=Qo(e),b.c(),b.m(u,null)):b&&(b.d(1),b=null),8&t[0]&&d!==(d=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-15aftwn")&&F(u,"class",d),4&t[0]&&v!==(v=`${e[2]}px`)&&D(u,"--maxFilterSelectionHeight",v)},d(e){e&&T(t),b&&b.d(),y=!1,i(w)}}}function Qo(e){let t,n,o,l,r,s,a,c,u,d,f,m,h=[],y=new Map,w=e[7]?.filterSelection||[];const g=e=>e[122];for(let t=0;t<w.length;t+=1){let n=Ko(e,w,t),o=g(n);y.set(o,h[t]=Zo(o,n))}return{c(){t=$("div"),n=$("div"),o=$("h2"),o.textContent="Filters",l=I(),r=$("div"),s=L("×"),c=I(),u=$("div");for(let e=0;e<h.length;e+=1)h[e].c();F(o,"class","svelte-15aftwn"),F(r,"class","closing-x svelte-15aftwn"),F(r,"tabindex",a=e[3]&&e[1]<=425?"0":""),F(n,"class","header svelte-15aftwn"),F(u,"class","options svelte-15aftwn"),F(t,"class",d=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-15aftwn")},m(i,a){A(i,t,a),k(t,n),k(n,o),k(n,l),k(n,r),k(r,s),k(t,c),k(t,u);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(u,null);f||(m=[P(r,"keydown",e[36]),P(r,"click",e[16])],f=!0)},p(e,n){10&n[0]&&a!==(a=e[3]&&e[1]<=425?"0":"")&&F(r,"tabindex",a),32896&n[0]&&(w=e[7]?.filterSelection||[],h=ve(h,n,g,1,e,w,y,u,we,Zo,null,Ko)),8&n[0]&&d!==(d=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-15aftwn")&&F(t,"class",d)},d(e){e&&T(t);for(let e=0;e<h.length;e+=1)h[e].d();f=!1,i(m)}}}function Zo(e,t){let n,o,r,s,a,c,u=(t[122]||"")+"";function d(...e){return t[37](t[122],...e)}return{key:e,first:null,c(){n=$("div"),o=$("h3"),r=L(u),s=I(),F(o,"class","svelte-15aftwn"),D(o,"color",t[123]?"#41dee3":"inherit"),F(n,"class","option svelte-15aftwn"),this.first=n},m(e,i){A(e,n,i),k(n,o),k(o,r),k(n,s),a||(c=[P(n,"click",(function(){l(t[15](t[122]))&&t[15](t[122]).apply(this,arguments)})),P(n,"keydown",d)],a=!0)},p(e,n){t=e,128&n[0]&&u!==(u=(t[122]||"")+"")&&j(r,u),128&n[0]&&D(o,"color",t[123]?"#41dee3":"inherit")},d(e){e&&T(n),a=!1,i(c)}}}function ei(t){let n;return{c(){n=$("i"),F(n,"class","icon fa-solid fa-angle-down svelte-15aftwn")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function ti(e){let t,n,o;function r(...t){return e[40](e[119],...t)}return{c(){t=$("i"),F(t,"class","icon fa-solid fa-angle-up svelte-15aftwn")},m(i,s){A(i,t,s),n||(o=[P(t,"keydown",r),P(t,"click",(function(){l(e[18](e[119]))&&e[18](e[119]).apply(this,arguments)}))],n=!0)},p(t,n){e=t},d(e){e&&T(t),n=!1,i(o)}}}function ni(t){let n;return{c(){n=$("div"),n.innerHTML='<h3 class="svelte-15aftwn">No Results</h3>',F(n,"class","option svelte-15aftwn")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function oi(e){let t,n=[],o=new Map,i=e[117].options||[];const l=e=>e[108].filterSelectionName+e[117].filName+e[120].optionName;for(let t=0;t<i.length;t+=1){let r=Go(e,i,t),s=l(r);o.set(s,n[t]=ai(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=C()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);A(e,t,o)},p(e,r){524416&r[0]&&(i=e[117].options||[],n=ve(n,r,l,1,e,i,o,t.parentNode,we,ai,t,Go))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&T(t)}}}function ii(t){let n;return{c(){n=$("i"),F(n,"class","fa-regular fa-circle-xmark async-element svelte-15aftwn"),D(n,"--optionColor","#e85d75")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function li(e){let t;function n(e,t){return"Content Caution"===e[108].filterSelectionName?si:ri}let o=n(e),i=o(e);return{c(){i.c(),t=C()},m(e,n){i.m(e,n),A(e,t,n)},p(e,l){o!==(o=n(e))&&(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&T(t)}}}function ri(e){let t;return{c(){t=$("i"),F(t,"class","fa-regular fa-circle-check async-element svelte-15aftwn"),D(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function si(e){let t;return{c(){t=$("i"),F(t,"class","fa-regular fa-circle-xmark async-element svelte-15aftwn"),D(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function ai(e,t){let n,o,r,s,a,c,u,d=(t[120].optionName||"")+"";function f(e,t){return"included"===e[120].selected?li:"excluded"===e[120].selected&&"read"!==e[117].changeType?ii:void 0}let m=f(t),h=m&&m(t);function y(...e){return t[45](t[120],t[117],t[99],t[119],t[108],...e)}return{key:e,first:null,c(){n=$("div"),o=$("h3"),r=L(d),s=I(),h&&h.c(),F(o,"class","svelte-15aftwn"),F(n,"class",a=p("option "+(Ci(t[120].optionName,t[117].optKeyword)?"":"disable-interaction"))+" svelte-15aftwn"),this.first=n},m(e,i){A(e,n,i),k(n,o),k(o,r),k(n,s),h&&h.m(n,null),c||(u=[P(n,"click",(function(){l(t[19](t[120].optionName,t[117].filName,t[99],t[119],t[117].changeType,t[108].filterSelectionName))&&t[19](t[120].optionName,t[117].filName,t[99],t[119],t[117].changeType,t[108].filterSelectionName).apply(this,arguments)})),P(n,"keydown",y)],c=!0)},p(e,o){t=e,128&o[0]&&d!==(d=(t[120].optionName||"")+"")&&j(r,d),m===(m=f(t))&&h?h.p(t,o):(h&&h.d(1),h=m&&m(t),h&&(h.c(),h.m(n,null))),128&o[0]&&a!==(a=p("option "+(Ci(t[120].optionName,t[117].optKeyword)?"":"disable-interaction"))+" svelte-15aftwn")&&F(n,"class",a)},d(e){e&&T(n),h&&h.d(),c=!1,i(u)}}}function ci(e,t){let n,o,r,s,a,c,u,d,f,m,h,y,w,g,v,b,S,x,E,N,C,O,_,U,V,R,B,H,q,W,G,K,Y=(t[117].filName||"")+"",J=t[117].filName+"",X=`${t[2]}px`;function z(...e){return t[34](t[117],...e)}function Q(){t[39].call(d,t[110],t[119])}function Z(e,t){return e[117].selected&&e[117].options.length&&!e[0]?ti:ei}let ee=Z(t),te=ee(t);function ne(...e){return t[41](t[119],...e)}function oe(...e){return t[42](t[119],...e)}function ie(...e){return t[43](t[119],...e)}function le(){t[44].call(_,t[110],t[119])}function re(e,t){return 128&t[0]&&(B=null),null==B&&(B=!!e[117].options?.filter?.(z)?.length),B?oi:ni}let se=re(t,[-1,-1,-1,-1,-1]),ae=se(t);return{key:e,first:null,c(){n=$("div"),o=$("div"),r=$("h2"),s=L(Y),a=I(),c=$("div"),u=$("div"),d=$("input"),m=I(),te.c(),y=I(),w=$("div"),g=$("div"),v=$("div"),b=$("h2"),S=L(J),x=I(),E=$("div"),N=L("×"),O=I(),_=$("input"),V=I(),R=$("div"),ae.c(),F(r,"class","svelte-15aftwn"),F(o,"class","filter-name svelte-15aftwn"),F(d,"placeholder","Any"),F(d,"type","search"),F(d,"enterkeyhint","search"),F(d,"autocomplete","off"),F(d,"class","value-input svelte-15aftwn"),d.disabled=f=!t[6]||t[1]<=425||!t[108].isSelected,F(u,"class","value-wrap svelte-15aftwn"),F(c,"class","select svelte-15aftwn"),F(c,"tabindex",h=t[6]&&t[1]<=425&&t[108].isSelected?"0":""),F(b,"class","svelte-15aftwn"),F(E,"class","closing-x svelte-15aftwn"),F(E,"tabindex",C=t[6]&&t[117].selected?"0":""),F(v,"class","header svelte-15aftwn"),F(_,"placeholder","Any"),F(_,"type","search"),F(_,"enterkeyhint","search"),F(_,"autocomplete","off"),_.disabled=U=!t[6]||!t[108].isSelected||!t[117].selected,F(_,"class","svelte-15aftwn"),F(R,"class","options svelte-15aftwn"),F(g,"class",H=p("options-wrap-filter-info "+(t[117].options.length&&!0===t[117].selected&&!t[0]?"":"hide"))+" svelte-15aftwn"),F(w,"class",q=p("options-wrap "+(t[117].options.length&&!0===t[117].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-15aftwn"),D(w,"--maxFilterSelectionHeight",X),F(n,"class",W=p("filter-select "+(t[108].isSelected?"":"disable-interaction"))+" svelte-15aftwn"),this.first=n},m(e,i){A(e,n,i),k(n,o),k(o,r),k(r,s),k(n,a),k(n,c),k(c,u),k(u,d),M(d,t[7].filterSelection[t[110]].filters.Dropdown[t[119]].optKeyword),k(c,m),te.m(c,null),k(n,y),k(n,w),k(w,g),k(g,v),k(v,b),k(b,S),k(v,x),k(v,E),k(E,N),k(g,O),k(g,_),M(_,t[7].filterSelection[t[110]].filters.Dropdown[t[119]].optKeyword),k(g,V),k(g,R),ae.m(R,null),G||(K=[P(d,"input",Q),P(c,"keydown",ne),P(c,"click",oe),P(E,"keydown",ie),P(E,"click",(function(){l(t[18](t[119]))&&t[18](t[119]).apply(this,arguments)})),P(_,"input",le)],G=!0)},p(e,o){t=e,128&o[0]&&Y!==(Y=(t[117].filName||"")+"")&&j(s,Y),194&o[0]&&f!==(f=!t[6]||t[1]<=425||!t[108].isSelected)&&(d.disabled=f),128&o[0]&&d.value!==t[7].filterSelection[t[110]].filters.Dropdown[t[119]].optKeyword&&M(d,t[7].filterSelection[t[110]].filters.Dropdown[t[119]].optKeyword),ee===(ee=Z(t))&&te?te.p(t,o):(te.d(1),te=ee(t),te&&(te.c(),te.m(c,null))),194&o[0]&&h!==(h=t[6]&&t[1]<=425&&t[108].isSelected?"0":"")&&F(c,"tabindex",h),128&o[0]&&J!==(J=t[117].filName+"")&&j(S,J),192&o[0]&&C!==(C=t[6]&&t[117].selected?"0":"")&&F(E,"tabindex",C),192&o[0]&&U!==(U=!t[6]||!t[108].isSelected||!t[117].selected)&&(_.disabled=U),128&o[0]&&_.value!==t[7].filterSelection[t[110]].filters.Dropdown[t[119]].optKeyword&&M(_,t[7].filterSelection[t[110]].filters.Dropdown[t[119]].optKeyword),se===(se=re(t,o))&&ae?ae.p(t,o):(ae.d(1),ae=se(t),ae&&(ae.c(),ae.m(R,null))),129&o[0]&&H!==(H=p("options-wrap-filter-info "+(t[117].options.length&&!0===t[117].selected&&!t[0]?"":"hide"))+" svelte-15aftwn")&&F(g,"class",H),129&o[0]&&q!==(q=p("options-wrap "+(t[117].options.length&&!0===t[117].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-15aftwn")&&F(w,"class",q),4&o[0]&&X!==(X=`${t[2]}px`)&&D(w,"--maxFilterSelectionHeight",X),128&o[0]&&W!==(W=p("filter-select "+(t[108].isSelected?"":"disable-interaction"))+" svelte-15aftwn")&&F(n,"class",W)},d(e){e&&T(n),te.d(),ae.d(),G=!1,i(K)}}}function ui(e){let t,n,o,l,r,s,a,c=(e[114].filName||"")+"";function u(e,t){return e[9]?fi:di}let d=u(e),f=d(e);function p(...t){return e[49](e[114],e[116],e[108],...t)}function m(...t){return e[50](e[114],e[116],e[108],...t)}return{c(){t=$("div"),n=$("div"),f.c(),o=I(),l=$("div"),r=L(c),F(l,"class","checkbox-label svelte-15aftwn"),F(n,"class","checkbox-wrap svelte-15aftwn"),F(t,"class","filter-checkbox svelte-15aftwn")},m(e,i){A(e,t,i),k(t,n),f.m(n,null),k(n,o),k(n,l),k(l,r),s||(a=[P(n,"click",p),P(n,"keydown",m)],s=!0)},p(t,i){d===(d=u(e=t))&&f?f.p(e,i):(f.d(1),f=d(e),f&&(f.c(),f.m(n,o))),128&i[0]&&c!==(c=(e[114].filName||"")+"")&&j(r,c)},d(e){e&&T(t),f.d(),s=!1,i(a)}}}function di(e){let t,n,o,l;function r(...t){return e[47](e[114],e[116],e[108],...t)}function s(){e[48].call(t,e[115],e[116])}return{c(){t=$("input"),F(t,"type","checkbox"),F(t,"class","checkbox svelte-15aftwn"),t.disabled=n=!e[6]},m(n,i){A(n,t,i),t.checked=e[114].isSelected,o||(l=[P(t,"change",r),P(t,"change",s)],o=!0)},p(o,i){e=o,64&i[0]&&n!==(n=!e[6])&&(t.disabled=n),128&i[0]&&(t.checked=e[114].isSelected)},d(e){e&&T(t),o=!1,i(l)}}}function fi(e){let t,n,o,i,l;return{c(){t=$("input"),F(t,"type","checkbox"),F(t,"class","checkbox svelte-15aftwn"),t.checked=n=e[114].isSelected,t.disabled=o=!e[6]},m(n,o){A(n,t,o),i||(l=P(t,"change",e[46]),i=!0)},p(e,i){128&i[0]&&n!==(n=e[114].isSelected)&&(t.checked=n),64&i[0]&&o!==(o=!e[6])&&(t.disabled=o)},d(e){e&&T(t),i=!1,l()}}}function pi(e,t){let n,o,i=t[108].isSelected&&ui(t);return{key:e,first:null,c(){n=C(),i&&i.c(),o=C(),this.first=n},m(e,t){A(e,n,t),i&&i.m(e,t),A(e,o,t)},p(e,n){(t=e)[108].isSelected?i?i.p(t,n):(i=ui(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&T(n),i&&i.d(e),e&&T(o)}}}function mi(e){let t,n,o,i,l,r,s,a,c,u,d,f,p=(e[111].filName||"")+"";function m(...t){return e[51](e[113],e[111],e[108],...t)}return{c(){t=$("div"),n=$("div"),o=$("h2"),i=L(p),l=I(),r=$("div"),s=$("input"),F(o,"class","svelte-15aftwn"),F(n,"class","filter-input-number-name svelte-15aftwn"),F(s,"class","value-input-number svelte-15aftwn"),F(s,"type","text"),F(s,"placeholder",a="scoring system"===e[111].filName?"Default: User Scoring":e[14].includes(e[111].filName)?">123 or 123":null!==e[111].defaultValue?"Default: "+e[111].defaultValue:"123"),s.value=c=e[111].numberValue||"",s.disabled=u=!e[6],F(r,"class","value-input-number-wrap svelte-15aftwn"),F(t,"class","filter-input-number svelte-15aftwn"),D(t,"display",e[108].isSelected?"":"none")},m(e,a){A(e,t,a),k(t,n),k(n,o),k(o,i),k(t,l),k(t,r),k(r,s),d||(f=P(s,"input",m),d=!0)},p(n,o){e=n,128&o[0]&&p!==(p=(e[111].filName||"")+"")&&j(i,p),128&o[0]&&a!==(a="scoring system"===e[111].filName?"Default: User Scoring":e[14].includes(e[111].filName)?">123 or 123":null!==e[111].defaultValue?"Default: "+e[111].defaultValue:"123")&&F(s,"placeholder",a),128&o[0]&&c!==(c=e[111].numberValue||"")&&s.value!==c&&(s.value=c),64&o[0]&&u!==(u=!e[6])&&(s.disabled=u),128&o[0]&&D(t,"display",e[108].isSelected?"":"none")},d(e){e&&T(t),d=!1,f()}}}function hi(e,t){let n,o,i=t[108].isSelected&&mi(t);return{key:e,first:null,c(){n=C(),i&&i.c(),o=C(),this.first=n},m(e,t){A(e,n,t),i&&i.m(e,t),A(e,o,t)},p(e,n){(t=e)[108].isSelected?i?i.p(t,n):(i=mi(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&T(n),i&&i.d(e),e&&T(o)}}}function yi(e,t){let n,o,i,l,r=[],s=new Map,a=[],c=new Map,u=[],d=new Map,f=t[108].filters.Dropdown||[];const p=e=>e[108].filterSelectionName+e[117].filName;for(let e=0;e<f.length;e+=1){let n=Wo(t,f,e),o=p(n);s.set(o,r[e]=ci(o,n))}let m=t[108].filters.Checkbox||[];const h=e=>e[108].filterSelectionName+e[114].filName;for(let e=0;e<m.length;e+=1){let n=qo(t,m,e),o=h(n);c.set(o,a[e]=pi(o,n))}let y=t[108].filters["Input Number"]||[];const w=e=>e[108].filterSelectionName+e[111].filName;for(let e=0;e<y.length;e+=1){let n=Ho(t,y,e),o=w(n);d.set(o,u[e]=hi(o,n))}return{key:e,first:null,c(){n=C();for(let e=0;e<r.length;e+=1)r[e].c();o=I();for(let e=0;e<a.length;e+=1)a[e].c();i=I();for(let e=0;e<u.length;e+=1)u[e].c();l=C(),this.first=n},m(e,t){A(e,n,t);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,t);A(e,o,t);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,t);A(e,i,t);for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(e,t);A(e,l,t)},p(e,n){t=e,917703&n[0]&&(f=t[108].filters.Dropdown||[],r=ve(r,n,p,1,t,f,s,o.parentNode,we,ci,o,Wo)),1049280&n[0]|1&n[1]&&(m=t[108].filters.Checkbox||[],a=ve(a,n,h,1,t,m,c,i.parentNode,we,pi,i,qo)),2113728&n[0]&&(y=t[108].filters["Input Number"]||[],u=ve(u,n,w,1,t,y,d,l.parentNode,we,hi,l,Ho))},d(e){e&&T(n);for(let t=0;t<r.length;t+=1)r[t].d(e);e&&T(o);for(let t=0;t<a.length;t+=1)a[t].d(e);e&&T(i);for(let t=0;t<u.length;t+=1)u[t].d(e);e&&T(l)}}}function wi(e){let t,n,o;return{c(){t=$("div"),t.innerHTML='<i class="fa-solid fa-ban svelte-15aftwn"></i>',F(t,"tabindex","0"),F(t,"class","empty-tagFilter svelte-15aftwn"),F(t,"title","Remove Filters"),D(t,"display",e[10]?"":"none"),D(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(ji)]?.filterSelectionName]?.length?"visible":"hidden")},m(i,l){A(i,t,l),n||(o=[P(t,"click",e[24]),P(t,"keydown",e[53])],n=!0)},p(e,n){1024&n[0]&&D(t,"display",e[10]?"":"none"),1152&n[0]&&D(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(ji)]?.filterSelectionName]?.length?"visible":"hidden")},d(e){e&&T(t),n=!1,i(o)}}}function gi(e){let t,n,o;return{c(){t=$("div"),t.innerHTML='<i class="fa-solid fa-ban svelte-15aftwn"></i>',F(t,"tabindex","0"),F(t,"class","empty-tagFilter svelte-15aftwn"),F(t,"title","Remove Filters"),D(t,"display",e[10]?"":"none"),D(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Mi)]?.filterSelectionName]?.length?"visible":"hidden")},m(i,l){A(i,t,l),n||(o=[P(t,"click",e[24]),P(t,"keydown",e[54])],n=!0)},p(e,n){1024&n[0]&&D(t,"display",e[10]?"":"none"),1152&n[0]&&D(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Mi)]?.filterSelectionName]?.length?"visible":"hidden")},d(e){e&&T(t),n=!1,i(o)}}}function vi(e){let t,n,o=(e[98]||"")+"";return{c(){t=$("h3"),n=L(o),F(t,"class","svelte-15aftwn")},m(e,o){A(e,t,o),k(t,n)},p(e,t){1152&t[0]&&o!==(o=(e[98]||"")+"")&&j(n,o)},d(e){e&&T(t)}}}function bi(e){let t,n,o=(e[105]+": "+e[98]||"")+"";return{c(){t=$("h3"),n=L(o),F(t,"class","svelte-15aftwn")},m(e,o){A(e,t,o),k(t,n)},p(e,t){1152&t[0]&&o!==(o=(e[105]+": "+e[98]||"")+"")&&j(n,o)},d(e){e&&T(t)}}}function Si(e){let t,n,o=(e[98]+": "+e[104]||"")+"";return{c(){t=$("h3"),n=L(o),F(t,"class","svelte-15aftwn")},m(e,o){A(e,t,o),k(t,n)},p(e,t){1152&t[0]&&o!==(o=(e[98]+": "+e[104]||"")+"")&&j(n,o)},d(e){e&&T(t)}}}function ki(e,t){let n,o,l,r,s,a,c;function u(e,t){return"input number"===e[102]?Si:e[105]?bi:vi}let d=u(t),f=d(t);function p(...e){return t[55](t[99],t[98],t[102],t[103],t[105],...e)}function m(...e){return t[56](t[99],t[98],t[102],t[103],t[105],...e)}function h(...e){return t[57](t[99],t[98],t[102],t[103],t[101],t[105],t[104],...e)}function y(...e){return t[58](t[99],t[98],t[102],t[103],t[101],t[105],t[104],...e)}return{key:e,first:null,c(){n=$("div"),f.c(),o=I(),l=$("i"),F(l,"class","fa-solid fa-xmark svelte-15aftwn"),F(l,"tabindex","0"),F(n,"class","activeTagFilter svelte-15aftwn"),F(n,"tabindex","0"),D(n,"--activeTagFilterColor","included"===t[100]?"#5f9ea0":"read"===t[101]?"#000":"#e85d75"),this.first=n},m(e,t){var i;A(e,n,t),f.m(n,null),k(n,o),k(n,l),s=!0,a||(c=[P(l,"click",(i=p,function(e){return e.preventDefault(),i.call(this,e)})),P(l,"keydown",m),P(n,"click",h),P(n,"keydown",y)],a=!0)},p(e,i){d===(d=u(t=e))&&f?f.p(t,i):(f.d(1),f=d(t),f&&(f.c(),f.m(n,o))),1152&i[0]&&D(n,"--activeTagFilterColor","included"===t[100]?"#5f9ea0":"read"===t[101]?"#000":"#e85d75")},i(e){s||(ee((()=>{s&&(r||(r=ye(n,Vt,{x:-10,duration:300},!0)),r.run(1))})),s=!0)},o(e){r||(r=ye(n,Vt,{x:-10,duration:300},!1)),r.run(0),s=!1},d(e){e&&T(n),f.d(),e&&r&&r.end(),a=!1,i(c)}}}function xi(t){let n,o,l,r;return{c(){n=$("div"),o=$("i"),F(o,"class",p("close-shown-items fa-solid fa-minus")+" svelte-15aftwn"),F(o,"tabindex","0"),F(n,"class","close-shown svelte-15aftwn")},m(e,i){A(e,n,i),k(n,o),l||(r=[P(o,"click",t[30]),P(o,"keydown",t[59])],l=!0)},p:e,d(e){e&&T(n),l=!1,i(r)}}}function Ei(t){let n;return{c(){n=$("div"),F(n,"class","input-search-wrap skeleton shimmer svelte-15aftwn")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Ai(e){let t,n,o,i;return{c(){t=$("div"),n=$("input"),F(n,"id","input-search"),F(n,"class","input-search svelte-15aftwn"),F(n,"type","search"),F(n,"enterkeyhint","search"),F(n,"autocomplete","off"),F(n,"placeholder","Search"),F(t,"class","input-search-wrap svelte-15aftwn")},m(l,r){A(l,t,r),k(t,n),M(n,e[12]),o||(i=P(n,"input",e[61]),o=!0)},p(e,t){4096&t[0]&&n.value!==e[12]&&M(n,e[12])},d(e){e&&T(t),o=!1,i()}}}function Ti(t){let n;return{c(){n=$("div"),n.innerHTML='<div class="showHideActiveFilters skeleton shimmer svelte-15aftwn"></div> \n            <div class="sortFilter skeleton shimmer svelte-15aftwn"></div>',F(n,"class","last-filter-option svelte-15aftwn")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Ni(e){let t,n,o,l,r,s,a,c,u,d,f,m,h,y,w,g,v,b,S,x,E,N,C,M,O,_,U,V,R=(e[7]?.sortFilter?.[e[7]?.sortFilter.findIndex(Ui)]?.sortName||"")+"",B=[],H=new Map,q=`${e[2]}px`,W=e[7]?.sortFilter||[];const G=e=>e[95]+e[97];for(let t=0;t<W.length;t+=1){let n=Vo(e,W,t),o=G(n);H.set(o,B[t]=Li(o,n))}return{c(){t=$("div"),n=$("div"),o=$("i"),r=I(),s=$("div"),a=$("i"),d=I(),f=$("h2"),m=L(R),y=I(),w=$("div"),g=$("div"),v=$("div"),b=$("h2"),b.textContent="Sort By",S=I(),x=$("div"),E=L("×"),C=I(),M=$("div");for(let e=0;e<B.length;e+=1)B[e].c();F(o,"class",l=p("icon fa-solid fa-arrows-"+(e[8]?"up-down":"left-right"))+" svelte-15aftwn"),F(n,"tabindex","0"),F(n,"class","changeGridView svelte-15aftwn"),F(a,"tabindex",c=e[4]?"":"0"),F(a,"class",u=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(_i)]?.sortType?"up":"down"))+" svelte-15aftwn"),F(f,"tabindex",h=e[4]?"":"0"),F(f,"class","svelte-15aftwn"),F(b,"class","svelte-15aftwn"),F(x,"class","closing-x svelte-15aftwn"),F(x,"tabindex",N=e[4]&&e[1]<=425?"0":""),F(v,"class","header svelte-15aftwn"),F(M,"class","options svelte-15aftwn"),F(g,"class",O=p("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-15aftwn"),F(w,"class",_=p("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-15aftwn"),D(w,"--maxFilterSelectionHeight",q),F(s,"class","sortFilter svelte-15aftwn"),F(t,"class","last-filter-option svelte-15aftwn")},m(i,l){A(i,t,l),k(t,n),k(n,o),k(t,r),k(t,s),k(s,a),k(s,d),k(s,f),k(f,m),k(s,y),k(s,w),k(w,g),k(g,v),k(v,b),k(v,S),k(v,x),k(x,E),k(g,C),k(g,M);for(let e=0;e<B.length;e+=1)B[e]&&B[e].m(M,null);U||(V=[P(n,"click",e[28]),P(n,"keydown",e[62]),P(a,"click",e[27]),P(a,"keydown",e[63]),P(f,"click",e[25]),P(f,"keydown",e[64]),P(x,"keydown",e[65]),P(x,"click",e[25])],U=!0)},p(e,t){256&t[0]&&l!==(l=p("icon fa-solid fa-arrows-"+(e[8]?"up-down":"left-right"))+" svelte-15aftwn")&&F(o,"class",l),16&t[0]&&c!==(c=e[4]?"":"0")&&F(a,"tabindex",c),128&t[0]&&u!==(u=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(_i)]?.sortType?"up":"down"))+" svelte-15aftwn")&&F(a,"class",u),128&t[0]&&R!==(R=(e[7]?.sortFilter?.[e[7]?.sortFilter.findIndex(Ui)]?.sortName||"")+"")&&j(m,R),16&t[0]&&h!==(h=e[4]?"":"0")&&F(f,"tabindex",h),18&t[0]&&N!==(N=e[4]&&e[1]<=425?"0":"")&&F(x,"tabindex",N),67108992&t[0]&&(W=e[7]?.sortFilter||[],B=ve(B,t,G,1,e,W,H,M,we,Li,null,Vo)),16&t[0]&&O!==(O=p("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-15aftwn")&&F(g,"class",O),16&t[0]&&_!==(_=p("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-15aftwn")&&F(w,"class",_),4&t[0]&&q!==(q=`${e[2]}px`)&&D(w,"--maxFilterSelectionHeight",q)},d(e){e&&T(t);for(let e=0;e<B.length;e+=1)B[e].d();U=!1,i(V)}}}function $i(e){let t,n;return{c(){t=$("i"),F(t,"class",n=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Vi)].sortType?"up":"down"))+" svelte-15aftwn")},m(e,n){A(e,t,n)},p(e,o){128&o[0]&&n!==(n=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Vi)].sortType?"up":"down"))+" svelte-15aftwn")&&F(t,"class",n)},d(e){e&&T(t)}}}function Li(e,t){let n,o,r,s,a,c,u,d=(t[95]||"")+"",f=t[7]?.sortFilter?.[t[7]?.sortFilter?.findIndex(Pi)].sortName===t[95]&&t[95],p=f&&$i(t);function m(...e){return t[66](t[95],...e)}return{key:e,first:null,c(){n=$("div"),o=$("h3"),r=L(d),s=I(),p&&p.c(),a=I(),F(o,"class","svelte-15aftwn"),F(n,"class","option svelte-15aftwn"),this.first=n},m(e,i){A(e,n,i),k(n,o),k(o,r),k(n,s),p&&p.m(n,null),k(n,a),c||(u=[P(n,"click",(function(){l(t[26](t[95]))&&t[26](t[95]).apply(this,arguments)})),P(n,"keydown",m)],c=!0)},p(e,o){t=e,128&o[0]&&d!==(d=(t[95]||"")+"")&&j(r,d),128&o[0]&&(f=t[7]?.sortFilter?.[t[7]?.sortFilter?.findIndex(Pi)].sortName===t[95]&&t[95]),f?p?p.p(t,o):(p=$i(t),p.c(),p.m(n,a)):p&&(p.d(1),p=null)},d(e){e&&T(n),p&&p.d(),c=!1,i(u)}}}function Ii(e){let t,n,o,l,r,s,a,c,u,d,m,h,y,w,g,v,b,S,x,E,N,L,C,j,M,O,_,U,V,R,B,H=[],q=new Map,W=[],G=new Map;function K(e,t){return e[11]?Xo:e[13]||e[9]?e[9]?void 0:Yo:Jo}let Y=K(e),J=Y&&Y(e),X=e[7]&&zo(e),z=e[7]?.filterSelection||[];const Q=e=>e[108].filterSelectionName;for(let t=0;t<z.length;t+=1){let n=Bo(e,z,t),o=Q(n);q.set(o,H[t]=yi(o,n))}let Z=!e[5]&&wi(e),ee=e[5]&&gi(e),te=e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Di)]?.filterSelectionName]||[];const ne=e=>e[98]+e[99]+(e[105]??"");for(let t=0;t<te.length;t+=1){let n=Ro(e,te,t),o=ne(n);G.set(o,W[t]=ki(o,n))}let oe=e[5]&&xi(e);function ie(e,t){return e[7]?Ai:Ei}let le=ie(e),re=le(e);function se(e,t){return e[7]?Ni:Ti}let ae=se(e),ce=ae(e);const me=e[33].default,ye=function(e,t,n,o){if(e){const i=f(e,t,n,o);return e[0](i)}}(me,e,e[32],null);return{c(){t=$("main"),n=$("div"),o=$("span"),l=$("h2"),J&&J.c(),s=I(),a=$("div"),X&&X.c(),c=I(),u=$("div");for(let e=0;e<H.length;e+=1)H[e].c();d=I(),m=$("div"),h=$("i"),w=I(),g=$("div"),Z&&Z.c(),v=I(),b=$("div"),ee&&ee.c(),S=I();for(let e=0;e<W.length;e+=1)W[e].c();x=I(),oe&&oe.c(),E=I(),N=$("div"),L=$("i"),O=I(),re.c(),_=I(),ce.c(),U=I(),ye&&ye.c(),F(l,"class","svelte-15aftwn"),F(o,"class","data-status svelte-15aftwn"),F(n,"class","home-status svelte-15aftwn"),F(h,"class",p("close-shown-items fa-solid fa-minus")+" svelte-15aftwn"),F(h,"tabindex","0"),F(m,"class","close-shown svelte-15aftwn"),F(u,"class",y=p("filters"+(e[6]?"":" disable-interaction"))+" svelte-15aftwn"),F(u,"id","filters"),F(b,"id","tagFilters"),F(b,"class","tagFilters svelte-15aftwn"),D(b,"max-height",e[5]?"":"30px"),F(L,"class",C=p("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-15aftwn"),F(N,"tabindex","0"),F(N,"class","showHideActiveFilters svelte-15aftwn"),F(g,"class",j=p("activeFilters"+(e[5]?" seenMore":""))+" svelte-15aftwn"),D(g,"display",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Oi)]?.filterSelectionName]||[]).length?"":"none"),F(a,"class",M=p("filters-wrapper"+(e[7]?"":" skeleton shimmer"))+" svelte-15aftwn"),F(t,"id","main-home"),F(t,"class","svelte-15aftwn"),D(t,"--translateX","-"+e[1]+"px"),D(t,"--filters-space",e[6]?"80px":""),D(t,"--active-filter-space",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Ri)]?.filterSelectionName]||[]).length?"auto":"")},m(i,r){A(i,t,r),k(t,n),k(n,o),k(o,l),J&&J.m(l,null),k(t,s),k(t,a),X&&X.m(a,null),k(a,c),k(a,u);for(let e=0;e<H.length;e+=1)H[e]&&H[e].m(u,null);k(u,d),k(u,m),k(m,h),k(a,w),k(a,g),Z&&Z.m(g,null),k(g,v),k(g,b),ee&&ee.m(b,null),k(b,S);for(let e=0;e<W.length;e+=1)W[e]&&W[e].m(b,null);k(b,x),oe&&oe.m(b,null),k(g,E),k(g,N),k(N,L),k(t,O),re.m(t,null),k(t,_),ce.m(t,null),k(t,U),ye&&ye.m(t,null),V=!0,R||(B=[P(h,"click",e[29]),P(h,"keydown",e[52]),P(N,"click",e[30]),P(N,"keydown",e[60])],R=!0)},p(e,n){Y===(Y=K(e))&&J?J.p(e,n):(J&&J.d(1),J=Y&&Y(e),J&&(J.c(),J.m(l,null))),e[7]?X?X.p(e,n):(X=zo(e),X.c(),X.m(a,c)):X&&(X.d(1),X=null),4080327&n[0]|1&n[1]&&(z=e[7]?.filterSelection||[],H=ve(H,n,Q,1,e,z,q,u,we,yi,d,Bo)),(!V||64&n[0]&&y!==(y=p("filters"+(e[6]?"":" disable-interaction"))+" svelte-15aftwn"))&&F(u,"class",y),e[5]?Z&&(Z.d(1),Z=null):Z?Z.p(e,n):(Z=wi(e),Z.c(),Z.m(g,v)),e[5]?ee?ee.p(e,n):(ee=gi(e),ee.c(),ee.m(b,S)):ee&&(ee.d(1),ee=null),12584064&n[0]&&(te=e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Di)]?.filterSelectionName]||[],ue(),W=ve(W,n,ne,1,e,te,G,b,ge,ki,x,Ro),de()),e[5]?oe?oe.p(e,n):(oe=xi(e),oe.c(),oe.m(b,null)):oe&&(oe.d(1),oe=null),32&n[0]&&D(b,"max-height",e[5]?"":"30px"),(!V||32&n[0]&&C!==(C=p("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-15aftwn"))&&F(L,"class",C),(!V||32&n[0]&&j!==(j=p("activeFilters"+(e[5]?" seenMore":""))+" svelte-15aftwn"))&&F(g,"class",j),1152&n[0]&&D(g,"display",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Oi)]?.filterSelectionName]||[]).length?"":"none"),(!V||128&n[0]&&M!==(M=p("filters-wrapper"+(e[7]?"":" skeleton shimmer"))+" svelte-15aftwn"))&&F(a,"class",M),le===(le=ie(e))&&re?re.p(e,n):(re.d(1),re=le(e),re&&(re.c(),re.m(t,_))),ae===(ae=se(e))&&ce?ce.p(e,n):(ce.d(1),ce=ae(e),ce&&(ce.c(),ce.m(t,U))),ye&&ye.p&&(!V||2&n[1])&&function(e,t,n,o,i,l){if(i){const r=f(t,n,o,l);e.p(r,i)}}(ye,me,e,e[32],V?function(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}(me,e[32],n,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[32]),null),2&n[0]&&D(t,"--translateX","-"+e[1]+"px"),64&n[0]&&D(t,"--filters-space",e[6]?"80px":""),1152&n[0]&&D(t,"--active-filter-space",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Ri)]?.filterSelectionName]||[]).length?"auto":"")},i(e){if(!V){r&&r.end(1);for(let e=0;e<te.length;e+=1)fe(W[e]);fe(ye,e),V=!0}},o(e){r=he(o,Ut,{duration:300});for(let e=0;e<W.length;e+=1)pe(W[e]);pe(ye,e),V=!1},d(e){e&&T(t),J&&J.d(),e&&r&&r.end(),X&&X.d();for(let e=0;e<H.length;e+=1)H[e].d();Z&&Z.d(),ee&&ee.d();for(let e=0;e<W.length;e+=1)W[e].d();oe&&oe.d(),re.d(),ce.d(),ye&&ye.d(e),R=!1,i(B)}}}function Ci(e,t){if("string"==typeof e&&"string"==typeof t)return e.toLowerCase().includes(t.trim().toLowerCase())}const Pi=({sortType:e})=>"none"!==e,Fi=({isSelected:e})=>e,ji=({isSelected:e})=>e,Mi=({isSelected:e})=>e,Di=({isSelected:e})=>e,Oi=({isSelected:e})=>e,_i=({sortType:e})=>"none"!==e,Ui=({sortType:e})=>"none"!==e,Vi=({sortType:e})=>"none"!==e,Ri=({isSelected:e})=>e;function Bi(e,t,n){let o,i,l,r,s,a,c,u,f,p,h,y,w,g;d(e,rt,(e=>n(76,o=e))),d(e,De,(e=>n(7,i=e))),d(e,Ue,(e=>n(77,l=e))),d(e,et,(e=>n(78,r=e))),d(e,_e,(e=>n(79,s=e))),d(e,Ze,(e=>n(8,a=e))),d(e,Qe,(e=>n(9,c=e))),d(e,Oe,(e=>n(10,u=e))),d(e,Ve,(e=>n(11,f=e))),d(e,lt,(e=>n(80,p=e))),d(e,Me,(e=>n(81,h=e))),d(e,it,(e=>n(12,y=e))),d(e,Re,(e=>n(82,w=e))),d(e,je,(e=>n(13,g=e)));let v,b,S,k,x,E,A,{$$slots:T={},$$scope:N}=t,$=!0,L=window.visualViewport.width,I=window.visualViewport.height,C=.3*I,P=!1,F=!1,j=["Algorithm Filter"],M=["sort","Anime Filter","Content Caution"],D=["weighted score","score","average score","user score","popularity"],O=!1,_=!1;async function U(e){c||(j.includes(e)?(O=!0,m(Ve,f="Updating List",f),async function(){await Kn(!0,"shouldProcessRecommendation"),En({filterOptions:i,activeTagFilters:u}).then((async()=>{await Kn(!1,"shouldProcessRecommendation"),xt.update((e=>!e)),V()})).catch((e=>{throw V(),e}))}()):M.includes(e)?(_=!0,m(Ve,f="Updating List",f),V()):_||O||w||(await Kn(i,"filterOptions"),await Kn(u,"activeTagFilters")))}function V(){l&&(l.terminate(),m(Ue,l=null,l)),Sn({filterOptions:i,activeTagFilters:u}).then((async e=>{O=_=!1,m(Ue,l=e.animeLoaderWorker,l),m(it,y="",y),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(Me,h=e.hiddenEntries,h),m(lt,p=e.numberOfNextLoadedGrid,p)),m(Ve,f=null,f)})).catch((e=>{throw e}))}async function R(){let e=document.getElementById("tagFilters");await Z(),e instanceof Element&&(e.scrollTop=0)}function B(){I=window.visualViewport.height,n(2,C=.3*I),n(1,L=window.visualViewport.width)}async function H(e){if(c)return de();let t=i?.filterSelection.findIndex((({isSelected:e})=>e)),o=i?.filterSelection?.[t].filterSelectionName;if(o!==e){n(4,S=!1),s?.length>36&&!a&&await ue(),i?.filterSelection?.[t].filters.Dropdown.forEach((e=>{e.selected=!1})),m(De,i.filterSelection[t]=i?.filterSelection?.[t],i),b=null,m(De,i.filterSelection[t].isSelected=!1,i);let o=i?.filterSelection?.findIndex((({filterSelectionName:t})=>t===e));m(De,i.filterSelection[o].isSelected=!0,i),R(),U()}k instanceof Element&&k.closest(".filterType")&&(Ot(k,"highlight"),k=null),n(3,v=!1)}function q(e){if(c&&(i?.filterSelection?.length??0)<1)return de();let t=e.target,o=t.classList,l=t.closest(".filterType"),r=t.closest(".options-wrap");!o.contains("filterType")&&!l||v?r&&!o.contains("closing-x")||o.contains("options-wrap")||(k instanceof Element&&k.closest(".filterType")&&(Ot(k,"highlight"),k=null),n(3,v=!1)):n(3,v=!0)}function G(){x&&clearTimeout(x),E=!0,x=setTimeout((()=>{E=!1}),300)}function K(e,t){if(E&&"mouse"===e.pointerType)return;let o=e.target,l=o.closest(".filter-select");if(l===b)return;let r=i?.filterSelection?.findIndex((({isSelected:e})=>e));if(b instanceof Element){let e=Array.from(b.parentElement.children).filter((e=>!e.classList.contains("disable-interaction"))).indexOf(b);if(o.classList.contains("icon")&&!o.classList.contains("fa-angle-down")&&i?.filterSelection?.[r].filters.Dropdown[e].selected)return;m(De,i.filterSelection[r].filters.Dropdown[e].selected=!1,i)}$&&n(0,$=!1),k instanceof Element&&k.closest(".filter-select")&&(Ot(k,"highlight"),k=null),m(De,i.filterSelection[r].filters.Dropdown[t].selected=!0,i),b=l}function Y(e){let t=i?.filterSelection?.findIndex((({isSelected:e})=>e));m(De,i.filterSelection[t].filters.Dropdown[e].selected=!1,i),k instanceof Element&&k.closest(".filter-select")&&(Ot(k,"highlight"),k=null),b=null}async function J(e){if(i?.filterSelection?.length<1||!i)return;let t=e.target,o=t.classList;if(o.contains("options-wrap")&&"fixed"===getComputedStyle(t).position){k instanceof Element&&(Ot(k,"highlight"),k=null),n(3,v=!1),n(4,S=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(De,i.filterSelection[e]=i?.filterSelection?.[e],i),b=null}else if(!o.contains("options-wrap")&&!t.closest(".options-wrap")&&!o.contains("async-element")){let e=t.closest(".filterType");o.contains("filterType")||e||(k instanceof Element&&k.closest(".filterType")&&(Ot(k,"highlight"),k=null),n(3,v=!1));let l=t.closest(".sortFilter");o.contains("sortFilter")||l||(k instanceof Element&&k.closest(".sortFilter")&&(Ot(k,"highlight"),k=null),n(4,S=!1));let r=t.closest(".select");if(!o.contains("select")&&!o.contains("fa-angle-down")&&!r){k instanceof Element&&k.closest(".filter-select")&&(Ot(k,"highlight"),k=null);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(De,i.filterSelection[e]=i?.filterSelection?.[e],i),b=null}}}function X(e,t,n,o,l,r){if(c)return de();let s=i?.filterSelection?.findIndex((({isSelected:e})=>e)),a=i?.filterSelection?.[s].filterSelectionName,d=i?.filterSelection?.[s].filters.Dropdown[o].options[n].selected;"none"===d||!0===d||"read"===l&&"included"!==d?(m(De,i.filterSelection[s].filters.Dropdown[o].options[n].selected="included",i),m(Oe,u[a]=u[a].filter((o=>o.optionName+o.optionIdx+o.optionType!==e+n+t)),u),u[a].unshift({optionName:e,optionType:t,optionIdx:n,categIdx:o,selected:"included",changeType:l,filterType:"dropdown"}),Oe.set(u)):"included"===d?"read"===l?(m(De,i.filterSelection[s].filters.Dropdown[o].options[n].selected="none",i),m(Oe,u[a]=u[a].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&(!i.optionType||i.optionType===t)))),u)):(m(De,i.filterSelection[s].filters.Dropdown[o].options[n].selected="excluded",i),m(Oe,u[a]=u[a].map((i=>(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&"included"===i.selected&&i.optionType===t&&(i.selected="excluded"),i))),u)):(m(De,i.filterSelection[s].filters.Dropdown[o].options[n].selected="none",i),m(Oe,u[a]=u[a].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&i.optionType===t))),u)),U(r)}function z(e,t,n,o){let l=e.target.classList,r=e.which||e.keyCode||0;if(l.contains("checkbox")&&"click"===e.type||l.contains("checkbox")&&13!==r&&"keydown"===e.type||E&&"mouse"===e.pointerType)return;if(c)return void(l.contains("checkbox")||de());let s=i?.filterSelection?.findIndex((({isSelected:e})=>e)),a=i?.filterSelection?.[s].filterSelectionName,d=i?.filterSelection?.[s].filters.Checkbox[n].isSelected;d?m(Oe,u[a]=u[a].filter((e=>!(e.optionIdx===n&&e.optionName===t&&"checkbox"===e.filterType&&"included"===e.selected))),u):(m(Oe,u[a]=u[a].filter((e=>e.optionName+e.optionIdx!==t+n)),u),u[a].unshift({optionName:t,optionIdx:n,filterType:"checkbox",selected:"included",changeType:"read"}),Oe.set(u)),m(De,i.filterSelection[s].filters.Checkbox[n].isSelected=!i?.filterSelection?.[s].filters.Checkbox[n].isSelected,i),U(o)}function Q(e,t,n,o,l,r,s){if(c)return de();let a=i?.filterSelection?.findIndex((({isSelected:e})=>e)),d=i?.filterSelection?.[a].filterSelectionName,f=i?.filterSelection?.[a].filters["Input Number"][n].numberValue;if(D.includes(o)&&/^(>=|<=|<|>).*($)/.test(t)){let c=t.split(/(<=|>=|<|>)/).filter((e=>e));if(t!==f&&c.length<=2){let p,h,y=t.split(/(<=|>=|<|>)/).filter((e=>e));if(c[0].includes(">")||c[0].includes("<")?(p=c[0],h=c[1]):(p=c[1],h=c[0]),y[0].includes(">")||y[0].includes("<")?(y[0],y[1]):(y[1],y[0]),t!==f&&(!isNaN(h)&&(parseFloat(h)>=r||"number"!=typeof r)&&(parseFloat(h)<=l||"number"!=typeof l)||!h)){if(h){let e=u[d].findIndex((e=>e.optionName===o&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(Oe,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==o+n)),u),u[d].unshift({optionName:o,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(u[d].splice(e,1),m(Oe,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==o+n)),u),u[d].unshift({optionName:o,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),Oe.set(u)}else m(Oe,u[d]=u[d].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===f&&"input number"===e.filterType))),u);m(De,i.filterSelection[a].filters["Input Number"][n].numberValue=t,i),U(s)}else jt(e.target,f)}else{let t=u[d].findIndex((e=>e.optionName===o&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));t>=0&&m(Oe,u[d][t].selected="included",u),jt(e.target,f)}}else if(t!==f&&(!isNaN(t)&&(parseFloat(t)>=r||"number"!=typeof r)&&(parseFloat(t)<=l||"number"!=typeof l)||""===t)){if(""===t)m(Oe,u[d]=u[d].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===f&&"input number"===e.filterType))),u);else{let e=u[d].findIndex((e=>e.optionName===o&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(Oe,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==o+n)),u),u[d].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(u[d].splice(e,1),m(Oe,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==o+n)),u),u[d].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),Oe.set(u)}m(De,i.filterSelection[a].filters["Input Number"][n].numberValue=t,i),U(s)}else elementIdx>=0&&m(Oe,u[d][elementIdx].selected="included",u),jt(e.target,f)}function ee(e,t,n,o,l,r,s,a){if(c)return de();let d=i?.filterSelection?.findIndex((({isSelected:e})=>e)),f=i?.filterSelection?.[d].filterSelectionName;if("input number"===o){let e=u[f].findIndex((e=>e.optionName===n&&e.optionValue===a&&e.optionIdx===t&&"input number"===e.filterType));if(e>=0){let t=u[f][e].selected;m(Oe,u[f][e].selected="included"===t?"excluded":"included",u)}}else if("checkbox"===o){let e=u[f].findIndex((e=>e.optionIdx===t&&e.optionName===n&&e.filterType===o)),l=u?.[f]?.[e]?.selected;"included"===l?(m(Oe,u[f][e].selected="excluded",u),m(De,i.filterSelection[d].filters.Checkbox[t].isSelected=!1,i)):"excluded"===l&&(m(Oe,u[f][e].selected="included",u),m(De,i.filterSelection[d].filters.Checkbox[t].isSelected=!0,i))}else if("dropdown"===o){let e=i?.filterSelection?.[d].filters.Dropdown[l].options[t].selected;"included"===e?(m(De,i.filterSelection[d].filters.Dropdown[l].options[t].selected="excluded",i),m(Oe,u[f]=u[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"included"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="excluded"),e))),u)):"excluded"===e&&(m(De,i.filterSelection[d].filters.Dropdown[l].options[t].selected="included",i),m(Oe,u[f]=u[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"excluded"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="included"),e))),u))}U(f)}function te(e,t,n,o,l,r){if(c)return de();let s=i?.filterSelection?.findIndex((({isSelected:e})=>e)),a=i?.filterSelection?.[s].filterSelectionName;m(De,"checkbox"===o?i.filterSelection[s].filters.Checkbox[t].isSelected=!1:"input number"===o?i.filterSelection[s].filters["Input Number"][t].numberValue="":i.filterSelection[s].filters.Dropdown[l].options[t].selected="none",i),m(Oe,u[a]=u[a].filter((e=>!(e.optionName===n&&e.optionIdx===t&&e.filterType===o&&(!e.optionType||e.optionType===r)))),u),U(a)}async function ne(e){if(c)return de();if(await o("Do you want to remove all filters?")){let e=i?.filterSelection?.findIndex((({isSelected:e})=>e)),t=i?.filterSelection?.[e].filterSelectionName;i?.filterSelection?.[e].filters["Input Number"].forEach((e=>{e.numberValue=""})),i?.filterSelection?.[e].filters.Checkbox.forEach((e=>{e.isSelected=!1})),i?.filterSelection?.[e].filters.Dropdown.forEach((({options:t},n)=>{t.forEach((({selected:t},o)=>{m(De,i.filterSelection[e].filters.Dropdown[n].options[o].selected="none",i)}))})),m(De,i.filterSelection[e]=i?.filterSelection?.[e],i),m(Oe,u[t]=[],u),U(t)}}function oe(e){let t=e.target,o=t.classList,i=t.closest(".sortFilter"),l=t.closest(".options-wrap");!o.contains("sortFilter")&&!i||S?l&&!o.contains("closing-x")||o.contains("options-wrap")||(k instanceof Element&&k.closest(".sortFilter")&&(Ot(k,"highlight"),k=null),n(4,S=!1)):n(4,S=!0)}function ie(e){if(c)return de();let{sortName:t,sortType:o}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],l=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));if(t===e){let e="desc"===o?"asc":"desc";m(De,i.sortFilter[l].sortType=e,i)}else if(t!==e){m(De,i.sortFilter[l].sortType="none",i);let t=i?.sortFilter?.findIndex((({sortName:t})=>t===e));m(De,i.sortFilter[t].sortType="desc",i)}U("sort"),k instanceof Element&&k.closest(".sortFilter")&&(Ot(k,"highlight"),k=null),n(4,S=!1)}function le(){if(c)return de();let{sortType:e}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],t=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));m(De,i.sortFilter[t].sortType="desc"===e?"asc":"desc",i),U("sort")}function re(e){let t=e.which||e.keyCode||0;if(38==t||40==t){var o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filterType")||o?.closest?.(".sortFilter")||o?.closest?.(".filter-select"))if(e.preventDefault(),k instanceof Element&&k?.closest?.(".options")?.children?.length){let e,n,o,i,l=k.closest(".options"),r=Array.from(l.querySelectorAll(".option")),s=r.indexOf(k);for(let l=0;l<r.length;l++)if(!r[l].classList.contains("disable-interaction"))if(38===t){if(i=r[l],l<s)n=r[l];else if(n){e=n;break}}else if(o||(o=r[l]),l>s){e=r[l];break}let a=!1;e instanceof Element||(o instanceof Element?(e=o,a=!0):i instanceof Element&&(e=i,a=!0)),e instanceof Element&&(Ot(k,"highlight"),k=e,Dt(k,"highlight"),k.scrollIntoView({behavior:a?"auto":"smooth",container:l,block:"center",inline:"nearest"}))}else{let e=o.querySelectorAll(".option:not(.disable-interaction)");k=e[0],k instanceof Element&&(Dt(k,"highlight"),k.scrollIntoView({behavior:"smooth",container:parent,block:"center",inline:"nearest"}))}}else if(13===t){if(k instanceof Element){let e=new KeyboardEvent("keydown",{key:"Enter"});k.dispatchEvent(e)}}else{o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filter-select")&&9!==t||o instanceof Element&&"fixed"===getComputedStyle(o).position)return;let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));n(3,v=null),n(4,S=null),i?.filterSelection?.length>0&&(i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(De,i.filterSelection[e]=i?.filterSelection?.[e],i)),b=null,k instanceof Element&&(Ot(k,"highlight"),k=null)}}async function se(){m(Ze,a=!a,a),Dn(a,"gridFullView")}async function ae(e=null){s?.length>36&&!a&&await ue(),n(6,F="boolean"==typeof e?e:!F)}async function ce(e=null){s?.length>36&&!a&&await ue(),n(5,P="boolean"==typeof e?e:!P),R()}function ue(){return new Promise((e=>{l instanceof Worker&&(m(_e,s=null,s),r().then((()=>{l.postMessage({reload:!0})}))),A={resolve:e}}))}function de(){o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}wt.subscribe((e=>{"boolean"==typeof e&&A?.resolve?.()})),window.checkOpenDropdown=()=>(b||v||S)&&window.visualViewport.width<=425,window.closeDropdown=function(){k instanceof Element&&(Ot(k,"highlight"),k=null),n(3,v=!1),n(4,S=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(De,i.filterSelection[e]=i?.filterSelection?.[e],i),b=null},W((()=>{let e=document.getElementById("filters");e.addEventListener("scroll",G),((e,t="xy")=>{var n,o,i,l,r;let s=s=>{i&&"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(e.scrollTop=n-s.pageY+r),t.toLowerCase().includes("x")&&(e.scrollLeft=o-s.pageX+l))},a=s=>{"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(n=s.pageY,r=e.scrollTop),t.toLowerCase().includes("x")&&(o=s.pageX,l=e.scrollLeft),i=!0)},c=e=>{"mouse"===e.pointerType&&(i=!1)};e.addEventListener("pointermove",s),e.addEventListener("pointerdown",a),window.addEventListener("pointerup",c),window.addEventListener("pointercancel",c)})(e,"x"),document.addEventListener("keydown",re),window.addEventListener("resize",B),window.addEventListener("click",J)}));return e.$$set=e=>{"$$scope"in e&&n(32,N=e.$$scope)},[$,L,C,v,S,P,F,i,a,c,u,f,y,g,D,H,q,K,Y,X,z,Q,ee,te,ne,oe,ie,le,se,ae,ce,de,N,T,(e,{optionName:t})=>Ci(t,e.optKeyword)||""===e.optKeyword,e=>"Enter"===e.key&&q(e),e=>"Enter"===e.key&&q(e),(e,t)=>"Enter"===t.key&&H(e),e=>"Enter"===e.key&&ae(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,De.set(i)},(e,t)=>"Enter"===t.key&&Y(e),(e,t)=>("Enter"===t.key||"ArrowDown"===t.key||"ArrowUp"===t.key)&&K(t,e),(e,t)=>K(t,e),(e,t)=>"Enter"===t.key&&Y(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,De.set(i)},(e,t,n,o,i,l)=>"Enter"===l.key&&X(e.optionName,t.filName,n,o,t.changeType,i.filterSelectionName),e=>{e.target.checked=!1,de()},(e,t,n,o)=>z(o,e.filName,t,n.filterSelectionName),function(e,t){e[t].isSelected=this.checked},(e,t,n,o)=>z(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>"Enter"===o.key&&z(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>Q(o,o.target.value,e,t.filName,t.maxValue,t.minValue,n.filterSelectionName),e=>"Enter"===e.key&&ae(e),e=>"Enter"===e.key&&ne(),e=>"Enter"===e.key&&ne(),(e,t,n,o,i,l)=>te(0,e,t,n,o,i),(e,t,n,o,i,l)=>"Enter"===l.key&&te(0,e,t,n,o,i),(e,t,n,o,i,l,r,s)=>ee(0,e,t,n,o,0,l,r),(e,t,n,o,i,l,r,s)=>"Enter"===s.key&&ee(0,e,t,n,o,0,l,r),e=>"Enter"===e.key&&ce(),e=>"Enter"===e.key&&ce(),function(){y=this.value,it.set(y)},e=>"Enter"===e.key&&se(),e=>"Enter"===e.key&&le(),e=>"Enter"===e.key&&oe(e),e=>"Enter"===e.key&&oe(e),(e,t)=>"Enter"===t.key&&ie(e)]}function Hi(e){let t,n,o,l,r,s,a,c,u,d,f,p,m,h,y,w,g,v,b=!e[1]&&qi(e);return{c(){t=$("div"),n=$("div"),o=$("div"),l=$("div"),r=$("h2"),s=L(e[2]),a=I(),c=$("h2"),u=L(e[3]),d=I(),f=$("div"),b&&b.c(),p=I(),m=$("button"),h=L(e[4]),F(r,"class","confirm-title svelte-pjo7i6"),F(c,"class","confirm-text svelte-pjo7i6"),F(l,"class","confirm-info-container svelte-pjo7i6"),F(m,"class","button svelte-pjo7i6"),F(f,"class","confirm-button-container svelte-pjo7i6"),F(o,"class","confirm-container svelte-pjo7i6"),F(n,"class","confirm-wrapper svelte-pjo7i6"),D(n,"--height",e[7]?"calc(100% + 1px)":"100%"),F(t,"class","confirm svelte-pjo7i6")},m(i,y){A(i,t,y),k(t,n),k(n,o),k(o,l),k(l,r),k(r,s),k(l,a),k(l,c),k(c,u),k(o,d),k(o,f),b&&b.m(f,null),k(f,p),k(f,m),k(m,h),e[12](m),w=!0,g||(v=[P(m,"click",e[8]),P(m,"keydown",e[13]),P(t,"click",e[10]),P(t,"keydown",e[14])],g=!0)},p(e,t){(!w||4&t)&&j(s,e[2]),(!w||8&t)&&j(u,e[3]),e[1]?b&&(b.d(1),b=null):b?b.p(e,t):(b=qi(e),b.c(),b.m(f,p)),(!w||16&t)&&j(h,e[4]),128&t&&D(n,"--height",e[7]?"calc(100% + 1px)":"100%")},i(e){w||(ee((()=>{w&&(y||(y=ye(o,Vt,{y:20,duration:300},!0)),y.run(1))})),w=!0)},o(e){y||(y=ye(o,Vt,{y:20,duration:300},!1)),y.run(0),w=!1},d(n){n&&T(t),b&&b.d(),e[12](null),n&&y&&y.end(),g=!1,i(v)}}}function qi(e){let t,n,o,l;return{c(){t=$("button"),n=L(e[5]),F(t,"class","button svelte-pjo7i6")},m(i,r){A(i,t,r),k(t,n),o||(l=[P(t,"click",e[9]),P(t,"keydown",e[11])],o=!0)},p(e,t){32&t&&j(n,e[5])},d(e){e&&T(t),o=!1,i(l)}}}function Wi(e){let t,n,o=e[0]&&Hi(e);return{c(){o&&o.c(),t=C()},m(e,i){o&&o.m(e,i),A(e,t,i),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&fe(o,1)):(o=Hi(e),o.c(),fe(o,1),o.m(t.parentNode,t)):o&&(ue(),pe(o,1,1,(()=>{o=null})),de())},i(e){n||(fe(o),n=!0)},o(e){pe(o),n=!1},d(e){o&&o.d(e),e&&T(t)}}}function Gi(e,t,n){let o;d(e,ut,(e=>n(7,o=e)));const i=function(){const e=q();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const l=O(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}();let l,r,{showConfirm:s=!1}=t,{isAlert:a=!1}=t,{confirmTitle:c="Confirmation"}=t,{confirmText:u="Do you want to continue?"}=t,{confirmLabel:f="OK"}=t,{cancelLabel:p="CANCEL"}=t,m=!1;function h(e){m&&"keydown"!==e.type||(n(0,s=!1),i("confirmed"))}function y(e){m&&"keydown"!==e.type||(n(0,s=!1),i("cancelled"))}function w(e){if(m&&"keydown"!==e.type)return;let t=e.target,n=t.classList;t.closest(".confirm-container")||n.contains("confirm-container")||y(e)}var g;g=()=>{s?(m=!0,r=setTimeout((()=>{m=!1}),500),l?.focus?.()):(r&&clearTimeout(r),m=!1)},q().$$.after_update.push(g);return e.$$set=e=>{"showConfirm"in e&&n(0,s=e.showConfirm),"isAlert"in e&&n(1,a=e.isAlert),"confirmTitle"in e&&n(2,c=e.confirmTitle),"confirmText"in e&&n(3,u=e.confirmText),"confirmLabel"in e&&n(4,f=e.confirmLabel),"cancelLabel"in e&&n(5,p=e.cancelLabel)},[s,a,c,u,f,p,l,o,h,y,w,e=>"Enter"===e.key&&y(e),function(e){K[e?"unshift":"push"]((()=>{l=e,n(6,l)}))},e=>"Enter"===e.key&&h(e),e=>"Enter"===e.key&&w(e)]}var Ki={Fixed:{Navigator:class extends Ee{constructor(e){super(),xe(this,e,Po,Co,r,{},null,[-1,-1])}},Menu:class extends Ee{constructor(e){super(),xe(this,e,Uo,Oo,r,{},null,[-1,-1])}}},Anime:{AnimeGrid:class extends Ee{constructor(e){super(),xe(this,e,fn,sn,r,{},null,[-1,-1])}},Fixed:{AnimePopup:class extends Ee{constructor(e){super(),xe(this,e,No,bo,r,{},null,[-1,-1,-1,-1])}},AnimeOptionsPopup:class extends Ee{constructor(e){super(),xe(this,e,Io,Lo,r,{})}}}},Others:{Search:class extends Ee{constructor(e){super(),xe(this,e,Bi,Ii,r,{},null,[-1,-1,-1,-1,-1])}},Confirm:class extends Ee{constructor(e){super(),xe(this,e,Gi,Wi,r,{showConfirm:0,isAlert:1,confirmTitle:2,confirmText:3,confirmLabel:4,cancelLabel:5})}}}},Yi="@vercel/analytics",Ji="1.0.1",Xi=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function zi(e="auto"){window.vam="auto"!==e?e:function(){try{const e=process.env.NODE_ENV;if("development"===e||"test"===e)return"development"}catch(e){}return"production"}()}function Qi(){return"development"===(window.vam||"production")}function Zi(e={debug:!0}){var t;if("undefined"==typeof window)return;zi(e.mode),Xi(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=Qi()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${n}"]`))return;const o=document.createElement("script");o.src=n,o.defer=!0,o.setAttribute("data-sdkn",Yi),o.setAttribute("data-sdkv",Ji),Qi()&&!1===e.debug&&o.setAttribute("data-debug","false"),document.head.appendChild(o)}function el(e){let t,n,o,i,l;return{c(){t=$("div"),F(t,"class","progress svelte-tver6w"),D(t,"--progress","-"+(100-e[6])+"%")},m(e,n){A(e,t,n),o=!0,i||(l=P(t,"outrostart",il),i=!0)},p(e,n){64&n[0]&&D(t,"--progress","-"+(100-e[6])+"%")},i(e){o||(n&&n.end(1),o=!0)},o(e){n=he(t,Ut,{duration:0,delay:400}),o=!1},d(e){e&&T(t),e&&n&&n.end(),i=!1,l()}}}function tl(e){let t,n;return t=new Ki.Anime.AnimeGrid({}),{c(){be(t.$$.fragment)},m(e,o){Se(t,e,o),n=!0},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function nl(t){let n,o,l,r,s;return{c(){n=$("div"),n.innerHTML='<i class="list-update-icon fa-solid fa-arrows-rotate svelte-tver6w"></i> \n\t\t\t<h3 class="list-update-label svelte-tver6w">List Update Available</h3>',F(n,"class","list-update-container svelte-tver6w"),F(n,"tabindex","0")},m(e,o){A(e,n,o),l=!0,r||(s=[P(n,"click",t[10]),P(n,"keydown",t[11])],r=!0)},p:e,i(e){l||(ee((()=>{l&&(o||(o=ye(n,Vt,{x:50,duration:300},!0)),o.run(1))})),l=!0)},o(e){o||(o=ye(n,Vt,{x:50,duration:300},!1)),o.run(0),l=!1},d(e){e&&T(n),e&&o&&o.end(),r=!1,i(s)}}}function ol(e){let t,n,o,i,l,r,s,a,c,u,d,f,p,m,h,y,w=e[6]>0&&e[6]<100&&el(e);o=new Ki.Fixed.Navigator({}),l=new Ki.Fixed.Menu({}),a=new Ki.Others.Search({props:{$$slots:{default:[tl]},$$scope:{ctx:e}}}),u=new Ki.Anime.Fixed.AnimePopup({}),f=new Ki.Anime.Fixed.AnimeOptionsPopup({}),m=new Ki.Others.Confirm({props:{showConfirm:e[0],isAlert:e[1],confirmTitle:e[2],confirmText:e[3],confirmLabel:e[4],cancelLabel:e[5]}}),m.$on("confirmed",e[8]),m.$on("cancelled",e[9]);let g=e[7]&&nl(e);return{c(){t=$("main"),w&&w.c(),n=I(),be(o.$$.fragment),i=I(),be(l.$$.fragment),r=I(),s=$("div"),be(a.$$.fragment),c=I(),be(u.$$.fragment),d=I(),be(f.$$.fragment),p=I(),be(m.$$.fragment),h=I(),g&&g.c(),F(s,"class","home svelte-tver6w"),F(t,"class","svelte-tver6w")},m(e,v){A(e,t,v),w&&w.m(t,null),k(t,n),Se(o,t,null),k(t,i),Se(l,t,null),k(t,r),k(t,s),Se(a,s,null),k(s,c),Se(u,s,null),k(t,d),Se(f,t,null),k(t,p),Se(m,t,null),k(t,h),g&&g.m(t,null),y=!0},p(e,o){e[6]>0&&e[6]<100?w?(w.p(e,o),64&o[0]&&fe(w,1)):(w=el(e),w.c(),fe(w,1),w.m(t,n)):w&&(ue(),pe(w,1,1,(()=>{w=null})),de());const i={};4&o[2]&&(i.$$scope={dirty:o,ctx:e}),a.$set(i);const l={};1&o[0]&&(l.showConfirm=e[0]),2&o[0]&&(l.isAlert=e[1]),4&o[0]&&(l.confirmTitle=e[2]),8&o[0]&&(l.confirmText=e[3]),16&o[0]&&(l.confirmLabel=e[4]),32&o[0]&&(l.cancelLabel=e[5]),m.$set(l),e[7]?g?(g.p(e,o),128&o[0]&&fe(g,1)):(g=nl(e),g.c(),fe(g,1),g.m(t,null)):g&&(ue(),pe(g,1,1,(()=>{g=null})),de())},i(e){y||(fe(w),fe(o.$$.fragment,e),fe(l.$$.fragment,e),fe(a.$$.fragment,e),fe(u.$$.fragment,e),fe(f.$$.fragment,e),fe(m.$$.fragment,e),fe(g),y=!0)},o(e){pe(w),pe(o.$$.fragment,e),pe(l.$$.fragment,e),pe(a.$$.fragment,e),pe(u.$$.fragment,e),pe(f.$$.fragment,e),pe(m.$$.fragment,e),pe(g),y=!1},d(e){e&&T(t),w&&w.d(),ke(o),ke(l),ke(a),ke(u),ke(f),ke(m),g&&g.d()}}}const il=e=>{e.target.style.setProperty("--progress","0%")};function ll(e,t,n){let o,i,l,r,s,a,c,u,f,p,h,y,w,g,v,b,S,k,x,E,A,T,N,$,L,I,C,P,F,j,M,D,O;d(e,rt,(e=>n(25,o=e))),d(e,Ve,(e=>n(26,i=e))),d(e,lt,(e=>n(27,l=e))),d(e,Me,(e=>n(28,r=e))),d(e,_e,(e=>n(29,s=e))),d(e,it,(e=>n(30,a=e))),d(e,Ue,(e=>n(31,c=e))),d(e,pt,(e=>n(7,u=e))),d(e,ht,(e=>n(32,f=e))),d(e,Ie,(e=>n(33,p=e))),d(e,ft,(e=>n(34,h=e))),d(e,Ze,(e=>n(35,y=e))),d(e,at,(e=>n(36,w=e))),d(e,ut,(e=>n(37,g=e))),d(e,st,(e=>n(38,v=e))),d(e,Be,(e=>n(39,b=e))),d(e,qe,(e=>n(40,S=e))),d(e,Ye,(e=>n(41,k=e))),d(e,Qe,(e=>n(42,x=e))),d(e,Fe,(e=>n(43,E=e))),d(e,He,(e=>n(44,A=e))),d(e,Ke,(e=>n(45,T=e))),d(e,yt,(e=>n(46,N=e))),d(e,Je,(e=>n(47,$=e))),d(e,We,(e=>n(48,L=e))),d(e,ze,(e=>n(49,I=e))),d(e,De,(e=>n(50,C=e))),d(e,Oe,(e=>n(51,P=e))),d(e,je,(e=>n(52,F=e))),d(e,Ge,(e=>n(53,j=e))),d(e,Le,(e=>n(54,M=e))),m(Ie,p=(()=>{try{return JSBridge.exportJSON,!0}catch(e){return!1}})(),p),Zi(),window.onload=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),"https://kanshi.vercel.app"===window.location.origin?e("config","G-F5E8XNQS20"):e("config","G-PPMY92TJCE")};const _=new Function;window.onYouTubeIframeAPIReady=_;let U=[];m(Ve,i="Getting Existing Data",i);let V=setInterval((()=>{i||m(Ve,i="Please Wait...",i)}),300);function R(e=!1){e||q()&&A?(m(Be,b=!0,b),In().then((()=>{m(Be,b=!1,b),Nn().finally((()=>{B()}))})).catch((e=>{B(),m(Be,b=!1,b),m(Ve,i="Something went wrong...",i),console.error(e)}))):B()}function B(){T&&G()&&Pn()}new Promise((async e=>{if(m(Le,M=await Te(),M),p&&navigator.onLine)try{M&&JSBridge.checkAppID(M,!1)}catch(e){window.updateAppAlert?.()}e()})).then((()=>{(async()=>{m(Ge,j=await Yn("exportPathIsAvailable"),j)})(),U.push(new Promise((async(e,t)=>{let n=await Yn("lastAnimeUpdate"),o=!(n instanceof Date&&!isNaN(n));if(!o){await Yn("animeEntriesIsEmpty")&&(o=!0)}var i;o?(m(_e,s=null,s),new Promise(((e,t)=>{_n=setInterval((()=>{Ve.set("Getting Anime Entries")}),300),Pe.set(0),mn("./webapi/worker/getAnimeEntries.js").then((n=>{Pe.set(25),_n&&(clearInterval(_n),_n=null);let o=new Worker(n);On&&clearTimeout(On),o.postMessage(i),o.onmessage=({data:t})=>{t?.hasOwnProperty("status")?(vn=!0,Ve.set(t.status)):(Pe.set(100),vn=!1,kt.update((e=>!e)),On=setTimeout((()=>{o.terminate()}),gn),e(t))},o.onerror=e=>{Pe.set(100),t(e)}})).catch((e=>{Pe.set(100),_n&&(clearInterval(_n),_n=null),Ve.set(null),Gn(),t(e)}))})).then((()=>{e()})).catch((async()=>{t()}))):e()}))),U.push(new Promise((async e=>{let t=await Yn("username");t&&m(je,F=t,F),e()}))),U.push(new Promise((async e=>{var t;await Yn("animeFranchisesLength")<1?new Promise(((e,n)=>{Vn=setInterval((()=>{_n||Ve.set("Getting Anime Franchise")}),300),Pe.set(0),mn("./webapi/worker/getAnimeFranchises.js").then((o=>{Pe.set(25),Vn&&(clearInterval(Vn),Vn=null);let i=new Worker(o);Un&&clearTimeout(Un),i.postMessage(t),i.onmessage=({data:t})=>{t?.hasOwnProperty("status")?(vn=!0,Ve.set(t.status)):(Pe.set(100),kt.update((e=>!e)),vn=!1,Un=setTimeout((()=>{i.terminate()}),gn),e(t))},i.onerror=e=>{Pe.set(100),n(e)}})).catch((e=>{Pe.set(100),Vn&&(clearInterval(Vn),Vn=null),Ve.set(null),Gn(),n(e)}))})).then((()=>{e()})).catch((()=>{reject()})):e()}))),U.push(new Promise((async e=>{qn().then((t=>{m(Oe,P=t.activeTagFilters,P),m(De,C=t.filterOptions,C),e()})).catch((()=>{reject()}))}))),U.push(new Promise((async e=>{let t=await Yn("autoPlay");"boolean"==typeof t&&m(ze,I=t,I);let n=await Yn("gridFullView")??!1;"boolean"==typeof n&&m(Ze,y=n,y),m(Me,r=await Yn("hiddenEntries")||{},r),m(We,L=await Yn("lastRunnedAutoUpdateDate"),L),m(Je,$=await Yn("lastRunnedAutoExportDate"),$),m(He,A=await Yn("autoUpdate")??!1,A),m(Ke,T=await Yn("autoExport")??!1,T),e()}))),Promise.all(U).then((async()=>{let e=await Yn("shouldProcessRecommendation");if(!e){await Yn("recommendedAnimeListLength")<1&&(e=!0)}new Promise((async t=>{e?En().then((async()=>{await Kn(!1,"shouldProcessRecommendation"),t()})).catch((e=>{throw e})):t()})).then((()=>{Sn().then((async e=>{m(Ue,c=e.animeLoaderWorker,c),m(it,a="",a),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(Me,r=e.hiddenEntries,r),m(lt,l=e.numberOfNextLoadedGrid,l),m(Ve,i=null,i),R(!0),m(Qe,x=!1,x))})).catch((e=>{throw e}))}))})).catch((async e=>{R(!0),m(Qe,x=!1,x),m(Ve,i="Something went wrong...",i),o?.(p?{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}:{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."}),console.error(e)}))})),Qe.subscribe((async e=>{!1===e&&clearInterval(V)})),_e.subscribe((async e=>{x&&e?.length>0&&!1!==x&&m(Qe,x=!1,x)})),St.subscribe((async e=>{"boolean"!=typeof e||x||(m(pt,u=!1,u),c&&(c.terminate(),m(Ue,c=null,c)),Sn().then((async e=>{m(Ue,c=e.animeLoaderWorker,c),m(it,a="",a),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(Me,r=e.hiddenEntries,r),m(lt,l=e.numberOfNextLoadedGrid,l)),m(Ve,i=null,i)})).catch((e=>{throw e})))})),bt.subscribe((async e=>{"boolean"!=typeof e||x||(await Kn(!0,"shouldProcessRecommendation"),m(pt,u=!1,u),En().then((async()=>{await Kn(!1,"shouldProcessRecommendation"),xt.update((e=>!e)),St.update((e=>!e))})).catch((e=>{throw St.update((e=>!e)),e})))})),kt.subscribe((async e=>{"boolean"!=typeof e||x||(await Kn(!0,"shouldProcessRecommendation"),En().then((async()=>{await Kn(!1,"shouldProcessRecommendation"),xt.update((e=>!e)),Et.update((e=>!e))})).catch((e=>{throw Et.update((e=>!e)),e})))})),Et.subscribe((async e=>{"boolean"!=typeof e||x||((g||(y?O.scrollLeft>500:document.documentElement.scrollTop>Math.max(0,O?.offsetTop-55)))&&s?.length?m(pt,u=!0,u):(c&&(c.terminate(),m(Ue,c=null,c)),Sn().then((async e=>{m(Ue,c=e.animeLoaderWorker,c),m(it,a="",a),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(Me,r=e.hiddenEntries,r),m(lt,l=e.numberOfNextLoadedGrid,l)),m(Ve,i=null,i)})).catch((e=>{throw e}))))})),xt.subscribe((async e=>{"boolean"!=typeof e||x||qn()}));let H=36e5;function q(){let e=!1;return L?L instanceof Date&&!isNaN(L)&&(new Date).getTime()-L.getTime()>H&&(e=!0):e=!0,e}function G(){let e=!1;return $?$ instanceof Date&&!isNaN($)&&(new Date).getTime()-$.getTime()>H&&(e=!0):e=!0,e}He.subscribe((async e=>{if(!0===e)if(Kn(!0,"autoUpdate"),q())R(),S&&clearInterval(S),m(qe,S=setInterval((()=>{A&&R()}),H),S);else{let e=H-((new Date).getTime()-L?.getTime())||0;setTimeout((()=>{!1!==A&&(R(),S&&clearInterval(S),m(qe,S=setInterval((()=>{A&&R()}),H),S))}),e)}else!1===e&&(S&&clearInterval(S),Kn(!1,"autoUpdate"))})),gt.subscribe((e=>{"boolean"==typeof e&&!x&&navigator.onLine&&(m(Be,b=!0,b),In().then((()=>{m(Be,b=!1,b),Nn()})).catch((e=>{m(Be,b=!1,b),m(Ve,i="Something went wrong...",i),console.error(e)})))})),Ke.subscribe((async e=>{if(!0===e)if(Kn(!0,"autoExport"),G())R(),k&&clearInterval(k),m(Ye,k=setInterval((()=>{T&&R()}),H),k);else{let e=H-((new Date).getTime()-$?.getTime())||0;setTimeout((()=>{!1!==T&&(R(),k&&clearInterval(k),m(Ye,k=setInterval((()=>{T&&R()}),H),k))}),e)}else!1===e&&(k&&clearInterval(k),Kn(!1,"autoExport"))})),vt.subscribe((e=>{"boolean"!=typeof e||x||Pn()})),At.subscribe((e=>{"boolean"==typeof e&&(f||m(ht,f=!0,f),N&&clearTimeout(N),m(yt,N=setTimeout((()=>{m(ht,f=!1,f)}),500),N))})),document.addEventListener("visibilitychange",(()=>{x||p||"visible"!==document.visibilityState||(b&&(q()||G())?(R(),T&&!k&&Ke.update((e=>e)),A&&!S&&He.update((e=>e))):b||(m(Be,b=!0,b),In({visibilityChange:!0}).then((()=>m(Be,b=!1,b)))))}));let K=!1;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");let Y=()=>{m(Fe,E=!0,E),window.removeEventListener("wheel",Y)};window.addEventListener("wheel",Y),window.checkEntries=()=>{x||(b&&(q()||G())?(R(),k||Ke.update((e=>e)),S||He.update((e=>e))):b||(m(Be,b=!0,b),In({visibilityChange:!0}).then((()=>m(Be,b=!1,b)))))},window.addEventListener("popstate",(()=>{window.backPressed()}));let J,X,z,Q,ee=!1;window.backPressed=()=>{if(h&&!p)window.history.go(-1);else{if(p||window.history.pushState("visited",""),K)return ce(),n(0,K=!1),void(ee=!1);if(D&&D===document?.activeElement&&window.visualViewport.width<=750)return D?.focus?.(),D?.blur?.(),void(ee=!1);if(v)return m(st,v=!1,v),void(ee=!1);if(g)return m(ut,g=!1,g),void(ee=!1);if(w)return m(at,w=!1,w),void(ee=!1);if(window.checkOpenDropdown?.())return window.closeDropdown?.(),void(ee=!1);if(!ee)return ee=!0,void(y?(O.style.overflow="hidden",O.style.overflow="",O?.children?.[0]?.scrollIntoView?.({container:O,behavior:"smooth",block:"nearest",inline:"start"})):(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",window.scrollTo({top:-9999,behavior:"smooth"})));y?(O.style.overflow="hidden",O.scrollLeft=0,clearTimeout(J),J=setTimeout((()=>{O.style.overflow=""}),100)):(document.documentElement.style.overflow="hidden",document.documentElement.scrollTop=0,document.body.scrollTop=0,window.scrollY=0,clearTimeout(J),J=setTimeout((()=>{document.documentElement.style.overflow=""}),100));try{JSBridge.willExit()}catch(e){}window.setShouldGoBack(!0),ee=!1}},Ze.subscribe((async e=>{await Z(),e?O?.scrollLeft>500&&window.setShouldGoBack(!1):document.documentElement.scrollTop>Math.max(0,O?.offsetTop-55)&&window.setShouldGoBack(!1)})),ut.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),st.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>Math.max(0,O?.offsetTop-55)&&!ee&&window.setShouldGoBack(!1),At.update((e=>!e))})),window.addEventListener("resize",(()=>{})),W((()=>{D=document.getElementById("usernameInput"),O=document.getElementById("anime-grid"),O?.addEventListener("scroll",(()=>{O.scrollLeft>Math.max(0,O?.offsetTop-55)&&!ee&&window.setShouldGoBack(!1),y&&At.update((e=>!e))})),document.getElementById("popup-container").addEventListener("scroll",(()=>{At.update((e=>!e))}))})),window.setShouldGoBack=e=>{if(e||(ee=!1),p)try{JSBridge.setShouldGoBack(e)}catch(e){}else"visited"!==window.history.state&&window.history.pushState("visited",""),m(ft,h=e,h)},window.copyToClipBoard=e=>{if(p)try{JSBridge.copyToClipBoard(e)}catch(e){}else navigator?.clipboard?.writeText?.(e)},mt.subscribe((()=>{clearTimeout(z),X=!0,z=setTimeout((()=>{X=!1}),500)}));let te,ne,oe,ie,le,re,se,ae=!1;function ce(){re?.resolve?.(!1),re=n(1,te=n(2,ne=n(3,oe=n(4,ie=n(5,le=void 0))))),n(0,K=!1)}async function ue(e){if(await o({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,o=n.classList;t=o.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),se&&clearTimeout(se),Dt(t,"fa-spin"),c&&(c.terminate(),m(Ue,c=null,c)),Sn().then((async e=>{m(pt,u=!1,u),se=setTimeout((()=>{Ot(t,"fa-spin")}),300),m(Ue,c=e.animeLoaderWorker,c),m(it,a="",a),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(Me,r=e.hiddenEntries,r),m(lt,l=e.numberOfNextLoadedGrid,l)),m(Ve,i=null,i)})).catch((e=>{throw e}))}}document.addEventListener("pointerdown",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ae=!0,Q&&clearTimeout(Q),Q=setTimeout((()=>{let e=t.getAttribute("copy-value");e&&!f&&ae&&!X&&(t.style.pointerEvents="none",setTimeout((()=>{t.style.pointerEvents=""}),500),window.copyToClipBoard(e))}),500))})),document.addEventListener("pointerup",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ae=!1,Q&&clearTimeout(Q))})),document.addEventListener("pointercancel",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ae=!1,Q&&clearTimeout(Q))})),m(rt,o=window.confirmPromise=async e=>new Promise((t=>{n(1,te=e?.isAlert||!1),n(2,ne=e?.title||(te?"Heads Up":"Confirmation")),n(3,oe=("string"==typeof e?e:e?.text)||"Are you sure you want to continue"),n(4,ie=e?.confirmLabel||"OK"),n(5,le=e?.cancelLabel||"CANCEL"),n(0,K=!0),re={resolve:t}})),o),window.updateAppAlert=async()=>{if(await(o?.({title:"New updates are available",text:"You may want to download the new version.",confirmLabel:"DOWNLOAD"})))try{JSBridge.downloadUpdate()}catch(e){window.open("https://github.com/u-Kuro/Kanshi.Anime-Recommendation/raw/main/Kanshi.apk","_blank")}};let de,fe=0,pe=performance.now();Pe.subscribe((e=>{(e>=100||e<=0||performance.now()-pe>300)&&(cancelAnimationFrame(de),de=requestAnimationFrame((()=>{n(6,fe=e)})),pe=performance.now())}));return[K,te,ne,oe,ie,le,fe,u,function(){re?.resolve?.(!0),re=n(1,te=n(2,ne=n(3,oe=n(4,ie=n(5,le=void 0))))),n(0,K=!1)},ce,ue,e=>"Enter"===e.key&&ue(e)]}var rl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};window.FontAwesomeKitConfig={asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrl:"https://ka-f.fontawesome.com",baseUrlKit:"https://kit.fontawesome.com",detectConflictsUntil:null,iconUploads:{},id:76794169,license:"free",method:"css",minify:{enabled:!0},token:"5a5fa257cb",v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},v5FontFaceShim:{enabled:!0},version:"6.2.0"},function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)),o}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){var n,i;n=e,i=o[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){var n=t&&t.addOn||"",o=(n=t&&t.baseFilename||e.license+n,t&&t.minify?".min":""),i=t&&t.fileSuffix||e.method;return t=t&&t.subdir||e.method,e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/"+t+"/"+n+o+"."+i}function l(e,t){t="."+Array.prototype.join.call(t||["fa"],",."),t=e.querySelectorAll(t),Array.prototype.forEach.call(t,(function(t){var n=t.getAttribute("title"),o=(t.setAttribute("aria-hidden","true"),!t.nextElementSibling||!t.nextElementSibling.classList.contains("sr-only"));n&&o&&((o=e.createElement("span")).innerHTML=n,o.classList.add("sr-only"),t.parentNode.insertBefore(o,t.nextSibling))}))}function r(){}var s,a=void 0!==rl&&void 0!==rl.process&&"function"==typeof rl.process.emit,c="undefined"==typeof setImmediate?setTimeout:setImmediate,u=[];function d(){for(var e=0;e<u.length;e++)u[e][0](u[e][1]);s=!(u=[])}function f(e,t){u.push([e,t]),s||(s=!0,c(d,0))}function p(e){var t=(n=e.owner)._state,n=n._data,o=e[t],i=e.then;if("function"==typeof o){t="fulfilled";try{n=o(n)}catch(e){w(i,e)}}m(i,n)||("fulfilled"===t&&h(i,n),"rejected"===t&&w(i,n))}function m(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===e(n))){var i=n.then;if("function"==typeof i)return i.call(n,(function(e){o||(o=!0,(n===e?y:h)(t,e))}),(function(e){o||(o=!0,w(t,e))})),1}}catch(i){return o||w(t,i),1}}function h(e,t){e!==t&&m(e,t)||y(e,t)}function y(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(v,e))}function w(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(b,e))}function g(e){e._then=e._then.forEach(p)}function v(e){e._state="fulfilled",g(e)}function b(e){e._state="rejected",g(e),!e._handled&&a&&rl.process.emit("unhandledRejection",e._data,e)}function S(e){rl.process.emit("rejectionHandled",e)}function k(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof k==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[];var t=e,n=this;function o(e){w(n,e)}try{t((function(e){h(n,e)}),o)}catch(t){o(t)}}k.prototype={constructor:k,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(r),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&a&&f(S,this)),"fulfilled"===this._state||"rejected"===this._state?f(p,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},k.all=function(e){if(Array.isArray(e))return new k((function(t,n){for(var o,i=[],l=0,r=0;r<e.length;r++)(o=e[r])&&"function"==typeof o.then?o.then(function(e){return l++,function(n){i[e]=n,--l||t(i)}}(r),n):i[r]=o;l||t(i)}));throw new TypeError("You must pass an array to Promise.all().")},k.race=function(e){if(Array.isArray(e))return new k((function(t,n){for(var o,i=0;i<e.length;i++)(o=e[i])&&"function"==typeof o.then?o.then(t,n):t(o)}));throw new TypeError("You must pass an array to Promise.race().")},k.resolve=function(t){return t&&"object"===e(t)&&t.constructor===k?t:new k((function(e){e(t)}))},k.reject=function(e){return new k((function(t,n){n(e)}))};var x,E,A,T,N="function"==typeof Promise?Promise:k;function $(e,t){var n=t.fetch,o=t.XMLHttpRequest,i=(t=t.token,e);return"URLSearchParams"in window?(i=new URL(e)).searchParams.set("token",t):i=i+"?token="+encodeURIComponent(t),i=i.toString(),new N((function(e,t){var l;"function"==typeof n?n(i,{mode:"cors",cache:"default"}).then((function(e){if(e.ok)return e.text();throw new Error("")})).then((function(t){e(t)})).catch(t):"function"==typeof o?((l=new o).addEventListener("loadend",(function(){this.responseText?e(this.responseText):t(new Error(""))})),["abort","error","timeout"].map((function(e){l.addEventListener(e,(function(){t(new Error(""))}))})),l.open("GET",i),l.send()):t(new Error(""))}))}function L(e,t,n){var i=e;return[[/(url\("?)\.\.\/\.\.\/\.\./g,function(e,n){return"".concat(n).concat(t)}],[/(url\("?)\.\.\/webfonts/g,function(e,o){return"".concat(o).concat(t,"/releases/v").concat(n,"/webfonts")}],[/(url\("?)https:\/\/kit-free([^.])*\.fontawesome\.com/g,function(e,n){return"".concat(n).concat(t)}]].forEach((function(e){t=2,e=function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,i=!1,l=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}return n}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t=e[0];e=e[1],i=i.replace(t,e)})),i}function I(e,t,o){o=2<arguments.length&&void 0!==o?o:function(){};var r=t.document||r,s=(r=l.bind(l,r,["fa","fab","fas","far","fal","fad","fak"]),0<Object.keys(e.iconUploads||{}).length);return e.autoA11y.enabled&&o(r),o=[{id:"fa-main",addOn:void 0}],e.v4shim&&e.v4shim.enabled&&o.push({id:"fa-v4-shims",addOn:"-v4-shims"}),e.v5FontFaceShim&&e.v5FontFaceShim.enabled&&o.push({id:"fa-v5-font-face",addOn:"-v5-font-face"}),e.v4FontFaceShim&&e.v4FontFaceShim.enabled&&o.push({id:"fa-v4-font-face",addOn:"-v4-font-face"}),s&&o.push({id:"fa-kit-upload",customCss:!0}),r=o.map((function(o){return new N((function(l,r){$(o.customCss?e.baseUrlKit+"/"+e.token+"/"+e.id+"/kit-upload.css":i(e,{addOn:o.addOn,minify:e.minify.enabled}),t).then((function(i){var r,s,a;l((r=n(n({},t),{},{baseUrl:e.baseUrl,version:e.version,id:o.id,contentFilter:function(e,t){return L(e,t.baseUrl,t.version)}}),s=r.contentFilter||function(e,t){return e},a=document.createElement("style"),s=document.createTextNode(s(i,r)),a.appendChild(s),a.media="all",r.id&&a.setAttribute("id",r.id),r&&r.detectingConflicts&&r.detectionIgnoreAttr&&a.setAttributeNode(document.createAttribute(r.detectionIgnoreAttr)),a))})).catch(r)}))})),N.all(r)}function C(e,t){t.autoA11y=e.autoA11y.enabled,"pro"===e.license&&(t.autoFetchSvg=!0,t.fetchSvgFrom=e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/svgs",t.fetchUploadedSvgFrom=e.uploadsUrl);var o=[];return e.v4shim.enabled&&o.push(new N((function(o,l){$(i(e,{addOn:"-v4-shims",minify:e.minify.enabled}),t).then((function(e){o(P(e,n(n({},t),{},{id:"fa-v4-shims"})))})).catch(l)}))),o.push(new N((function(o,l){$(i(e,{minify:e.minify.enabled}),t).then((function(e){var i,l,r;e=P(e,n(n({},t),{},{id:"fa-main"})),o((l=(i=t)&&void 0!==i.autoFetchSvg?i.autoFetchSvg:void 0,void 0!==(r=i&&void 0!==i.autoA11y?i.autoA11y:void 0)&&e.setAttribute("data-auto-a11y",r?"true":"false"),l&&(e.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),e.setAttribute("data-fetch-svg-from",i.fetchSvgFrom),e.setAttribute("data-fetch-uploaded-svg-from",i.fetchUploadedSvgFrom)),e))})).catch(l)}))),N.all(o)}function P(e,t){var n=document.createElement("SCRIPT");return e=document.createTextNode(e),n.appendChild(e),n.referrerPolicy="strict-origin",t.id&&n.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),n}function F(e){var t,n=[],o=document,i=(o.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);i||o.addEventListener("DOMContentLoaded",t=function(){for(o.removeEventListener("DOMContentLoaded",t),i=1;t=n.shift();)t()}),i?setTimeout(e,0):n.push(e)}try{window.FontAwesomeKitConfig&&(x=window.FontAwesomeKitConfig,E={detectingConflicts:x.detectConflictsUntil&&new Date<=new Date(x.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",fetch:window.fetch,token:x.token,XMLHttpRequest:window.XMLHttpRequest,document:document},A=document.currentScript,T=A?A.parentElement:document.head,function(e,t){return t=1<arguments.length&&void 0!==t?t:{},"js"===(e=0<arguments.length&&void 0!==e?e:{}).method?C(e,t):"css"===e.method?I(e,t,(function(e){F(e),"undefined"!=typeof MutationObserver&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})})):void 0}(x,E).then((function(e){e.map((function(e){try{T.insertBefore(e,A?A.nextSibling:null)}catch(t){T.appendChild(e)}})),E.detectingConflicts&&A&&F((function(){A.setAttributeNode(document.createAttribute(E.detectionIgnoreAttr)),e=x,n=E,t=document.createElement("script"),n.detectionIgnoreAttr&&t.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),t.src=i(e,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:e.minify.enabled});var e,t,n=t;document.body.appendChild(n)}))})).catch((function(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))})))}catch(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))}}();return new class extends Ee{constructor(e){super(),xe(this,e,ll,ol,r,{},null,[-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
