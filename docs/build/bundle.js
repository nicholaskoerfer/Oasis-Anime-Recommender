var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function a(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function c(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function u(e){let t;return c(e,(e=>t=e))(),t}function d(e,t,n){e.$$.on_destroy.push(c(t,n))}function f(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function p(e){return null==e?"":e}function m(e,t,n){return e.set(n),t}function h(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const y="undefined"!=typeof window;let g=y?()=>window.performance.now():()=>Date.now(),w=y?e=>requestAnimationFrame(e):e;const v=new Set;function b(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&w(b)}function S(e){let t;return 0===v.size&&w(b),{promise:new Promise((n=>{v.add(t={c:e,f:n})})),abort(){v.delete(t)}}}function x(e,t){e.appendChild(t)}function k(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function E(e){const t=$("style");return function(e,t){x(e.head||e,t),t.sheet}(k(e),t),t.sheet}function A(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function N(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function $(e){return document.createElement(e)}function L(e){return document.createTextNode(e)}function I(){return L(" ")}function C(){return L("")}function P(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function q(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function F(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function M(e,t){t=""+t,e.data!==t&&(e.data=t)}function D(e,t){e.value=null==t?"":t}function O(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function U(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}const _=new Map;let V,B=0;function j(e,t,n,o,i,r,l,s=0){const a=16.666/o;let c="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*r(e);c+=100*e+`%{${l(o,1-o)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,f=k(e),{stylesheet:p,rules:m}=_.get(f)||function(e,t){const n={stylesheet:E(t),rules:{}};return _.set(e,n),n}(f,e);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${i}ms 1 both`,B+=1,d}function R(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),B-=i,B||w((()=>{B||(_.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&T(t)})),_.clear())})))}function W(e){V=e}function Y(){if(!V)throw new Error("Function called outside component initialization");return V}function H(e){Y().$$.on_mount.push(e)}const X=[],G=[];let K=[];const J=[],z=Promise.resolve();let Q=!1;function Z(){Q||(Q=!0,z.then(re))}function ee(){return Z(),z}function te(e){K.push(e)}const ne=new Set;let oe,ie=0;function re(){if(0!==ie)return;const e=V;do{try{for(;ie<X.length;){const e=X[ie];ie++,W(e),le(e.$$)}}catch(e){throw X.length=0,ie=0,e}for(W(null),X.length=0,ie=0;G.length;)G.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];ne.has(t)||(ne.add(t),t())}K.length=0}while(X.length);for(;J.length;)J.pop()();Q=!1,ne.clear(),W(e)}function le(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}function se(){return oe||(oe=Promise.resolve(),oe.then((()=>{oe=null}))),oe}function ae(e,t,n){e.dispatchEvent(U(`${t?"intro":"outro"}${n}`))}const ce=new Set;let ue;function de(){ue={r:0,c:[],p:ue}}function fe(){ue.r||i(ue.c),ue=ue.p}function pe(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function me(e,t,n,o){if(e&&e.o){if(ce.has(e))return;ce.add(e),ue.c.push((()=>{ce.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const he={duration:0};function ye(n,o,l){const s={direction:"out"};let a,c=o(n,l,s),u=!0;const d=ue;function f(){const{delay:o=0,duration:r=300,easing:l=t,tick:s=e,css:f}=c||he;f&&(a=j(n,1,0,r,o,l,f));const p=g()+o,m=p+r;te((()=>ae(n,!1,"start"))),S((e=>{if(u){if(e>=m)return s(0,1),ae(n,!1,"end"),--d.r||i(d.c),!1;if(e>=p){const t=l((e-p)/r);s(1-t,t)}}return u}))}return d.r+=1,r(c)?se().then((()=>{c=c(s),f()})):f(),{end(e){e&&c.tick&&c.tick(1,0),u&&(a&&R(n,a),u=!1)}}}function ge(n,o,l,s){const a={direction:"both"};let c=o(n,l,a),u=s?0:1,d=null,f=null,p=null;function m(){p&&R(n,p)}function h(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(o){const{delay:r=0,duration:l=300,easing:s=t,tick:a=e,css:y}=c||he,w={start:g()+r,b:o};o||(w.group=ue,ue.r+=1),d||f?f=w:(y&&(m(),p=j(n,u,o,l,r,s,y)),o&&a(0,1),d=h(w,l),te((()=>ae(n,o,"start"))),S((e=>{if(f&&e>f.start&&(d=h(f,l),f=null,ae(n,d.b,"start"),y&&(m(),p=j(n,u,d.b,d.duration,0,s,c.css))),d)if(e>=d.end)a(u=d.b,1-u),ae(n,d.b,"end"),f||(d.b?m():--d.group.r||i(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),a(u,1-u)}return!(!d&&!f)})))}return{run(e){r(c)?se().then((()=>{c=c(a),y(e)})):y(e)},end(){m(),d=f=null}}}function we(e,t){e.d(1),t.delete(e.key)}function ve(e,t){me(e,1,1,(()=>{t.delete(e.key)}))}function be(e,t,n,o,r,l,s,a,c,u,d,f){let p=e.length,m=l.length,h=p;const y={};for(;h--;)y[e[h].key]=h;const g=[],w=new Map,v=new Map,b=[];for(h=m;h--;){const e=f(r,l,h),i=n(e);let a=s.get(i);a?o&&b.push((()=>a.p(e,t))):(a=u(i,e),a.c()),w.set(i,g[h]=a),i in y&&v.set(i,Math.abs(h-y[i]))}const S=new Set,x=new Set;function k(e){pe(e,1),e.m(a,d),s.set(e.key,e),d=e.first,m--}for(;p&&m;){const t=g[m-1],n=e[p-1],o=t.key,i=n.key;t===n?(d=t.first,p--,m--):w.has(i)?!s.has(o)||S.has(o)?k(t):x.has(i)?p--:v.get(o)>v.get(i)?(x.add(o),k(t)):(S.add(i),p--):(c(n,s),p--)}for(;p--;){const t=e[p];w.has(t.key)||c(t,s)}for(;m;)k(g[m-1]);return i(b),g}function Se(e){e&&e.c()}function xe(e,t,o,l){const{fragment:s,after_update:a}=e.$$;s&&s.m(t,o),l||te((()=>{const t=e.$$.on_mount.map(n).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),a.forEach(te)}function ke(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];K.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),K=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ee(t,n,r,l,s,a,c,u=[-1]){const d=V;W(t);const f=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=r?r(t,n.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(X.push(e),Z(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(T)}else f.fragment&&f.fragment.c();n.intro&&pe(t.$$.fragment),xe(t,n.target,n.anchor,n.customElement),re()}W(d)}class Ae{$destroy(){ke(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Te=58;async function Ne(){try{let e=window.location.pathname;e=e.endsWith("/")?e:e+"/",e=e.includes("/index.html")?e.replace("/index.html",""):e;let t=await fetch(`${e}version.json`,{cache:"no-store"});return(await t.json()).version||Te}catch(e){return Te}}const $e=[];function Le(t,n=e){let o;const i=new Set;function r(e){if(l(t,e)&&(t=e,o)){const e=!$e.length;for(const e of i)e[1](),$e.push(e,t);if(e){for(let e=0;e<$e.length;e+=2)$e[e][0]($e[e+1]);$e.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(l,s=e){const a=[l,s];return i.add(a),1===i.size&&(o=n(r)||e),l(t),()=>{i.delete(a),0===i.size&&o&&(o(),o=null)}}}}const Ie=Le(null),Ce=Le(null),Pe=Le(!0),qe=Le(0),Fe=Le(!1),Me=Le(null),De=Le(null),Oe=Le(null),Ue=Le(null),_e=Le(null),Ve=Le(null),Be=Le(null),je=Le(!1),Re=Le(null),We=Le(null),Ye=Le(null),He=Le(null),Xe=Le(null),Ge=Le(null),Ke=Le(null),Je=Le(null),ze=Le([]),Qe=Le(null),Ze=Le(!0),et=Le(null),tt=Le(!1),nt=Le(null),ot=Le(null),it=Le(!1),rt=Le(""),lt=Le(null),st=Le(null),at=Le(!1),ct=Le(!1),ut=Le(null),dt=Le(!1),ft=Le(null),pt=Le(!0),mt=Le(!1),ht=Le(!1),yt=Le(null),gt=Le(null),wt=Le(null),vt=Le(null),bt=Le(null),St=Le(null),xt=Le(null),kt=Le(null),Et=Le(null),At=Le(null),Tt=Le(null),Nt=e=>"[object Object]"===Object.prototype.toString.call(e),$t=e=>{for(const t in e)return!1;return!0};function Lt(e,t){try{let n=Math.floor(e/1e3%60),o=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),r=Math.floor(e/864e5%7),l=Math.floor(e/6048e5%4),s=Math.floor(e/24192e5%12),a=Math.floor(e/290304e5%10),c=Math.floor(e/290304e6%10),u=Math.floor(e/290304e7%10),d=Math.floor(e/290304e8%10),f=[];return d<=0&&u<=0&&c<=0&&a<=0&&s<=0&&l<=0&&r<=0&&i<=0&&o<=0&&n<=0?"0s":(d>0&&f.push(`${d}mil`),c>0&&f.push(`${c}dec`),a>0&&f.push(`${a}y`),s>0&&f.push(`${s}mon`),l>0&&f.push(`${l}w`),r>0&&f.push(`${r}d`),i>0&&f.push(`${i}h`),o>0&&f.push(`${o}m`),n>0&&f.push(`${n}s`),t>0&&(f=f.slice(0,t)),f.join(" "))}catch(e){return}}function It(e,t,n=.5){try{if(!t.length)return null;let i=null;var o=0;let r=e.getBoundingClientRect();return t instanceof HTMLCollection&&(t=Array.from(t)),t?.forEach?.((e=>{let t=e.getBoundingClientRect();var l=(Math.min(t.bottom,r.bottom)-Math.max(t.top,r.top))/t.height;l>o&&(0===n&&l>n||l>=n)&&(o=l,i=e)})),i}catch(e){return}}const Ct=(e,t)=>{try{return Array.from(e.parentElement.children).indexOf(e)}catch(e){return}},Pt=(e,t,n="top",o,i=0)=>{try{let r;if("string"==typeof t&&(t=document.querySelector(t)),e===window){const e=t.getBoundingClientRect(),o=window.scrollY;r="bottom"===n?e.bottom+o-window.innerHeight:"center"===n?e.top+o-window.innerHeight/2:e.top+o}else if("string"==typeof e&&(e=document.querySelector(e)),"bottom"===n)r=t.offsetTop+t.offsetHeight-e.offsetHeight;else if("center"===n){let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();r=n.top+n.height/2-(o.top+o.height/2)+e.scrollTop-o.height/2}else{let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();r=n.top-o.top+e.scrollTop}e===window?"smooth"===o?window.scrollTo({top:r+i,behavior:"smooth"}):window.scrollTo({top:r+i}):"smooth"===o?e.scrollBy({top:r+i,behavior:"smooth"}):e.scrollTop=r+i}catch(e){return}},qt=(e,t=2)=>{if("number"==typeof e){const n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:0,notation:"compact",compactDisplay:"short"});return Math.abs(e)>=1e3?n.format(e):Math.abs(e)<.01?e.toExponential(0):e.toFixed(t)||e.toLocaleString("en-US",{maximumFractionDigits:t})}return null},Ft=(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),Mt=(e,t)=>{let n=Math.max(e.selectionStart-1||0,0);e.value=t,e.setSelectionRange(n,n)},Dt=()=>{try{return JSBridge.exportJSON,!0}catch(e){return!1}};let Ot;const Ut=(e,t)=>{e?.classList?.add?.(t)},_t=(e,t)=>{e?.classList?.remove?.(t)};function Vt(e){const t=e-1;return t*t*t+1}function Bt(e,{delay:n=0,duration:o=400,easing:i=t}={}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:i,css:e=>"opacity: "+e*r}}function jt(e,{delay:t=0,duration:n=400,easing:o=Vt,x:i=0,y:r=0,opacity:l=0}={}){const s=getComputedStyle(e),a=+s.opacity,c="none"===s.transform?"":s.transform,u=a*(1-l),[d,f]=h(i),[p,m]=h(r);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*d}${f}, ${(1-e)*p}${m});\n\t\t\topacity: ${a-u*t}`}}function Rt(e,t,n){const o=e.slice();return o[44]=t[n],o}function Wt(e,t,n){const o=e.slice();return o[44]=t[n],o}function Yt(e,t,n){const o=e.slice();return o[44]=t[n],o}function Ht(e,t,n){const o=e.slice();return o[44]=t[n],o}function Xt(e,t,n){const o=e.slice();return o[49]=t[n],o[50]=t,o[51]=n,o}function Gt(t){let n;return{c(){n=$("div"),n.textContent="No Results",F(n,"class","empty svelte-1bx3mt1")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Kt(t){let n,o,i=Array(21),r=[];for(let e=0;e<i.length;e+=1)r[e]=zt(Wt(t,i,e));let l=Array(5),s=[];for(let e=0;e<l.length;e+=1)s[e]=Qt(Rt(t,l,e));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();n=I();for(let e=0;e<s.length;e+=1)s[e].c();o=C()},m(e,t){for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,t);A(e,n,t);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(e,t);A(e,o,t)},p:e,d(e){N(r,e),e&&T(n),N(s,e),e&&T(o)}}}function Jt(e){let t,n,o,i=[],r=new Map,l=e[9]||[];const s=e=>e[49].id;for(let t=0;t<l.length;t+=1){let n=Xt(e,l,t),o=s(n);r.set(o,i[t]=rn(o,n))}let a=Array(e[8]??un),c=[];for(let t=0;t<a.length;t+=1)c[t]=ln(Ht(e,a,t));let u=Array(e[10]??1?Math.floor((e[0]??1100)/220):5),d=[];for(let t=0;t<u.length;t+=1)d[t]=sn(Yt(e,u,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=I();for(let e=0;e<c.length;e+=1)c[e].c();n=I();for(let e=0;e<d.length;e+=1)d[e].c();o=C()},m(e,r){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,r);A(e,t,r);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,r);A(e,n,r);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(e,r);A(e,o,r)},p(e,f){if(258630&f[0]&&(l=e[9]||[],i=be(i,f,s,1,e,l,r,t.parentNode,we,rn,t,Xt)),912&f[0]){let t;for(a=Array(e[8]??un),t=0;t<a.length;t+=1){const o=Ht(e,a,t);c[t]?c[t].p(o,f):(c[t]=ln(o),c[t].c(),c[t].m(n.parentNode,n))}for(;t<c.length;t+=1)c[t].d(1);c.length=a.length}if(1025&f[0]){let t;for(u=Array(e[10]??1?Math.floor((e[0]??1100)/220):5),t=0;t<u.length;t+=1){const n=Yt(e,u,t);d[t]?d[t].p(n,f):(d[t]=sn(),d[t].c(),d[t].m(o.parentNode,o))}for(;t<d.length;t+=1)d[t].d(1);d.length=u.length}},d(e){for(let t=0;t<i.length;t+=1)i[t].d(e);e&&T(t),N(c,e),e&&T(n),N(d,e),e&&T(o)}}}function zt(t){let n;return{c(){n=$("div"),n.innerHTML='<div class="shimmer svelte-1bx3mt1"></div>',F(n,"class","image-grid__card skeleton svelte-1bx3mt1")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Qt(t){let n;return{c(){n=$("div"),F(n,"class","image-grid__card svelte-1bx3mt1")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Zt(e){let t,n=`${e[49].format||"N/A"}${e[49].episodes?"("+e[49].episodes+")":""}`;return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=`${e[49].format||"N/A"}${e[49].episodes?"("+e[49].episodes+")":""}`)&&M(t,n)},d(e){e&&T(t)}}}function en(e){let t,n=e[2].getSeconds(),o=tn(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),A(e,t,n)},p(e,i){4&i[0]&&l(n,n=e[2].getSeconds())?(o.d(1),o=tn(e),o.c(),o.m(t.parentNode,t)):o.p(e,i)},d(e){e&&T(t),o.d(e)}}}function tn(e){let t,n=`${e[49].format||"N/A"}${fn(e[49].episodes,e[49].nextAiringEpisode)}\n                                        `;return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=`${e[49].format||"N/A"}${fn(e[49].episodes,e[49].nextAiringEpisode)}\n                                        `)&&M(t,n)},d(e){e&&T(t)}}}function nn(e){let t,n=(qt(e[49].weightedScore)||"N/A")+"";return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=(qt(e[49].weightedScore)||"N/A")+"")&&M(t,n)},d(e){e&&T(t)}}}function on(e){let t,n=(e[16](e[49])||"N/A")+"";return{c(){t=L(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=(e[16](e[49])||"N/A")+"")&&M(t,n)},d(e){e&&T(t)}}}function rn(e,t){let n,o,l,s,c,u,d,f,m,h,y,g,w,v,b,S,k,E,N,C,q,D,O,U,_,V,B,j,R,W=(t[49]?.title?.userPreferred||"N/A")+"",Y=t[50],H=t[51];function X(e,t){return 512&t[0]&&(k=null),null==k&&(k=!!Nt(e[49]?.nextAiringEpisode)),k?en:Zt}let G=X(t,[-1,-1]),K=G(t);function J(e,t){return e[1]?on:nn}let z=J(t),Q=z(t);function Z(...e){return t[21](t[51],...e)}function ee(...e){return t[22](t[51],...e)}const te=()=>t[23](n,Y,H),ne=()=>t[23](null,Y,H);return{key:e,first:null,c(){n=$("div"),o=$("div"),l=$("img"),c=I(),u=$("span"),d=$("span"),f=L(W),h=I(),y=$("span"),g=$("div"),w=$("span"),v=$("i"),S=I(),K.c(),N=I(),C=$("div"),q=$("span"),D=$("i"),U=I(),Q.c(),F(l,"loading","lazy"),F(l,"class",p("image-grid__card-thumb fade-out")+" svelte-1bx3mt1"),F(l,"alt","anime-cover"),a(l.src,s=t[49].coverImageUrl||"")||F(l,"src",s),F(d,"class","title copy svelte-1bx3mt1"),F(d,"copy-value",m=t[49]?.title?.userPreferred||""),F(v,"class",b=p(`${t[17](t[49].userStatus)}-color fa-solid fa-circle`)+" svelte-1bx3mt1"),F(g,"class","brief-info svelte-1bx3mt1"),F(g,"date",E=JSON.stringify(t[49]?.nextAiringEpisode)),F(D,"class",O=p(`${dn(t[49])}-color fa-solid fa-star`)+" svelte-1bx3mt1"),F(C,"class","brief-info svelte-1bx3mt1"),F(y,"class","brief-info-wrapper copy svelte-1bx3mt1"),F(y,"copy-value",_=t[49]?.title?.userPreferred||""),F(u,"class","image-grid__card-title svelte-1bx3mt1"),F(o,"class","shimmer svelte-1bx3mt1"),F(o,"tabindex",V=t[6]?"":"0"),F(n,"class","image-grid__card svelte-1bx3mt1"),F(n,"title",B=t[15](t[49])),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,l),x(o,c),x(o,u),x(u,d),x(d,f),x(u,h),x(u,y),x(y,g),x(g,w),x(w,v),x(w,S),K.m(w,null),x(y,N),x(y,C),x(C,q),x(q,D),x(q,U),Q.m(q,null),te(),j||(R=[P(l,"load",t[20]),P(o,"click",(function(){r(t[12](t[51]))&&t[12](t[51]).apply(this,arguments)})),P(o,"pointerdown",Z),P(o,"pointerup",t[14]),P(o,"pointercancel",t[14]),P(o,"keydown",ee)],j=!0)},p(e,i){t=e,512&i[0]&&!a(l.src,s=t[49].coverImageUrl||"")&&F(l,"src",s),512&i[0]&&W!==(W=(t[49]?.title?.userPreferred||"N/A")+"")&&M(f,W),512&i[0]&&m!==(m=t[49]?.title?.userPreferred||"")&&F(d,"copy-value",m),512&i[0]&&b!==(b=p(`${t[17](t[49].userStatus)}-color fa-solid fa-circle`)+" svelte-1bx3mt1")&&F(v,"class",b),G===(G=X(t,i))&&K?K.p(t,i):(K.d(1),K=G(t),K&&(K.c(),K.m(w,null))),512&i[0]&&E!==(E=JSON.stringify(t[49]?.nextAiringEpisode))&&F(g,"date",E),512&i[0]&&O!==(O=p(`${dn(t[49])}-color fa-solid fa-star`)+" svelte-1bx3mt1")&&F(D,"class",O),z===(z=J(t))&&Q?Q.p(t,i):(Q.d(1),Q=z(t),Q&&(Q.c(),Q.m(q,null))),512&i[0]&&_!==(_=t[49]?.title?.userPreferred||"")&&F(y,"copy-value",_),64&i[0]&&V!==(V=t[6]?"":"0")&&F(o,"tabindex",V),512&i[0]&&B!==(B=t[15](t[49]))&&F(n,"title",B),Y===t[50]&&H===t[51]||(ne(),Y=t[50],H=t[51],te())},d(e){e&&T(n),K.d(),Q.d(),ne(),j=!1,i(R)}}}function ln(e){let t,n,o;return{c(){t=$("div"),n=$("div"),F(n,"class","shimmer svelte-1bx3mt1"),F(t,"class",o=p("image-grid__card skeleton anime-loaded-padding "+(e[9]?.length&&!e[7]&&e[4]?"":"disable-interaction"))+" svelte-1bx3mt1")},m(e,o){A(e,t,o),x(t,n)},p(e,n){656&n[0]&&o!==(o=p("image-grid__card skeleton anime-loaded-padding "+(e[9]?.length&&!e[7]&&e[4]?"":"disable-interaction"))+" svelte-1bx3mt1")&&F(t,"class",o)},d(e){e&&T(t)}}}function sn(t){let n;return{c(){n=$("div"),F(n,"class","image-grid__card svelte-1bx3mt1")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function an(t){let n,o,r,l,s;return{c(){n=$("div"),n.innerHTML='<i class="fa-solid fa-arrow-left svelte-1bx3mt1"></i>',F(n,"class","go-back-grid svelte-1bx3mt1"),F(n,"tabindex","0")},m(e,o){A(e,n,o),r=!0,l||(s=[P(n,"click",t[18]),P(n,"keydown",t[26])],l=!0)},p:e,i(e){r||(te((()=>{r&&(o||(o=ge(n,jt,{x:-50,duration:300},!0)),o.run(1))})),r=!0)},o(e){o||(o=ge(n,jt,{x:-50,duration:300},!1)),o.run(0),r=!1},d(e){e&&T(n),e&&o&&o.end(),l=!1,i(s)}}}function cn(e){let t,n,o,i,r,l,s,a;function c(e,t){return e[9]?.length?Jt:!e[9]||e[11]?Kt:Gt}let u=c(e),d=u(e),f=e[10]&&e[3]?.scrollLeft>500&&an(e);return{c(){t=$("main"),n=$("div"),d.c(),i=I(),f&&f.c(),F(n,"id","anime-grid"),F(n,"class",o=p("image-grid "+(e[10]??1?"fullView":"")+(0!==e[9]?.length||e[11]?"":"empty"))+" svelte-1bx3mt1"),O(n,"--anime-grid-height",e[5]+"px"),F(t,"class",r=p(e[10]??1?"fullView":"")+" svelte-1bx3mt1")},m(o,r){A(o,t,r),x(t,n),d.m(n,null),e[24](n),x(t,i),f&&f.m(t,null),l=!0,s||(a=P(n,"wheel",e[25]),s=!0)},p(e,i){u===(u=c(e))&&d?d.p(e,i):(d.d(1),d=u(e),d&&(d.c(),d.m(n,null))),(!l||3584&i[0]&&o!==(o=p("image-grid "+(e[10]??1?"fullView":"")+(0!==e[9]?.length||e[11]?"":"empty"))+" svelte-1bx3mt1"))&&F(n,"class",o),32&i[0]&&O(n,"--anime-grid-height",e[5]+"px"),e[10]&&e[3]?.scrollLeft>500?f?(f.p(e,i),1032&i[0]&&pe(f,1)):(f=an(e),f.c(),pe(f,1),f.m(t,null)):f&&(de(),me(f,1,1,(()=>{f=null})),fe()),(!l||1024&i[0]&&r!==(r=p(e[10]??1?"fullView":"")+" svelte-1bx3mt1"))&&F(t,"class",r)},i(e){l||(pe(f),l=!0)},o(e){me(f),l=!1},d(n){n&&T(t),d.d(),e[24](null),f&&f.d(),s=!1,a()}}}let un=13;function dn({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":e?.semiCaution?.length?"teal":o<t?"purple":o<n?"orange":"green"}function fn(e,t){let n,o;if("number"==typeof t?.episode&&"number"==typeof t?.airingAt){let e=new Date(1e3*t?.airingAt);o=t?.episode,e instanceof Date&&!isNaN(e)&&(n=e.getTime()-(new Date).getTime())}if(n>0&&o>1&&e>o)return`(${o-1}/${e})`;if(n<=0&&"number"==typeof o&&e>o)return`(${o}/${e})`;if("number"==typeof e)return`(${e})`;if("number"==typeof o){if(n>0&&o>1)return`(${o-1}")`;if(n<=0)return`(${o}")`}return""}function pn(e,t,n){let o,i,r,l,s,a,c,u,f,p,h,y,g,w,v,b,S,x,k;d(e,Oe,(e=>n(1,i=e))),d(e,Ue,(e=>n(19,r=e))),d(e,ct,(e=>n(32,l=e))),d(e,ut,(e=>n(33,s=e))),d(e,dt,(e=>n(6,a=e))),d(e,ft,(e=>n(34,c=e))),d(e,Ve,(e=>n(35,u=e))),d(e,tt,(e=>n(36,f=e))),d(e,it,(e=>n(7,p=e))),d(e,wt,(e=>n(37,h=e))),d(e,nt,(e=>n(38,y=e))),d(e,lt,(e=>n(8,g=e))),d(e,_e,(e=>n(9,w=e))),d(e,Be,(e=>n(39,v=e))),d(e,ot,(e=>n(40,b=e))),d(e,xt,(e=>n(41,S=e))),d(e,et,(e=>n(10,x=e))),d(e,Ze,(e=>n(11,k=e)));let E,A,T=window.visualViewport.height,N=new Date,$=!1;H((()=>{n(0,T=window.visualViewport.height),n(3,E=E||document.getElementById("anime-grid")),window.addEventListener("resize",(()=>{n(0,T=window.visualViewport.height)})),setInterval((()=>{n(2,N=new Date)}),1e3)}));let L,I,C,P=!1;function q(e){m(ft,c=e,c),m(dt,a=!0,a)}function F(e,t){let n=e.target;n.classList.contains("copy")||n.closest(".copy")||(C&&clearTimeout(C),C=setTimeout((()=>{m(ut,s=t,s),m(ct,l=!0,l)}),500))}function M(){n(3,E),n(3,E),E?.children?.[0]?.scrollIntoView?.({container:E,behavior:"smooth",block:"nearest",inline:"start"})}window.checkAnimeLoaderStatus=m(tt,f=async()=>{if(u instanceof Worker&&"function"==typeof u.onmessage)return new Promise(((e,t)=>{L={resolve:e,reject:t},u?.postMessage?.({checkStatus:!0}),clearTimeout(I),I=setTimeout((()=>{t()}),1e3)})).catch((()=>{m(Ve,u=null,u),m(_e,w=null,w),m(xt,S=!S,S),L=null})).finally((()=>{L=null}))},f),Ve.subscribe((e=>{e instanceof Worker&&(e.onmessage=async({data:e})=>{if(L?.resolve&&e?.isAlive&&(L?.resolve?.(),L=null),await ee(),void 0!==e?.status)m(Be,v=e.status,v);else if(e.finalAnimeList instanceof Array)!0===e?.reload?(m(_e,w=e.finalAnimeList,w),P=!0,m(lt,g=e.numberOfNextLoadedGrid,g)):!0===e.isNew?(m(_e,w=e.finalAnimeList,w),m(lt,g=e.numberOfNextLoadedGrid,g)):!1===e.isNew&&(w instanceof Array&&(m(_e,w=w.concat(e.finalAnimeList),w),e.isLast&&(m(it,p=!0,p),y instanceof IntersectionObserver&&(y.disconnect(),m(nt,y=null,y)))),m(lt,g=e.numberOfNextLoadedGrid,g));else if(!0===e.isRemoved&&"number"==typeof e.removedID){let t=Math.max(w.length-2,0),n=w[t].gridElement||E.children?.[t];y instanceof IntersectionObserver&&n instanceof Element&&y.observe(n);let o=w.findIndex((({id:t})=>t===e.removedID));m(_e,w=w.filter((({id:t})=>t!==e.removedID)),w),o>=0&&m(ot,b=o,b),m(lt,g=e.numberOfNextLoadedGrid,g)}},e.onerror=e=>{m(Be,v="Something went wrong...",v),console.error(e)})})),_e.subscribe((async e=>{if(e instanceof Array&&e.length){p&&m(it,p=!1,p),y&&(y.disconnect(),m(nt,y=null,y)),await ee(),A=!1,m(nt,y=new IntersectionObserver((e=>{p||e.forEach((e=>{if(e.isIntersecting){if(n(4,$=!0),A)return;A=!0,setTimeout((()=>{u instanceof Worker&&f().then((()=>{u?.postMessage?.({loadMore:!0})})),A=!1}),1e3)}}))}),{root:null,rootMargin:"100%",threshold:[0,1]}),y);let e=w.length-1,t=w[e].gridElement||E.children?.[e];y instanceof IntersectionObserver&&(t instanceof Element&&y.observe(t),document.querySelectorAll(".anime-loaded-padding").forEach((e=>{y.observe(e)}))),P&&(m(wt,h=!h,h),P=!1),n(4,$=!1)}else m(lt,g=null,g),y&&(y?.disconnect?.(),m(nt,y=null,y)),P&&(m(wt,h=!h,h),P=!1),n(4,$=!1)})),rt.subscribe((async e=>{"string"==typeof e&&u instanceof Worker&&(m(it,p=!1,p),f().then((()=>{u?.postMessage?.({filterKeyword:e})})))}));return e.$$.update=()=>{524291&e.$$.dirty[0]&&n(5,o=(r?.[i?.filterSelection?.[i?.filterSelection?.findIndex((({isSelected:e})=>e))]?.filterSelectionName]||[]).length?T:T+50)},[T,i,N,E,$,o,a,p,g,w,x,k,q,F,function(){C&&clearTimeout(C)},function({contentCaution:e,sortedFavoriteContents:t,meanScoreAll:n,meanScoreAbove:o,score:i}){let r=[];t?.forEach((e=>{"string"==typeof e&&r.push(e)}));let l=[];i<n?l.push(`Very Low Score (mean: ${qt(n)})`):i<o&&l.push(`Low Score (mean: ${qt(o)})`),l=l.concat(e?.caution||[]).concat(e?.semiCaution||[]);let s="";return r.length&&(s+="Favorite Contents: "+r.join(", ")||""),l.length&&(s+="\n\nContent Cautions: "+l.join(", ")),s},function({weightedScore:e,score:t,averageScore:n,userScore:o}){let r=i?.sortFilter.filter((({sortType:e})=>"none"!==e))?.[0]?.sortName;return"score"===r?qt(t):"user score"===r?o:"average score"===r?n:qt(e)},function(e){return Ft(e,"completed")?"green":Ft(e,"current")||Ft(e,"repeating")?"blue":Ft(e,"planning")?"orange":Ft(e,"paused")?"peach":Ft(e,"dropped")?"red":"lightgrey"},M,r,e=>{_t(e.target,"fade-out"),Ut(e.target?.closest?.(".shimmer"),"loaded")},(e,t)=>F(t,e),(e,t)=>"Enter"===t.key&&q(e),function(e,t,n){G[e?"unshift":"push"]((()=>{t[n].gridElement=e}))},function(e){G[e?"unshift":"push"]((()=>{E=e,n(3,E)}))},e=>(x??!0)&&function(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}(e,"image-grid"),e=>"Enter"===e.key&&M()]}let mn={};const hn=e=>new Promise((async t=>{if(Dt())t(e);else{let n=u(Ie);n||(n=await Ne(),Ie.set(n)),mn[e=e+"?v="+n]?t(mn[e]):fetch(e,{headers:{"Cache-Control":"max-age=31536000, immutable"}}).then((e=>e.blob())).then((n=>{let o=URL.createObjectURL(n);mn[e]=o,t(o)})).catch((async()=>{t(e)}))}}));let yn,gn,wn,vn=1e3,bn=!1,Sn=!1;const xn=(e={})=>new Promise(((t,n)=>{bn=!0,qe.set(0),hn("./webapi/worker/animeLoader.js").then((o=>{wn&&(wn.terminate(),wn=null),e?.filterOptions&&e?.activeTagFilters?(yn=e?.filterOptions,gn=e?.activeTagFilters,e.hasPassedFilters=!0):yn&&gn&&(e.filterOptions=yn,e.activeTagFilters=gn,e.hasPassedFilters=!0),wn=new Worker(o),wn.postMessage(e),wn.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?e?.progress>=0&&e?.progress<=100&&qe.set(e.progress):e?.hasOwnProperty("status")?(bn=!0,Be.set(e.status)):e?.isNew&&(!0===e?.hasPassedFilters&&(yn=gn=void 0),bn=!1,wn.onmessage=null,qe.set(100),t(Object.assign({},e,{animeLoaderWorker:wn})))},wn.onerror=e=>{qe.set(100),n(e)}})).catch((e=>{qe.set(100),Xn(),n(e)}))}));let kn,En;const An=(e={})=>new Promise(((t,n)=>{bn=!0,En&&En.terminate(),qe.set(0),hn("./webapi/worker/processRecommendedAnimeList.js").then((o=>{kn&&clearTimeout(kn),e?.filterOptions&&e?.activeTagFilters?(yn=e?.filterOptions,gn=e?.activeTagFilters,e.hasPassedFilters=!0):yn&&gn&&(e.filterOptions=yn,e.activeTagFilters=gn,e.hasPassedFilters=!0),En=new Worker(o),En.postMessage(e),En.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?e?.progress>=0&&e?.progress<=100&&qe.set(e.progress):e?.hasOwnProperty("status")?(bn=!0,Be.set(e.status)):(!0===e?.hasPassedFilters&&(yn=gn=void 0),bn=!1,kn=setTimeout((()=>{En.terminate()}),vn),qe.set(100),t())},En.onerror=e=>{qe.set(100),n(e)}})).catch((e=>{qe.set(100),Xn(),n(e)}))}));let Tn,Nn;const $n=e=>new Promise(((t,n)=>{Nn&&Nn.terminate(),qe.set(0),hn("./webapi/worker/requestAnimeEntries.js").then((o=>{Nn=new Worker(o),Tn&&clearTimeout(Tn),Nn.postMessage(e),Nn.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?!bn&&e?.progress>=0&&e?.progress<=100&&qe.set(e.progress):e?.hasOwnProperty("status")?bn||Be.set(e.status):void 0!==e?.updateRecommendationList?kt.update((e=>!e)):e?.lastRunnedAutoUpdateDate instanceof Date&&!isNaN(e?.lastRunnedAutoUpdateDate)?He.set(e.lastRunnedAutoUpdateDate):(void 0!==e?.errorDuringInit||(Tn=setTimeout((()=>{Nn.terminate()}),vn),qe.set(100)),t(e))},Nn.onerror=e=>{qe.set(100),n(e)}})).catch((e=>{qe.set(100),Xn(),n(e)}))}));let Ln,In;const Cn=e=>new Promise(((t,n)=>{u(Ze)||(Sn||u(je))&&(Re.set(!1),window.confirmPromise({isAlert:!0,text:"Getting user entries is terminated, currently importing/exporting..."})),In&&In.terminate(),qe.set(0),hn("./webapi/worker/requestUserEntries.js").then((o=>{In=new Worker(o),Ln&&clearTimeout(Ln),In.postMessage(e),In.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?!bn&&e?.progress>=0&&e?.progress<=100&&qe.set(e.progress):e?.hasOwnProperty("status")?bn||(Be.set(e.status),"User not found"===e.status&&(Re.set(!1),At.update((e=>!e)),window.confirmPromise({isAlert:!0,text:"User is not found, you may want to try again..."}),Ln=setTimeout((()=>{In.terminate()}),vn),qe.set(100),n(e))):e?.error?(Re.set(!1),At.update((e=>!e)),Ln=setTimeout((()=>{In.terminate()}),vn),qe.set(100),n(e)):void 0!==e?.updateRecommendationList?kt.update((e=>!e)):(Re.set(!1),Ln=setTimeout((()=>{In.terminate()}),vn),qe.set(100),t(e))},In.onerror=e=>{Re.set(!1),At.update((e=>!e)),Ln=setTimeout((()=>{In.terminate()}),vn),qe.set(100),n(e)}})).catch((e=>{Re.set(!1),qe.set(100),At.update((e=>!e)),Xn(),n(e)}))}));let Pn;const qn=e=>new Promise(((e,t)=>{if(!u(Ze)){if(u(je))return;Hn(),Sn=!0}Pn&&Pn.terminate(),qe.set(0),hn("./webapi/worker/exportUserData.js").then((n=>{Pn=new Worker(n),Dt()?Pn.postMessage("android"):Pn.postMessage("browser"),Pn.onmessage=({data:t})=>{if(t?.hasOwnProperty("progress"))t?.progress>=0&&t?.progress<=100&&qe.set(t.progress);else if(t?.hasOwnProperty("status"))bn=!0,Be.set(t.status);else if(Dt()){bn=!1;let n=t.chunk,o=t.state;if(0===o)JSBridge.exportJSON("",0,"");else if(1===o)JSBridge.exportJSON(n,1,"");else if(2===o){let o=t.username??null;JSBridge.exportJSON(n,2,`Kanshi.${o?.toLowerCase()||"Backup"}.json`),qe.set(100),Pn.terminate(),Sn=!1,e(t)}}else{bn=!1;let n=t.username??null;qe.set(100),((e,t)=>{Ot&&setTimeout((()=>URL.revokeObjectURL(Ot)),0),Ot=e;const n=document.createElement("a");n.href=e,n.download=t,n.click()})(t.url,`Kanshi.${n?.toLowerCase()||"Backup"}.json`),Sn=!1,e(t)}},Pn.onerror=e=>{qe.set(100),Sn=!1,window.confirmPromise?.({isAlert:!0,title:"Export Failed",text:"Data is not exported, please try again in a later time."}),t(e)}})).catch((e=>{qe.set(100),Sn=!1,Xn(),t(e)}))}));let Fn,Mn;const Dn=e=>new Promise(((t,n)=>{hn("./webapi/worker/getIDBdata.js").then((o=>{let i=new Worker(o);i.postMessage({name:e}),i.onmessage=({data:e})=>{e?.hasOwnProperty("status")?Be.set(e.status):(i.terminate(),t(e))},i.onerror=e=>{n(e)}})).catch((()=>{Xn(),n(error)}))})),On=(e,t)=>new Promise(((n,o)=>{hn("./webapi/worker/saveIDBdata.js").then((i=>{let r=new Worker(i);r.onmessage=({data:e})=>{e?.hasOwnProperty("status")?Be.set(e.status):(setTimeout((()=>{r.terminate(),r=null}),vn),n())},r.onerror=e=>{o(e)},r.postMessage({data:e,name:t})})).catch((e=>{Xn(),o(e)}))}));let Un,_n;let Vn,Bn;let jn,Rn,Wn;const Yn=e=>new Promise(((t,n)=>{Rn=setInterval((()=>{_n||Bn||Be.set("Getting Filters")}),300),hn("./webapi/worker/getFilterOptions.js").then((o=>{Rn&&(clearInterval(Rn),Rn=null),Wn&&Wn.terminate(),Wn=new Worker(o),jn&&clearTimeout(jn),Wn.postMessage(e),Wn.onmessage=({data:e})=>{e?.hasOwnProperty("status")?(bn=!0,Be.set(e.status)):(bn=!1,jn=setTimeout((()=>{Wn.terminate()}),vn),t(e))},Wn.onerror=e=>{n(e)}})).catch((e=>{Rn&&(clearInterval(Rn),Rn=null),Be.set(null),Xn(),n(e)}))}));function Hn(){qe.set(0),Nn?.terminate?.(),In?.terminate?.(),Re.set(!1),Mn?.terminate?.(),je.set(!1),Pn?.terminate?.(),Sn=!1,Wn?.terminate?.(),clearInterval(_n),_n=null,clearInterval(Bn),Bn=null,clearInterval(Rn),Rn=null,Be.set(null)}function Xn(){Dt()?window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}):window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."})}function Gn(e,t){return new Promise((async(n,o)=>{await On(e,t).then((e=>{n(e)})).catch((e=>{o(e)}))}))}async function Kn(e){return new Promise((async(t,n)=>{await Dn(e).then((e=>{t(e)})).catch((e=>{n(e)}))}))}function Jn(e,t,n){const o=e.slice();return o[105]=t[n],o[106]=t,o[107]=n,o}function zn(e,t,n){const o=e.slice();return o[108]=t[n].caution,o[109]=t[n].cautionColor,o}function Qn(e,t,n){const o=e.slice();return o[112]=t[n].tag,o[113]=t[n].tagColor,o}function Zn(e,t,n){const o=e.slice();return o[116]=t[n].genre,o[117]=t[n].genreColor,o}function eo(e,t,n){const o=e.slice();return o[120]=t[n].studio,o[121]=t[n].studioColor,o}function to(e){let t,n,o,i=[],r=new Map,l=e[9]||[];const s=e=>e[105].id;for(let t=0;t<l.length;t+=1){let n=Jn(e,l,t),o=s(n);r.set(o,i[t]=Co(o,n))}let a=e[9]?.length&&!e[12]&&Po();return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=I(),a&&a.c(),n=C()},m(e,r){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,r);A(e,t,r),a&&a.m(e,r),A(e,n,r),o=!0},p(e,o){134205145&o[0]&&(l=e[9]||[],de(),i=be(i,o,s,1,e,l,r,t.parentNode,ve,Co,t,Jn),fe()),e[9]?.length&&!e[12]?a||(a=Po(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){if(!o){for(let e=0;e<l.length;e+=1)pe(i[e]);o=!0}},o(e){for(let e=0;e<i.length;e+=1)me(i[e]);o=!1},d(e){for(let t=0;t<i.length;t+=1)i[t].d(e);e&&T(t),a&&a.d(e),e&&T(n)}}}function no(e){let t;return{c(){t=$("div"),F(t,"class","trailer display-none")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function oo(e){let t,n,o,i;return{c(){t=$("img"),F(t,"loading","lazy"),a(t.src,n=e[105].bannerImageUrl)||F(t,"src",n),F(t,"alt","bannerImg"),F(t,"class","bannerImg fade-out svelte-riqio7")},m(n,r){A(n,t,r),o||(i=P(t,"load",e[32]),o=!0)},p(e,o){512&o[0]&&!a(t.src,n=e[105].bannerImageUrl)&&F(t,"src",n)},d(e){e&&T(t),o=!1,i()}}}function io(e){let t;function n(e,t){return e[105].bannerImageUrl?lo:ro}let o=n(e),i=o(e);return{c(){i.c(),t=C()},m(e,n){i.m(e,n),A(e,t,n)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&T(t)}}}function ro(e){let t,n,o,i;return{c(){t=$("img"),F(t,"loading","lazy"),a(t.src,n=e[105].coverImageUrl)||F(t,"src",n),F(t,"alt","coverImg"),F(t,"class","coverImg fade-out svelte-riqio7")},m(n,r){A(n,t,r),o||(i=P(t,"load",e[34]),o=!0)},p(e,o){512&o[0]&&!a(t.src,n=e[105].coverImageUrl)&&F(t,"src",n)},d(e){e&&T(t),o=!1,i()}}}function lo(e){let t,n,o,i;return{c(){t=$("img"),F(t,"loading","lazy"),a(t.src,n=e[105].coverImageUrl)||F(t,"src",n),F(t,"alt","coverImg"),F(t,"class","coverImg display-none fade-out svelte-riqio7")},m(n,r){A(n,t,r),o||(i=P(t,"load",e[33]),o=!0)},p(e,o){512&o[0]&&!a(t.src,n=e[105].coverImageUrl)&&F(t,"src",n)},d(e){e&&T(t),o=!1,i()}}}function so(e){let t,n,o,r,l,s=Uo(e[105]?.description)+"";return{c(){t=$("div"),n=$("div"),F(n,"class","anime-description svelte-riqio7"),F(t,"class","anime-description-container copy display-none fade-out svelte-riqio7"),F(t,"copy-value",o=Oo(e[105]?.description)),O(t,"--showDescPercent",e[6])},m(o,i){A(o,t,i),x(t,n),n.innerHTML=s,r||(l=[P(t,"click",e[26]),P(t,"keydown",e[35])],r=!0)},p(e,i){512&i[0]&&s!==(s=Uo(e[105]?.description)+"")&&(n.innerHTML=s),512&i[0]&&o!==(o=Oo(e[105]?.description))&&F(t,"copy-value",o),64&i[0]&&O(t,"--showDescPercent",e[6])},d(e){e&&T(t),r=!1,i(l)}}}function ao(e){let t,n,o,r,l,s,a,c,u,d=e[3]>=350?"List Update Available":e[3]>=283?"Update Available":e[3]>=236?"Available":"";return{c(){t=$("div"),n=$("i"),o=I(),r=$("h3"),l=L(d),F(n,"class","list-update-icon fa-solid fa-arrows-rotate svelte-riqio7"),F(r,"class","list-update-label svelte-riqio7"),F(t,"class","list-update-container svelte-riqio7"),F(t,"tabindex","0")},m(i,s){A(i,t,s),x(t,n),x(t,o),x(t,r),x(r,l),a=!0,c||(u=[P(t,"click",e[19]),P(t,"keydown",e[40])],c=!0)},p(e,t){(!a||8&t[0])&&d!==(d=e[3]>=350?"List Update Available":e[3]>=283?"Update Available":e[3]>=236?"Available":"")&&M(l,d)},i(e){a||(te((()=>{a&&(s||(s=ge(t,jt,{x:-50,duration:300},!0)),s.run(1))})),a=!0)},o(e){s||(s=ge(t,jt,{x:-50,duration:300},!1)),s.run(0),a=!1},d(e){e&&T(t),e&&s&&s.end(),c=!1,i(u)}}}function co(e){let t,n;return{c(){t=$("i"),F(t,"class",n=p("cursor-default fa-solid fa-circle "+e[20](e[105].userStatus)+"-color")+" svelte-riqio7")},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=p("cursor-default fa-solid fa-circle "+e[20](e[105].userStatus)+"-color")+" svelte-riqio7")&&F(t,"class",n)},d(e){e&&T(t)}}}function uo(e){let t,n,o,r;return{c(){t=$("i"),F(t,"class",n=p("fa-duotone fa-circle-info "+e[20](e[105].userStatus)+"-color")+" svelte-riqio7"),F(t,"tabindex","0")},m(n,i){A(n,t,i),o||(r=[P(t,"click",e[25]),P(t,"keydown",e[41])],o=!0)},p(e,o){512&o[0]&&n!==(n=p("fa-duotone fa-circle-info "+e[20](e[105].userStatus)+"-color")+" svelte-riqio7")&&F(t,"class",n)},d(e){e&&T(t),o=!1,i(r)}}}function fo(e){let t,n,o,i,r,l;function s(e,t){return e[105]?.nextAiringEpisode?.airingAt?mo:po}let a=s(e),c=a(e);return{c(){t=$("div"),n=$("div"),n.textContent="Format",o=I(),i=$("div"),c.c(),F(n,"class","info-categ svelte-riqio7"),F(i,"class",p("format-popup info not-capitalize")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(s,a){A(s,t,a),x(t,n),x(t,o),x(t,i),c.m(i,null),r||(l=P(i,"wheel",e[42]),r=!0)},p(e,t){a===(a=s(e))&&c?c.p(e,t):(c.d(1),c=a(e),c&&(c.c(),c.m(i,null))),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t),c.d(),r=!1,l()}}}function po(e){let t,n,o,i=(e[24](e[105])||"N/A")+"";return{c(){t=$("span"),n=L(i),F(t,"class","copy svelte-riqio7"),F(t,"copy-value",o=e[24](e[105])||"")},m(e,o){A(e,t,o),x(t,n)},p(e,r){512&r[0]&&i!==(i=(e[24](e[105])||"N/A")+"")&&M(n,i),512&r[0]&&o!==(o=e[24](e[105])||"")&&F(t,"copy-value",o)},d(e){e&&T(t)}}}function mo(e){let t,n=e[0].getSeconds(),o=ho(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),A(e,t,n)},p(e,i){1&i[0]&&l(n,n=e[0].getSeconds())?(o.d(1),o=ho(e),o.c(),o.m(t.parentNode,t)):o.p(e,i)},d(e){e&&T(t),o.d(e)}}}function ho(e){let t,n,o,i=(e[24](e[105])||"N/A")+"";return{c(){t=$("span"),n=L(i),F(t,"class","copy svelte-riqio7"),F(t,"copy-value",o=e[24](e[105])||"")},m(e,o){A(e,t,o),x(t,n)},p(e,r){512&r[0]&&i!==(i=(e[24](e[105])||"N/A")+"")&&M(n,i),512&r[0]&&o!==(o=e[24](e[105])||"")&&F(t,"copy-value",o)},d(e){e&&T(t)}}}function yo(e){let t,n,o,i,r,l,s=[],a=new Map,c=e[22](Object.entries(e[105].studios||{}),e[105]?.favoriteContents?.studios);const u=e=>e[120];for(let t=0;t<c.length;t+=1){let n=eo(e,c,t),o=u(n);a.set(o,s[t]=go(o,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Studio",o=I(),i=$("div");for(let e=0;e<s.length;e+=1)s[e].c();F(n,"class","info-categ svelte-riqio7"),F(i,"class",p("studio-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(a,c){A(a,t,c),x(t,n),x(t,o),x(t,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);r||(l=P(i,"wheel",e[43]),r=!0)},p(e,t){4194816&t[0]&&(c=e[22](Object.entries(e[105].studios||{}),e[105]?.favoriteContents?.studios),s=be(s,t,u,1,e,c,a,i,we,go,null,eo)),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<s.length;e+=1)s[e].d();r=!1,l()}}}function go(e,t){let n,o,i,r,l,s,a,c=(t[120].studioName||"N/A")+"";return{key:e,first:null,c(){n=$("span"),o=$("a"),i=L(c),s=I(),F(o,"class",r=p(t[121]?`${t[121]}-color`:"")+" svelte-riqio7"),F(o,"rel","noopener noreferrer"),F(o,"target","_blank"),F(o,"href",l=t[120].studioUrl||""),F(n,"class",p("copy")+" svelte-riqio7"),F(n,"copy-value",a=t[120].studioName||""),this.first=n},m(e,t){A(e,n,t),x(n,o),x(o,i),x(n,s)},p(e,s){t=e,512&s[0]&&c!==(c=(t[120].studioName||"N/A")+"")&&M(i,c),512&s[0]&&r!==(r=p(t[121]?`${t[121]}-color`:"")+" svelte-riqio7")&&F(o,"class",r),512&s[0]&&l!==(l=t[120].studioUrl||"")&&F(o,"href",l),512&s[0]&&a!==(a=t[120].studioName||"")&&F(n,"copy-value",a)},d(e){e&&T(n)}}}function wo(e){let t,n,o,i,r,l,s=[],a=new Map,c=e[23](e[105].genres,e[105]?.favoriteContents?.genres,e[105].contentCaution);const u=e=>e[116];for(let t=0;t<c.length;t+=1){let n=Zn(e,c,t),o=u(n);a.set(o,s[t]=vo(o,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Genres",o=I(),i=$("div");for(let e=0;e<s.length;e+=1)s[e].c();F(n,"class","info-categ svelte-riqio7"),F(i,"class",p("genres-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(a,c){A(a,t,c),x(t,n),x(t,o),x(t,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);r||(l=P(i,"wheel",e[44]),r=!0)},p(e,t){8389120&t[0]&&(c=e[23](e[105].genres,e[105]?.favoriteContents?.genres,e[105].contentCaution),s=be(s,t,u,1,e,c,a,i,we,vo,null,Zn)),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<s.length;e+=1)s[e].d();r=!1,l()}}}function vo(e,t){let n,o,i,r,l,s=(t[116]||"N/A")+"";return{key:e,first:null,c(){n=$("span"),o=L(s),i=I(),F(n,"class",r=p("copy "+(t[117]?`${t[117]}-color`:""))+" svelte-riqio7"),F(n,"copy-value",l=t[116]||""),this.first=n},m(e,t){A(e,n,t),x(n,o),x(n,i)},p(e,i){t=e,512&i[0]&&s!==(s=(t[116]||"N/A")+"")&&M(o,s),512&i[0]&&r!==(r=p("copy "+(t[117]?`${t[117]}-color`:""))+" svelte-riqio7")&&F(n,"class",r),512&i[0]&&l!==(l=t[116]||"")&&F(n,"copy-value",l)},d(e){e&&T(n)}}}function bo(e){let t,n,o,i,r,l,s=[],a=new Map,c=e[21](e[105].tags,e[105]?.favoriteContents?.tags,e[105].contentCaution);const u=e=>e[112];for(let t=0;t<c.length;t+=1){let n=Qn(e,c,t),o=u(n);a.set(o,s[t]=So(o,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Tags",o=I(),i=$("div");for(let e=0;e<s.length;e+=1)s[e].c();F(n,"class","info-categ svelte-riqio7"),F(i,"class",p("tags-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(a,c){A(a,t,c),x(t,n),x(t,o),x(t,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);r||(l=P(i,"wheel",e[45]),r=!0)},p(e,t){2097664&t[0]&&(c=e[21](e[105].tags,e[105]?.favoriteContents?.tags,e[105].contentCaution),s=be(s,t,u,1,e,c,a,i,we,So,null,Qn)),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<s.length;e+=1)s[e].d();r=!1,l()}}}function So(e,t){let n,o,i,r,l,s=(t[112]||"N/A")+"";return{key:e,first:null,c(){n=$("span"),o=L(s),i=I(),F(n,"class",r=p("copy "+(t[113]?`${t[113]}-color`:""))+" svelte-riqio7"),F(n,"copy-value",l=t[112]||""),this.first=n},m(e,t){A(e,n,t),x(n,o),x(n,i)},p(e,i){t=e,512&i[0]&&s!==(s=(t[112]||"N/A")+"")&&M(o,s),512&i[0]&&r!==(r=p("copy "+(t[113]?`${t[113]}-color`:""))+" svelte-riqio7")&&F(n,"class",r),512&i[0]&&l!==(l=t[112]||"")&&F(n,"copy-value",l)},d(e){e&&T(n)}}}function xo(e){let t,n,o,i,r,l,s=[],a=new Map,c=e[18](e[105])||[];const u=e=>e[108];for(let t=0;t<c.length;t+=1){let n=zn(e,c,t),o=u(n);a.set(o,s[t]=ko(o,n))}return{c(){t=$("div"),n=$("div"),n.textContent="Content Cautions",o=I(),i=$("div");for(let e=0;e<s.length;e+=1)s[e].c();F(n,"class","info-categ svelte-riqio7"),F(i,"class",p("content-caution-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(a,c){A(a,t,c),x(t,n),x(t,o),x(t,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);r||(l=P(i,"wheel",e[46]),r=!0)},p(e,t){262656&t[0]&&(c=e[18](e[105])||[],s=be(s,t,u,1,e,c,a,i,we,ko,null,zn)),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<s.length;e+=1)s[e].d();r=!1,l()}}}function ko(e,t){let n,o,i,r,l,s=(t[108]||"N/A")+"";return{key:e,first:null,c(){n=$("span"),o=L(s),i=I(),F(n,"class",r=p(t[109]+"-color copy")+" svelte-riqio7"),F(n,"copy-value",l=t[108]||""),this.first=n},m(e,t){A(e,n,t),x(n,o),x(n,i)},p(e,i){t=e,512&i[0]&&s!==(s=(t[108]||"N/A")+"")&&M(o,s),512&i[0]&&r!==(r=p(t[109]+"-color copy")+" svelte-riqio7")&&F(n,"class",r),512&i[0]&&l!==(l=t[108]||"")&&F(n,"copy-value",l)},d(e){e&&T(n)}}}function Eo(e){let t,n,o,i,r,l,s,a,c,u=(e[105].averageScore??"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Average Score",o=I(),i=$("div"),r=$("span"),l=L(u),F(n,"class","info-categ svelte-riqio7"),F(r,"class","copy svelte-riqio7"),F(r,"copy-value",s=e[105].averageScore??""),F(i,"class",p("average-score-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(s,u){A(s,t,u),x(t,n),x(t,o),x(t,i),x(i,r),x(r,l),a||(c=P(i,"wheel",e[47]),a=!0)},p(e,t){512&t[0]&&u!==(u=(e[105].averageScore??"N/A")+"")&&M(l,u),512&t[0]&&s!==(s=e[105].averageScore??"")&&F(r,"copy-value",s),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t),a=!1,c()}}}function Ao(e){let t,n,o,i,r,l,s,a,c,u=(e[105].popularity||"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Popularity",o=I(),i=$("div"),r=$("span"),l=L(u),F(n,"class","info-categ svelte-riqio7"),F(r,"class","copy svelte-riqio7"),F(r,"copy-value",s=e[105].popularity??""),F(i,"class",p("popularity-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(s,u){A(s,t,u),x(t,n),x(t,o),x(t,i),x(i,r),x(r,l),a||(c=P(i,"wheel",e[48]),a=!0)},p(e,t){512&t[0]&&u!==(u=(e[105].popularity||"N/A")+"")&&M(l,u),512&t[0]&&s!==(s=e[105].popularity??"")&&F(r,"copy-value",s),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t),a=!1,c()}}}function To(e){let t,n,o,i,r,l,s,a,c,u=(`${e[105]?.season||""}${e[105]?.year?" "+e[105].year:""}`||"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Season Year",o=I(),i=$("div"),r=$("span"),l=L(u),F(n,"class","info-categ svelte-riqio7"),F(r,"class","copy svelte-riqio7"),F(r,"copy-value",s=`${e[105]?.season||""}${e[105]?.year?" "+e[105].year:""}`||""),F(i,"class",p("season-year-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(s,u){A(s,t,u),x(t,n),x(t,o),x(t,i),x(i,r),x(r,l),a||(c=P(i,"wheel",e[49]),a=!0)},p(e,t){512&t[0]&&u!==(u=(`${e[105]?.season||""}${e[105]?.year?" "+e[105].year:""}`||"N/A")+"")&&M(l,u),512&t[0]&&s!==(s=`${e[105]?.season||""}${e[105]?.year?" "+e[105].year:""}`||"")&&F(r,"copy-value",s),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t),a=!1,c()}}}function No(e){let t,n,o,i,r,l,s,a,c,u=(e[105].status||"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Airing Status",o=I(),i=$("div"),r=$("span"),l=L(u),F(n,"class","info-categ svelte-riqio7"),F(r,"class","copy svelte-riqio7"),F(r,"copy-value",s=e[105].status||""),F(i,"class",p("status-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(s,u){A(s,t,u),x(t,n),x(t,o),x(t,i),x(i,r),x(r,l),a||(c=P(i,"wheel",e[50]),a=!0)},p(e,t){512&t[0]&&u!==(u=(e[105].status||"N/A")+"")&&M(l,u),512&t[0]&&s!==(s=e[105].status||"")&&F(r,"copy-value",s),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t),a=!1,c()}}}function $o(e){let t,n,o,i,r,l,s,a,c,u,d=(e[105].userStatus||"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="User Status",o=I(),i=$("div"),r=$("span"),l=L(d),F(n,"class","info-categ svelte-riqio7"),F(r,"class",s=p("copy "+e[20](e[105].userStatus)+"-color")+" svelte-riqio7"),F(r,"copy-value",a=e[105].userStatus||""),F(i,"class",p("user-status-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(s,a){A(s,t,a),x(t,n),x(t,o),x(t,i),x(i,r),x(r,l),c||(u=P(i,"wheel",e[51]),c=!0)},p(e,t){512&t[0]&&d!==(d=(e[105].userStatus||"N/A")+"")&&M(l,d),512&t[0]&&s!==(s=p("copy "+e[20](e[105].userStatus)+"-color")+" svelte-riqio7")&&F(r,"class",s),512&t[0]&&a!==(a=e[105].userStatus||"")&&F(r,"copy-value",a),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t),c=!1,u()}}}function Lo(e){let t,n,o,i,r,l,s,a,c,u=(e[105].userScore??"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="User Score",o=I(),i=$("div"),r=$("span"),l=L(u),F(n,"class","info-categ svelte-riqio7"),F(r,"class","copy svelte-riqio7"),F(r,"copy-value",s=e[105].userScore??""),F(i,"class",p("user-score-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(s,u){A(s,t,u),x(t,n),x(t,o),x(t,i),x(i,r),x(r,l),a||(c=P(i,"wheel",e[52]),a=!0)},p(e,t){512&t[0]&&u!==(u=(e[105].userScore??"N/A")+"")&&M(l,u),512&t[0]&&s!==(s=e[105].userScore??"")&&F(r,"copy-value",s),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t),a=!1,c()}}}function Io(e){let t,n,o,i,r,l,s,a,c,u=(qt(e[105].score)??"N/A")+"";return{c(){t=$("div"),n=$("div"),n.textContent="Score",o=I(),i=$("div"),r=$("span"),l=L(u),F(n,"class","info-categ svelte-riqio7"),F(r,"class","copy svelte-riqio7"),F(r,"copy-value",s=e[105].score??""),F(i,"class",p("score-popup info")+" svelte-riqio7"),O(i,"overflow",e[7]?"hidden":"")},m(s,u){A(s,t,u),x(t,n),x(t,o),x(t,i),x(i,r),x(r,l),a||(c=P(i,"wheel",e[53]),a=!0)},p(e,t){512&t[0]&&u!==(u=(qt(e[105].score)??"N/A")+"")&&M(l,u),512&t[0]&&s!==(s=e[105].score??"")&&F(r,"copy-value",s),128&t[0]&&O(i,"overflow",e[7]?"hidden":"")},d(e){e&&T(t),a=!1,c()}}}function Co(e,t){let n,o,l,s,a,c,u,d,f,m,h,y,g,w,v,b,S,k,E,N,C,q,D,U,_,V,B,j,R,W,Y,H,X,G,K,J,z,Q,Z,ee,te,ne,oe,ie,re,le,se,ae,ce,ue,he,ye,ge,we,ve,be=t[106],Se=t[107],xe=(t[105]?.title?.userPreferred||"N/A")+"",ke=t[24](t[105]),Ee=Object.entries(t[105]?.studios||{}).length,Ae=t[18](t[105]).length,Te=null!=qt(t[105].score),Ne=(t[14](t[105].id)||"N/A")+"",$e="See "+(t[105].isSeenMore?"Less":"More"),Le=t[105].trailerID&&no(),Ie=t[105].bannerImageUrl&&oo(t),Ce=t[105].coverImageUrl&&io(t),Pe=t[105]?.description&&so(t);const qe=()=>t[36](l,be,Se),Fe=()=>t[36](null,be,Se);let Me=t[11]&&ao(t);function De(e,t){return e[105]?.description?uo:co}let Oe=De(t),Ue=Oe(t),_e=ke&&fo(t),Ve=Ee&&yo(t),Be=t[105].genres.length&&wo(t),je=t[105]?.tags?.length&&bo(t),Re=Ae&&xo(t),We=null!=t[105].averageScore&&Eo(t),Ye=null!=t[105].popularity&&Ao(t),He=(t[105]?.season||t[105]?.year)&&To(t),Xe=t[105].status&&No(t),Ge=t[105].userStatus&&$o(t),Ke=null!=t[105].userScore&&Lo(t),Je=Te&&Io(t);function ze(...e){return t[54](t[105],...e)}function Qe(...e){return t[55](t[105],...e)}const Ze=()=>t[56](n,be,Se),et=()=>t[56](null,be,Se);return{key:e,first:null,c(){n=$("div"),o=$("div"),l=$("div"),s=$("div"),s.innerHTML='<i class="fa-solid fa-k fa-fade svelte-riqio7"></i>',a=I(),Le&&Le.c(),c=I(),u=$("div"),Ie&&Ie.c(),d=I(),Ce&&Ce.c(),f=I(),Pe&&Pe.c(),h=I(),y=$("div"),g=$("div"),w=$("label"),v=$("input"),b=I(),S=$("span"),k=I(),E=$("h3"),E.textContent="Auto Play",N=I(),Me&&Me.c(),C=I(),q=$("div"),D=$("div"),U=$("a"),_=L(xe),R=I(),Ue.c(),W=I(),Y=$("div"),_e&&_e.c(),H=I(),Ve&&Ve.c(),X=I(),Be&&Be.c(),G=I(),je&&je.c(),K=I(),Re&&Re.c(),J=I(),We&&We.c(),z=I(),Ye&&Ye.c(),Q=I(),He&&He.c(),Z=I(),Xe&&Xe.c(),ee=I(),Ge&&Ge.c(),te=I(),Ke&&Ke.c(),ne=I(),Je&&Je.c(),ie=I(),re=$("div"),le=$("button"),se=L(Ne),ae=I(),ce=$("button"),ce.textContent="YT Videos",ue=I(),he=$("button"),ye=L($e),F(s,"class","popup-header-loading svelte-riqio7"),F(u,"class","popup-img svelte-riqio7"),F(l,"class",m=p("popup-header "+(t[105].trailerID?"loader":""))+" svelte-riqio7"),F(v,"type","checkbox"),F(v,"class","autoplayToggle svelte-riqio7"),F(S,"class","slider round svelte-riqio7"),F(S,"tabindex","0"),F(w,"class","switch svelte-riqio7"),F(E,"class","autoplay-label svelte-riqio7"),F(g,"class","autoPlay-container svelte-riqio7"),F(y,"class","popup-controls svelte-riqio7"),F(U,"rel","noopener noreferrer"),F(U,"target","_blank"),F(U,"href",V=t[105].animeUrl||""),F(U,"class",B=p(Mo(t[105])+"-color anime-title copy")+" svelte-riqio7"),F(U,"copy-value",j=t[105]?.title?.userPreferred||""),O(U,"overflow",t[7]?"hidden":""),F(D,"class","anime-title-container svelte-riqio7"),O(D,"overflow",t[7]?"hidden":""),F(Y,"class",oe=p("info-list "+(t[105].isSeenMore?"seenmore":""))+" svelte-riqio7"),O(Y,"--windowWidth",t[3]+"px"),O(Y,"--windowHeight",t[4]+"px"),F(le,"class","hideshowbtn svelte-riqio7"),F(ce,"class","morevideos svelte-riqio7"),F(he,"class","seemoreless svelte-riqio7"),O(he,"overflow",t[7]?"hidden":""),F(re,"class","footer svelte-riqio7"),F(q,"class","popup-body svelte-riqio7"),F(o,"class","popup-main svelte-riqio7"),F(n,"class","popup-content svelte-riqio7"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,l),x(l,s),x(l,a),Le&&Le.m(l,null),x(l,c),x(l,u),Ie&&Ie.m(u,null),x(u,d),Ce&&Ce.m(u,null),x(l,f),Pe&&Pe.m(l,null),qe(),x(o,h),x(o,y),x(y,g),x(g,w),x(w,v),v.checked=t[10],x(w,b),x(w,S),x(g,k),x(g,E),x(y,N),Me&&Me.m(y,null),x(o,C),x(o,q),x(q,D),x(D,U),x(U,_),x(D,R),Ue.m(D,null),x(q,W),x(q,Y),_e&&_e.m(Y,null),x(Y,H),Ve&&Ve.m(Y,null),x(Y,X),Be&&Be.m(Y,null),x(Y,G),je&&je.m(Y,null),x(Y,K),Re&&Re.m(Y,null),x(Y,J),We&&We.m(Y,null),x(Y,z),Ye&&Ye.m(Y,null),x(Y,Q),He&&He.m(Y,null),x(Y,Z),Xe&&Xe.m(Y,null),x(Y,ee),Ge&&Ge.m(Y,null),x(Y,te),Ke&&Ke.m(Y,null),x(Y,ne),Je&&Je.m(Y,null),x(q,ie),x(q,re),x(re,le),x(le,se),x(re,ae),x(re,ce),x(re,ue),x(re,he),x(he,ye),Ze(),ge=!0,we||(ve=[P(l,"click",t[25]),P(l,"keydown",t[37]),P(v,"change",t[38]),P(S,"keydown",t[39]),P(le,"click",(function(){r(t[15](t[105].id))&&t[15](t[105].id).apply(this,arguments)})),P(le,"keydown",ze),P(ce,"click",(function(){r(t[16](t[105].title))&&t[16](t[105].title).apply(this,arguments)})),P(ce,"keydown",Qe),P(he,"click",(function(){r(t[17](t[105],t[107]))&&t[17](t[105],t[107]).apply(this,arguments)})),P(he,"keydown",_o)],we=!0)},p(e,n){(t=e)[105].trailerID?Le||(Le=no(),Le.c(),Le.m(l,c)):Le&&(Le.d(1),Le=null),t[105].bannerImageUrl?Ie?Ie.p(t,n):(Ie=oo(t),Ie.c(),Ie.m(u,d)):Ie&&(Ie.d(1),Ie=null),t[105].coverImageUrl?Ce?Ce.p(t,n):(Ce=io(t),Ce.c(),Ce.m(u,null)):Ce&&(Ce.d(1),Ce=null),t[105]?.description?Pe?Pe.p(t,n):(Pe=so(t),Pe.c(),Pe.m(l,null)):Pe&&(Pe.d(1),Pe=null),(!ge||512&n[0]&&m!==(m=p("popup-header "+(t[105].trailerID?"loader":""))+" svelte-riqio7"))&&F(l,"class",m),be===t[106]&&Se===t[107]||(Fe(),be=t[106],Se=t[107],qe()),1024&n[0]&&(v.checked=t[10]),t[11]?Me?(Me.p(t,n),2048&n[0]&&pe(Me,1)):(Me=ao(t),Me.c(),pe(Me,1),Me.m(y,null)):Me&&(de(),me(Me,1,1,(()=>{Me=null})),fe()),(!ge||512&n[0])&&xe!==(xe=(t[105]?.title?.userPreferred||"N/A")+"")&&M(_,xe),(!ge||512&n[0]&&V!==(V=t[105].animeUrl||""))&&F(U,"href",V),(!ge||512&n[0]&&B!==(B=p(Mo(t[105])+"-color anime-title copy")+" svelte-riqio7"))&&F(U,"class",B),(!ge||512&n[0]&&j!==(j=t[105]?.title?.userPreferred||""))&&F(U,"copy-value",j),128&n[0]&&O(U,"overflow",t[7]?"hidden":""),Oe===(Oe=De(t))&&Ue?Ue.p(t,n):(Ue.d(1),Ue=Oe(t),Ue&&(Ue.c(),Ue.m(D,null))),128&n[0]&&O(D,"overflow",t[7]?"hidden":""),512&n[0]&&(ke=t[24](t[105])),ke?_e?_e.p(t,n):(_e=fo(t),_e.c(),_e.m(Y,H)):_e&&(_e.d(1),_e=null),512&n[0]&&(Ee=Object.entries(t[105]?.studios||{}).length),Ee?Ve?Ve.p(t,n):(Ve=yo(t),Ve.c(),Ve.m(Y,X)):Ve&&(Ve.d(1),Ve=null),t[105].genres.length?Be?Be.p(t,n):(Be=wo(t),Be.c(),Be.m(Y,G)):Be&&(Be.d(1),Be=null),t[105]?.tags?.length?je?je.p(t,n):(je=bo(t),je.c(),je.m(Y,K)):je&&(je.d(1),je=null),512&n[0]&&(Ae=t[18](t[105]).length),Ae?Re?Re.p(t,n):(Re=xo(t),Re.c(),Re.m(Y,J)):Re&&(Re.d(1),Re=null),null!=t[105].averageScore?We?We.p(t,n):(We=Eo(t),We.c(),We.m(Y,z)):We&&(We.d(1),We=null),null!=t[105].popularity?Ye?Ye.p(t,n):(Ye=Ao(t),Ye.c(),Ye.m(Y,Q)):Ye&&(Ye.d(1),Ye=null),t[105]?.season||t[105]?.year?He?He.p(t,n):(He=To(t),He.c(),He.m(Y,Z)):He&&(He.d(1),He=null),t[105].status?Xe?Xe.p(t,n):(Xe=No(t),Xe.c(),Xe.m(Y,ee)):Xe&&(Xe.d(1),Xe=null),t[105].userStatus?Ge?Ge.p(t,n):(Ge=$o(t),Ge.c(),Ge.m(Y,te)):Ge&&(Ge.d(1),Ge=null),null!=t[105].userScore?Ke?Ke.p(t,n):(Ke=Lo(t),Ke.c(),Ke.m(Y,ne)):Ke&&(Ke.d(1),Ke=null),512&n[0]&&(Te=null!=qt(t[105].score)),Te?Je?Je.p(t,n):(Je=Io(t),Je.c(),Je.m(Y,null)):Je&&(Je.d(1),Je=null),(!ge||512&n[0]&&oe!==(oe=p("info-list "+(t[105].isSeenMore?"seenmore":""))+" svelte-riqio7"))&&F(Y,"class",oe),8&n[0]&&O(Y,"--windowWidth",t[3]+"px"),16&n[0]&&O(Y,"--windowHeight",t[4]+"px"),(!ge||512&n[0])&&Ne!==(Ne=(t[14](t[105].id)||"N/A")+"")&&M(se,Ne),(!ge||512&n[0])&&$e!==($e="See "+(t[105].isSeenMore?"Less":"More"))&&M(ye,$e),128&n[0]&&O(he,"overflow",t[7]?"hidden":""),be===t[106]&&Se===t[107]||(et(),be=t[106],Se=t[107],Ze())},i(e){ge||(pe(Me),ge=!0)},o(e){me(Me),ge=!1},d(e){e&&T(n),Le&&Le.d(),Ie&&Ie.d(),Ce&&Ce.d(),Pe&&Pe.d(),Fe(),Me&&Me.d(),Ue.d(),_e&&_e.d(),Ve&&Ve.d(),Be&&Be.d(),je&&je.d(),Re&&Re.d(),We&&We.d(),Ye&&Ye.d(),He&&He.d(),Xe&&Xe.d(),Ge&&Ge.d(),Ke&&Ke.d(),Je&&Je.d(),et(),we=!1,i(ve)}}}function Po(e){let t;return{c(){t=$("div"),t.innerHTML='<i class="popup-content-loading-icon fa-solid fa-k fa-fade svelte-riqio7"></i>',F(t,"class","popup-content-loading svelte-riqio7")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function qo(e){let t,n,o,i,r,l;return{c(){t=$("div"),n=$("div"),o=$("i"),F(o,"class","fa-solid fa-arrow-left svelte-riqio7"),F(n,"class",i=p("go-back-grid"+(e[5]>=100?" willGoBack":""))+" svelte-riqio7"),F(t,"class","go-back-grid-highlight svelte-riqio7"),O(t,"--scale",Math.max(1,.01*(e[5]??1)*2)),O(t,"--position","-"+(100-(e[5]??0))+"%")},m(e,i){A(e,t,i),x(t,n),x(n,o),l=!0},p(e,o){(!l||32&o[0]&&i!==(i=p("go-back-grid"+(e[5]>=100?" willGoBack":""))+" svelte-riqio7"))&&F(n,"class",i),32&o[0]&&O(t,"--scale",Math.max(1,.01*(e[5]??1)*2)),32&o[0]&&O(t,"--position","-"+(100-(e[5]??0))+"%")},i(e){l||(r&&r.end(1),l=!0)},o(e){r=ye(t,jt,{x:-176,duration:1e3}),l=!1},d(e){e&&T(t),e&&r&&r.end()}}}function Fo(e){let t,n,o,r,l,s,a,c=e[9]?.length&&to(e),u=e[8]&&e[7]&&qo(e);return{c(){t=$("div"),n=$("div"),c&&c.c(),o=I(),u&&u.c(),r=C(),F(n,"id","popup-container"),F(n,"class","popup-container hide svelte-riqio7"),O(n,"--translateX",e[3]+"px"),O(n,"--translateY",e[4]+"px"),F(t,"id","popup-wrapper"),F(t,"class","popup-wrapper svelte-riqio7")},m(i,d){A(i,t,d),x(t,n),c&&c.m(n,null),e[57](n),e[59](t),A(i,o,d),u&&u.m(i,d),A(i,r,d),l=!0,s||(a=[P(n,"touchstart",e[28]),P(n,"touchmove",e[29]),P(n,"touchend",e[30]),P(n,"touchcancel",e[31],{passive:!0}),P(n,"scroll",e[27]),P(t,"click",e[13]),P(t,"keydown",e[58])],s=!0)},p(e,t){e[9]?.length?c?(c.p(e,t),512&t[0]&&pe(c,1)):(c=to(e),c.c(),pe(c,1),c.m(n,null)):c&&(de(),me(c,1,1,(()=>{c=null})),fe()),8&t[0]&&O(n,"--translateX",e[3]+"px"),16&t[0]&&O(n,"--translateY",e[4]+"px"),e[8]&&e[7]?u?(u.p(e,t),384&t[0]&&pe(u,1)):(u=qo(e),u.c(),pe(u,1),u.m(r.parentNode,r)):u&&(de(),me(u,1,1,(()=>{u=null})),fe())},i(e){l||(pe(c),pe(u),l=!0)},o(e){me(c),me(u),l=!1},d(n){n&&T(t),c&&c.d(),e[57](null),e[59](null),n&&T(o),u&&u.d(n),n&&T(r),s=!1,i(a)}}}function Mo({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":e?.semiCaution?.length?"teal":o<t?"purple":o<n?"orange":"green"}function Do(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}function Oo(e){let t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}function Uo(e){let t=document.createElement("span");t.innerHTML=e;let n=t.querySelectorAll("a");return Array.from(n).forEach((e=>{e?.setAttribute("rel","noopener noreferrer"),e?.setAttribute("target","_blank")})),t.innerHTML}const _o=e=>"Enter"===e.key;function Vo(e,t,n){let o,i,r,l,s,a,c,u,f,p,h,y,g,w,v,b,S,x,k,E;d(e,ht,(e=>n(7,o=e))),d(e,dt,(e=>n(8,i=e))),d(e,Be,(e=>n(83,r=e))),d(e,ze,(e=>n(84,l=e))),d(e,kt,(e=>n(85,s=e))),d(e,_e,(e=>n(9,a=e))),d(e,Ze,(e=>n(86,c=e))),d(e,Ce,(e=>n(87,u=e))),d(e,Qe,(e=>n(10,f=e))),d(e,Pe,(e=>n(88,p=e))),d(e,lt,(e=>n(89,h=e))),d(e,De,(e=>n(90,y=e))),d(e,rt,(e=>n(91,g=e))),d(e,Ve,(e=>n(92,w=e))),d(e,mt,(e=>n(11,v=e))),d(e,st,(e=>n(93,b=e))),d(e,nt,(e=>n(94,S=e))),d(e,ft,(e=>n(95,x=e))),d(e,tt,(e=>n(96,k=e))),d(e,it,(e=>n(12,E=e)));let A,T=window.navigator.onLine,N=u?100:50;(async()=>{N=await Kn("savedYtVolume")||N})();let $,L,I,C,P,q,F,M,D,O=window.visualViewport.width,U=window.visualViewport.height,_={};function V(e){let t=e.target,n=t.classList;t.closest(".popup-container")||n.contains("popup-container")||m(dt,i=!1,i)}async function B(e){y[e]?await b("Are you sure you want to show the anime?")&&(delete y[e],De.set(y),a.length&&w instanceof Worker&&k().then((()=>{w.postMessage({removeID:e})}))):await b("Are you sure you want to hide the anime?")&&(m(De,y[e]=!0,y),a.length&&w instanceof Worker&&k().then((()=>{w.postMessage({removeID:e})})))}async function j(e){let t;Nt(e)?t=e?.userPreferred||e?.romaji||e?.english||e?.native:"string"==typeof e&&(t=e),"string"==typeof t&&""!==t&&window.open(`https://www.youtube.com/results?search_query=${t} Anime`,"_blank")}async function R(){if(!i)return;await ee();let e,t=L?.querySelector?.(".trailer"),n=Ct(L?.closest?.(".popup-content"))??-1;if(M&&clearTimeout(M),M=setTimeout((()=>{if(!i)return;let e=a?.[n]?.gridElement||$.children?.[n];i&&e instanceof Element&&!function(e,t,n=0){try{var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=getComputedStyle(e).overflowX,l=getComputedStyle(e).overflowY;if("auto"===r||"scroll"===r||"auto"===l||"scroll"===l){var s=e.scrollLeft,a=e.scrollTop,c=o.top>=i.top&&o.left>=i.left&&o.bottom<=i.bottom&&o.right<=i.right;if(c||(c=(Math.max(o.top,i.top)-Math.min(o.bottom,i.bottom))*(Math.max(o.left,i.left)-Math.min(o.right,i.right))/(Math.min(o.height,window.innerHeight)*Math.min(o.width,window.innerWidth))>=n),!c)return!1;o={top:o.top-i.top+a,left:o.left-i.left+s,bottom:o.bottom-i.top+a,right:o.right-i.left+s,height:o.height,width:o.width}}var u=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth;return o.top>=0&&o.left>=0&&o.bottom<=u&&o.right<=d}catch(e){return}}($,e,.5)&&(window.scrollY=window.scrollY,window.scrollX=window.scrollX,e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),300),t instanceof Element&&(e=l?.some((({ytPlayer:e})=>e.g===t))),e){if(n>=0){I=n;let e=[[a?.[n+1],n+1],[a?.[n-1],n-1]];D&&clearTimeout(D),D=setTimeout((async()=>{i&&e.forEach((([e,t])=>{e&&X(e,t)}))}),300)}for(let e=0;e<l.length;e++)l[e].ytPlayer.g===t&&1!==l[e].ytPlayer?.getPlayerState?.()&&f?(await ee(),P?.classList?.contains?.("visible")&&p&&(K(l[e].ytPlayer),l[e].ytPlayer?.playVideo?.())):l[e].ytPlayer.g!==t&&l[e].ytPlayer?.pauseVideo?.()}else if(l?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),n>=0){I=n;let e=[[a?.[n],n],[a?.[n+1],n+1],[a?.[n-1],n-1]];D&&clearTimeout(D),D=setTimeout((async()=>{i&&e.forEach((([e,t])=>{e&&X(e,t)}))}),300)}}ot.subscribe((async e=>{if(i&&e>=0){await ee();let t=q?.children[e];t instanceof Element&&q instanceof Element&&Pt(q,t,"top")}})),De.subscribe((async e=>{Nt(e)&&await Gn(e,"hiddenEntries")})),dt.subscribe((async e=>{if(P instanceof Element&&q instanceof Element)if(!0===e){O>=750?q.style.setProperty("--translateX",O+"px"):q.style.setProperty("--translateY",U+"px");let e=q?.children[x??I??0];if(e instanceof Element){Pt(q,e,"top","instant"),Ut(P,"visible"),Ut(q,"show"),I=x;let t,n=[[a[x],x],[a[x+1],x+1],[a[x-1],x-1]],o=n[0][0]?.popupHeader?.querySelector?.(".trailer")||q?.children?.[x]?.querySelector?.(".trailer");for(let e=0;e<l.length;e++)if(l[e].ytPlayer.g===o&&(t=!0,f)){await ee(),P?.classList?.contains?.("visible")&&p&&(K(l[e].ytPlayer),l[e].ytPlayer?.playVideo?.());break}n.forEach((([e,n],o)=>{t&&e&&0===o||e&&X(e,n)})),m(ft,x=null,x)}else Ut(P,"visible"),Ut(q,"show")}else!1===e&&(_t(q,"show"),Ut(q,"hide"),setTimeout((()=>{l?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),_t(P,"visible")}),300))})),_e.subscribe((async e=>{if(e instanceof Array&&e.length){F&&(F?.disconnect?.(),F=null),await ee(),F=new IntersectionObserver((e=>{if(!i)return;let t=[];if(e.forEach((e=>{if(!i)return;let n=e.target;e.isIntersecting&&(e.intersectionRatio>=.5||U<=360&&e.intersectionRatio>0)&&t.push(n)})),t.length){let e=It(q,t,U>360?.5:0)||It(q,q.children,0)?.getElementsByClassName("popup-header")?.[0];L=e,R()}}),{root:null,rootMargin:"100%",threshold:[.5,0]}),e.forEach((async(e,t)=>{let n=e.popupHeader||q.children?.[t]?.querySelector?.(".popup-header");n instanceof Element&&F?.observe?.(n)}));let t=a[a.length-1].popupContent||q.children?.[a.length-1];S&&t instanceof Element&&S.observe(t),R()}else e instanceof Array&&e.length<1&&m(dt,i=!1,i)})),Qe.subscribe((async e=>{if("boolean"==typeof e)if(await Gn(e,"autoPlay"),!0===e){await ee();let e=L?.querySelector?.(".trailer");for(let t=0;t<l.length;t++)l[t].ytPlayer.g===e&&p?(K(l[t].ytPlayer),l[t].ytPlayer?.playVideo?.()):l[t].ytPlayer?.pauseVideo?.()}else l.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()}))})),H((()=>{setInterval((()=>{n(0,A=new Date)}),1e3),n(1,P=P||document.getElementById("popup-wrapper")),n(2,q=q||P.querySelector("#popup-container")),$=document.getElementById("anime-grid"),window.addEventListener("resize",(()=>{document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||(n(3,O=window.visualViewport.width),n(4,U=window.visualViewport.height))})),document.addEventListener("keydown",(async e=>{if(" "===e.key&&i){e.preventDefault();let t=L?.querySelector?.(".trailer"),n=l?.some((({ytPlayer:e})=>t===e.g&&1===e?.getPlayerState?.()));if(l.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()})),!n){await ee();for(let e=0;e<l.length;e++)if(l[e].ytPlayer.g===t&&p){K(l[e].ytPlayer),l[e].ytPlayer?.playVideo?.();break}}}else e.ctrlKey&&"x"===e.key?.toLowerCase?.()?(e.preventDefault(),m(dt,i=!i,i)):e.ctrlKey&&"k"===e.key?.toLowerCase?.()&&(e.preventDefault(),m(Qe,f=!f,f))}))}));let W,Y={};function X(e,t){let n=e?.popupHeader||q.children?.[t]?.querySelector(".popup-header"),o=n?.querySelector?.(".trailer")||n?.querySelector?.(".trailer"),r=e?.trailerID;if(o instanceof Element&&r&&"undefined"!=typeof YT){if(l.some((({ytPlayer:e})=>e.g===o)))return;Ut(n,"loader");let s=n?.querySelector?.(".popup-img");if(e?.bannerImageUrl&&!Y[e.id]){let e=s.querySelector(".coverImg");Ut(e,"display-none"),Ut(e,"fade-out")}if(l.length>=3){let e=0,t=-1/0;l.forEach(((n,o)=>{if(-1===n.headerIdx)return;let i=Math.abs(n.headerIdx-I);i>t&&(t=i,e=o)}));let i=l?.splice?.(e,1)?.[0]?.ytPlayer,r=i?.g?.closest?.(".popup-header");i?.destroy?.();let a=r?.querySelector?.(".popup-img");a instanceof Element&&_t(a,"display-none");let c=document.createElement("div");c.className="trailer",Ut(o,"display-none"),_t(s,"display-none"),n.replaceChild(c,o),Ut(o,"display-none"),o=n.querySelector(".trailer")}else Ut(o,"display-none");_t(s,"display-none"),o.setAttribute("id","yt-player"+Date.now()+Math.random());let c=new YT.Player(o,{playerVars:{cc_lang_pref:"en",cc_load_policy:1,enablejsapi:1,modestbranding:1,playsinline:1,playlist:r,rel:0},events:{onReady:e=>{!async function(e){let t=e.target,n=t?.g,o=n?.parentElement,i=o?.closest?.(".popup-content"),r=a?.[Ct(i)??-1];if(-1!==t.getPlayerState()&&"IFRAME"===n.tagName&&T){if(n?.setAttribute?.("loading","lazy"),!f){let e=o?.querySelector?.(".popup-img");Ut(e,"fade-out"),_t(o,"loader"),_t(n,"display-none"),setTimeout((()=>{Ut(e,"display-none"),_t(e,"fade-out")}),300)}R(),delete Y[r.id]}else{Y[r.id]=!0,m(ze,l=l.filter((e=>e.ytPlayer!==t)),l),t.destroy(),Ut(n,"display-none"),_t(o,"loader");let e=o?.querySelector?.(".popup-img"),i=e.querySelector(".coverImg");Ut(i,"fade-out"),_t(i,"fade-in"),Ut(i,"fade-in"),_t(i,"display-none"),_t(i,"fade-out"),_t(e,"display-none")}}(e)},onStateChange:e=>{!function(e){let t=e.target;if(!t||!t?.getPlayerState)return;let n=t?.g,o=n?.parentElement,r=o?.querySelector?.(".popup-img");if(0===t?.getPlayerState?.()){t?.stopVideo?.();let e=o?.closest?.(".popup-content"),n=a?.[Ct(e)??-1]?.id;null!=n&&(_[n]&&(clearTimeout(_[n]),_[n]=null),_[n]=setTimeout((()=>{L===o&&5===t?.getPlayerState?.()&&t.g&&p&&i&&f&&t?.playVideo?.()}),8e3))}1!==t?.getPlayerState?.()||!n?.classList?.contains?.("display-none")&&r?.classList?.contains?.("display-none")||(l?.forEach((({ytPlayer:e})=>e?.g!==t?.g&&e?.pauseVideo?.())),C=t,Ut(r,"fade-out"),_t(o,"loader"),_t(n,"display-none"),setTimeout((()=>{Ut(r,"display-none"),_t(r,"fade-out")}),300))}(e)},onError:e=>{!function(e){let t=e.target,n=t?.g,o=n?.parentElement,i=o?.querySelector?.(".popup-img");m(ze,l=l.filter((e=>e.ytPlayer!==t)),l),t.destroy(),Ut(n,"display-none"),_t(o,"loader");let r=i.querySelector(".coverImg");Ut(r,"fade-out"),_t(r,"fade-in"),Ut(r,"fade-in"),_t(r,"display-none"),_t(r,"fade-out"),_t(i,"display-none")}(e)}}}),u=`https://www.youtube.com/embed/${r}`;o.setAttribute("src",u),l.push({ytPlayer:c,headerIdx:t})}else{let e=n?.querySelector?.(".popup-img"),t=e.querySelector(".coverImg");_t(n,"loader"),_t(t,"display-none"),_t(e,"display-none")}}function K(e){if(C?.isMuted&&C?.getVolume){let t=C?.isMuted?.(),n=C?.getVolume?.();"boolean"==typeof t&&(t?e?.mute?.():e?.unMute?.()),"number"==typeof n&&(N!==n&&(N=n,Gn(N,"savedYtVolume")),e?.setVolume?.(N))}}async function J(e){if(await b({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,o=n.classList;t=o.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),W&&clearTimeout(W),Ut(t,"fa-spin"),w&&(w.terminate(),m(Ve,w=null,w)),xn().then((async e=>{m(mt,v=!1,v),W=setTimeout((()=>{_t(t,"fa-spin")}),300),m(Ve,w=e.animeLoaderWorker,w),m(rt,g="",g),e?.isNew&&(m(_e,a=e.finalAnimeList,a),m(De,y=e.hiddenEntries,y),m(lt,h=e.numberOfNextLoadedGrid,h)),m(Be,r=null,r)})).catch((e=>{throw e}))}}function z(e,t){const n=864e5,o=7*n,i=e=>e.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit",hour12:!0});return t>o?`${Lt(t,1)}, ${(e=>e.toLocaleDateString(void 0,{month:"short"}))(e)} ${(e=>e.toLocaleDateString(void 0,{day:"numeric"}))(e)} ${(e=>e.toLocaleDateString(void 0,{year:"numeric"}))(e)}`:t<=o&&t>n?`${Lt(t,1)}, ${(e=>e.toLocaleDateString(void 0,{weekday:"short"}))(e)}, ${i(e).toLowerCase()}`:`${Lt(t,2)}, ${i(e).toLowerCase()}`}let Q,Z,te,ne,oe,ie,re,le,se,ae,ce,ue=!1;function de(e){let t=e.target.closest(".popup-main"),n=t?.querySelector?.(".anime-description-container");if(n){e.stopPropagation();let t=n?.classList;t.contains("display-none")?(_t(n,"display-none"),_t(n,"fade-out"),Ut(n,"fade-in")):(_t(n,"fade-in"),Ut(n,"fade-out"),setTimeout((()=>{Ut(n,"display-none")}),300))}}function fe(e){let t=e.target,n=t?.classList;n.contains("anime-description-container")||(t=t.closest(".anime-description-container")),t&&(e.stopPropagation(),_t(t,"fade-in"),Ut(t,"fade-out"),setTimeout((()=>{Ut(t,"display-none")}),300))}window.returnedAppIsVisible=e=>{if(!u)return;if(m(Pe,p=e,p),!i||c)return;let t=L?.querySelector?.(".trailer");if(t)if(p)for(let e=0;e<l.length;e++)l[e]?.ytPlayer.g===t&&(f||2===l[e]?.ytPlayer?.getPlayerState?.()&&ue)?(K(l[e]?.ytPlayer),l[e]?.ytPlayer?.playVideo?.()):l[e]?.ytPlayer?.pauseVideo?.();else{ue=!1;for(let e=0;e<l.length;e++)l[e]?.ytPlayer.g===t&&1===l[e]?.ytPlayer?.getPlayerState?.()&&(ue=!0),l[e]?.ytPlayer?.pauseVideo?.()}},document.addEventListener("visibilitychange",(()=>{if(u)return;if(m(Pe,p="visible"===document.visibilityState,p),!i||c)return;let e=L?.querySelector?.(".trailer");if(e)if(p)for(let t=0;t<l.length;t++)l[t]?.ytPlayer.g===e&&(f||2===l[t]?.ytPlayer?.getPlayerState?.()&&ue)?(K(l[t]?.ytPlayer),l[t]?.ytPlayer?.playVideo?.()):l[t]?.ytPlayer?.pauseVideo?.();else{ue=!1;for(let t=0;t<l.length;t++)l[t]?.ytPlayer.g===e&&1===l[t]?.ytPlayer?.getPlayerState?.()&&(ue=!0),l[t]?.ytPlayer?.pauseVideo?.()}})),window.addEventListener("online",(()=>{if(u)try{JSBridge.isOnline(!0)}catch(e){}m(Be,r="Reconnected Successfully",r),c&&m(Ze,c=!1,c),a?.length||m(kt,s=!s,s),T=!0,document.querySelectorAll("link")?.forEach((e=>{e.href&&(e.href=e.href)})),document.querySelectorAll("script")?.forEach((e=>{e.src&&"https://www.youtube.com/iframe_api?v=16"!==e.src&&(e.src=e.src)})),document.querySelectorAll("img")?.forEach((e=>{e.naturalHeight||(e.src=e.src)})),new Promise((e=>{let t=document.getElementById("www-widgetapi-script");t&&t.parentElement.removeChild(t);let n=document.createElement("script");n.src="https://www.youtube.com/iframe_api?v=16",n.onerror=()=>{e()},n.onload=()=>{window?.onYouTubeIframeAPIReady?.(),e()};let o=document.getElementsByTagName("script")[0];o.parentElement.insertBefore(n,o)})).then((()=>{m(ze,l=l.filter((({ytPlayer:e})=>{if("function"!=typeof e?.playVideo||-1===e.getPlayerState()||isNaN(e.getPlayerState())){e.destroy();let t=e?.g?.closest?.(".popup-header")?.querySelector?.(".popup-img");return t instanceof Element&&_t(t,"display-none"),!1}return!0})),l),R()}))})),window.addEventListener("offline",(()=>{m(Be,r="Currently Offline...",r),T=!1})),window.addEventListener("click",(e=>{let t,n=e.target,o=n.classList;if(t=o?.contains?.("popup-main")?n:n?.closest?.(".popup-main"),t){let e=t.querySelector(".anime-description-container");e&&!e?.classList?.contains?.("fade-out")&&(_t(e,"fade-in"),Ut(e,"fade-out"),setTimeout((()=>{Ut(e,"display-none")}),300))}}));return[A,P,q,O,U,ae,ce,o,i,a,f,v,E,V,function(e){return y?y[e]?"Show":"Hide":"N/A"},B,j,async function(e,t){if(a[t]){m(_e,a[t].isSeenMore=!a[t].isSeenMore,a),await ee();let n=e.popupContent||q.children?.[t],o=n?.getElementsByClassName?.("popup-header")[0];n instanceof Element&&(Pt(q,n,"bottom","instant"),L=o,R())}},function({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){let i=[];return o<t?i.push({caution:`Very Low Score (mean: ${qt(t)})`,cautionColor:"purple"}):o<n&&i.push({caution:`Low Score (mean: ${qt(n)})`,cautionColor:"orange"}),e?.caution?.length&&(i=i.concat(e?.caution.map((e=>({caution:e,cautionColor:"red"}))))),e?.semiCaution?.length&&(i=i.concat(e?.semiCaution.map((e=>({caution:e,cautionColor:"teal"}))))),i},J,function(e){return Ft(e,"completed")?"green":Ft(e,"current")||Ft(e,"repeating")?"blue":Ft(e,"planning")?"orange":Ft(e,"paused")?"peach":Ft(e,"dropped")?"red":"lightgrey"},function(e,t,n){if(!e?.length)return e;let o=Nt(t)&&!$t(t),i=Nt(n)&&!$t(n),r={},l={};i&&(n?.caution.forEach((e=>{r[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{l[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],u=[],d={};return e.sort(((e,t)=>t?.rank-e?.rank)),e.forEach((e=>{let n=e?.name||e,f=e?.rank;if(!n)return;let p=n?.trim?.().toLowerCase?.();i&&(r[p]?(d[n]=!0,a.push({tag:`${n}${f?" | "+f+"%":""}`,tagColor:"red"})):l[p]&&(d[n]=!0,c.push({tag:`${n}${f?" | "+f+"%":""}`,tagColor:"teal"}))),o&&!d[n]&&t[p]&&(d[n]=!0,s.push({tag:e,score:t[p]})),d[n]||u.push({tag:`${n}${f?" | "+f+"%":""}`,tagColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>{let t=e?.tag?.name||e?.tag,n=e?.tag?.rank;return{tag:`${t} (${qt(e.score)})${n?" | "+n+"%":""}`,tagColor:"green"}})),a.concat(c).concat(s).concat(u)},function(e,t){if(!e?.length)return e;let n=Nt(t)&&!$t(t),o=[],i=[];return e.forEach((([e,r])=>{if(n){let n=e?.trim?.().toLowerCase?.();t[n]?o.push({studio:[e,r],score:t[n]}):i.push({studio:{studioName:e,studioUrl:r},studioColor:null})}else i.push({studio:{studioName:e,studioUrl:r},studioColor:null})})),o.sort(((e,t)=>t.score-e.score)),o=o.map((e=>({studio:{studioName:`${e.studio[0]} (${qt(e.score)})`,studioUrl:e.studio[1]},studioColor:"green"}))),o.concat(i)},function(e,t,n){if(!e?.length)return e;let o=Nt(t)&&!$t(t),i=Nt(n)&&!$t(n),r={},l={};i&&(n?.caution.forEach((e=>{r[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{l[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],u=[],d={};return e.forEach((e=>{let n=e?.trim?.().toLowerCase?.();i&&(r[n]?(d[e]=!0,a.push({genre:e,genreColor:"red"})):l[n]&&(d[e]=!0,c.push({genre:e,genreColor:"teal"}))),o&&!d[e]&&t[n]&&(d[e]=!0,s.push({genre:e,score:t[n]})),d[e]||u.push({genre:e,genreColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>({genre:`${e.genre} (${qt(e.score)})`,genreColor:"green"}))),s.concat(a).concat(c).concat(u)},function({episodes:e,format:t,duration:n,nextAiringEpisode:o}){let i=t;if(t){let r,l,s;if(i=`${t}`,"number"==typeof o?.episode&&"number"==typeof o?.airingAt&&(s=new Date(1e3*o?.airingAt),l=o?.episode,s instanceof Date&&!isNaN(s)&&(r=s.getTime()-(new Date).getTime())),r>0&&"number"==typeof l&&e>l?i+=` (${l}/${e} in ${z(s,r)})`:r>0&&"number"==typeof l?i+=` (Ep ${l} in ${z(s,r)})`:r<=0&&"number"==typeof l&&e>l?i+=` (${l}/${e})`:e>0&&(i+=` (${e})`),n>0){let e=Lt(60*n*1e3);i+=` | ${e||""}`}}return i},de,fe,function(){m(ht,o=Q=te=!1,o),n(5,ae=0)},function(e){ie=e.touches[0].clientX,le=e.touches[0].clientY,ne=e.touches[0].identifier;let t=e.target,n=!1;for(;t&&t!==document.body;){if(t.scrollWidth>t.clientWidth&&t.scrollLeft>0){n="popup-container"!==t.id;break}t=t.parentElement}n||(oe=!0)},function(e){if(oe){oe=!1,re=e.touches[0].clientX,se=e.touches[0].clientY;const t=re-ie,n=se-le;if(Math.abs(t)>Math.abs(n))if(t>0){e.stopImmediatePropagation();let t=e.target.closest(".popup-main"),n=t?.querySelector?.(".anime-description-container");n&&!n?.classList.contains("display-none")?(Q=te=!0,_t(n,"fade-out"),_t(n,"fade-in"),_t(n,"display-none")):m(ht,o=!0,o)}else if(t<0){let t,n=e.target;for(;n&&n!==document.body;){if(n.scrollWidth>n.clientWidth){t=!0;break}n=n.parentElement}if(!t){let t=e.target.closest(".popup-main"),n=t?.querySelector?.(".anime-description-container");if(n){e.stopImmediatePropagation(),Q=!0;let t=n?.classList;Z=!!t.contains("display-none"),_t(n,"fade-in"),_t(n,"fade-out"),_t(n,"display-none")}}}}else if(o){re=e.touches[0].clientX;const t=re-ie;n(5,ae=t>0?Math.min(t/48*100,100):0)}else if(Q){re=e.touches[0].clientX;const t=re-ie;n(6,ce=te?t>0?Math.max(1-t/48,0):1:Z?t<0?Math.min(Math.abs(t)/48,1):0:t<0?Math.max(1-Math.abs(t)/48,0):1)}},function(e){if(o||Q){re=Array.from(e.changedTouches).find((e=>e.identifier===ne)).clientX;let t=48,r=re-ie;if(o&&r>=t)m(dt,i=!1,i);else if(te)if(r>=t){let t=e.target.closest(".popup-main"),o=t?.querySelector?.(".anime-description-container");o&&(e.stopPropagation(),n(6,ce=0),setTimeout((()=>{Ut(o,"display-none")}),300))}else{let t=e.target.closest(".popup-main"),o=t?.querySelector?.(".anime-description-container");o&&(n(6,ce=1),setTimeout((()=>{_t(o,"display-none")}),300))}else if(Q){let o=e.target.closest(".popup-main"),i=o?.querySelector?.(".anime-description-container");i&&(e.stopPropagation(),Z?r<=-t?(n(6,ce=1),setTimeout((()=>{_t(i,"display-none")}),300)):(n(6,ce=0),setTimeout((()=>{Ut(i,"display-none")}),300)):r<=-t?(n(6,ce=0),setTimeout((()=>{Ut(i,"display-none")}),300)):(n(6,ce=1),setTimeout((()=>{_t(i,"display-none")}),300)))}ne=null,m(ht,o=Q=te=!1,o),n(5,ae=0)}else ne=null,m(ht,o=Q=te=!1,o),n(5,ae=0)},function(){ne=null,m(ht,o=Q=te=!1,o),n(5,ae=0)},e=>{_t(e.target,"fade-out"),Ut(e.target,"fade-in")},e=>{_t(e.target,"fade-out"),Ut(e.target,"fade-in")},e=>{_t(e.target,"fade-out"),Ut(e.target,"fade-in")},e=>"Enter"===e.key&&fe(e),function(e,t,n){G[e?"unshift":"push"]((()=>{t[n].popupHeader=e}))},e=>"Enter"===e.key&&de(e),function(){f=this.checked,Qe.set(f)},e=>"Enter"===e.key&&m(Qe,f=!f,f),e=>"Enter"===e.key&&J(e),e=>"Enter"===e.key&&de(e),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),e=>Do(e,"info"),(e,t)=>"Enter"===t.key&&B(e.id),(e,t)=>"Enter"===t.key&&j(e.title),function(e,t,n){G[e?"unshift":"push"]((()=>{t[n].popupContent=e}))},function(e){G[e?"unshift":"push"]((()=>{q=e,n(2,q)}))},e=>"Enter"===e.key&&V(e),function(e){G[e?"unshift":"push"]((()=>{P=e,n(1,P)}))}]}function Bo(e){let t,n,o,r,l,s,a,c,u,d,f,p,m,h,y,g,w,v,b,S,k,E,N=(e[5][e[1]]?"Show":"Hide")+" Anime";return{c(){t=$("div"),n=$("div"),o=$("div"),r=$("span"),l=$("h1"),s=L(e[0]),a=I(),c=$("div"),c.textContent="×",u=I(),d=$("span"),d.innerHTML='<h2 class="option-title svelte-8hnnod">Open Anime</h2>',f=I(),p=$("span"),p.innerHTML='<h2 class="option-title svelte-8hnnod">Open In Anilist</h2>',m=I(),h=$("span"),h.innerHTML='<h2 class="option-title svelte-8hnnod">Copy Title</h2>',y=I(),g=$("span"),w=$("h2"),v=L(N),F(l,"class","svelte-8hnnod"),F(r,"class","anime-title svelte-8hnnod"),F(c,"class","closing-x svelte-8hnnod"),F(c,"tabindex","0"),F(o,"class","option-header svelte-8hnnod"),F(d,"class","anime-option svelte-8hnnod"),F(p,"class","anime-option svelte-8hnnod"),F(h,"class","anime-option svelte-8hnnod"),F(w,"class","option-title svelte-8hnnod"),F(g,"class","anime-option svelte-8hnnod"),F(n,"class","anime-options-container svelte-8hnnod"),F(t,"class","anime-options svelte-8hnnod")},m(i,b){A(i,t,b),x(t,n),x(n,o),x(o,r),x(r,l),x(l,s),x(o,a),x(o,c),x(n,u),x(n,d),x(n,f),x(n,p),x(n,m),x(n,h),x(n,y),x(n,g),x(g,w),x(w,v),S=!0,k||(E=[P(r,"scroll",e[11]),P(c,"click",e[6]),P(c,"keydown",e[16]),P(d,"click",e[7]),P(d,"keydown",e[17]),P(p,"click",e[8]),P(p,"keydown",e[18]),P(h,"click",e[9]),P(h,"keydown",e[19]),P(g,"click",e[10]),P(g,"keydown",e[20]),P(t,"click",e[6]),P(t,"keydown",e[21]),P(t,"touchstart",e[12]),P(t,"touchmove",e[13]),P(t,"touchend",e[14]),P(t,"touchcancel",e[15],{passive:!0}),P(t,"scroll",e[11])],k=!0)},p(e,t){(!S||1&t[0])&&M(s,e[0]),(!S||34&t[0])&&N!==(N=(e[5][e[1]]?"Show":"Hide")+" Anime")&&M(v,N)},i(e){S||(te((()=>{S&&(b||(b=ge(n,jt,{y:20,duration:300},!0)),b.run(1))})),S=!0)},o(e){b||(b=ge(n,jt,{y:20,duration:300},!1)),b.run(0),S=!1},d(e){e&&T(t),e&&b&&b.end(),k=!1,i(E)}}}function jo(e){let t,n,o,i,r,l;return{c(){t=$("div"),n=$("div"),o=$("i"),F(o,"class","fa-solid fa-arrow-left svelte-8hnnod"),F(n,"class",i=p("go-back-grid"+(e[3]>=100?" willGoBack":""))+" svelte-8hnnod"),F(t,"class","go-back-grid-highlight svelte-8hnnod"),O(t,"--scale",Math.max(1,.01*(e[3]??1)*2)),O(t,"--position","-"+(100-(e[3]??0))+"%")},m(e,i){A(e,t,i),x(t,n),x(n,o),l=!0},p(e,o){(!l||8&o[0]&&i!==(i=p("go-back-grid"+(e[3]>=100?" willGoBack":""))+" svelte-8hnnod"))&&F(n,"class",i),8&o[0]&&O(t,"--scale",Math.max(1,.01*(e[3]??1)*2)),8&o[0]&&O(t,"--position","-"+(100-(e[3]??0))+"%")},i(e){l||(r&&r.end(1),l=!0)},o(e){r=ye(t,jt,{x:-176,duration:1e3}),l=!1},d(e){e&&T(t),e&&r&&r.end()}}}function Ro(e){let t,n,o,i=e[4]&&Bo(e),r=e[4]&&e[2]&&jo(e);return{c(){i&&i.c(),t=I(),r&&r.c(),n=C()},m(e,l){i&&i.m(e,l),A(e,t,l),r&&r.m(e,l),A(e,n,l),o=!0},p(e,o){e[4]?i?(i.p(e,o),16&o[0]&&pe(i,1)):(i=Bo(e),i.c(),pe(i,1),i.m(t.parentNode,t)):i&&(de(),me(i,1,1,(()=>{i=null})),fe()),e[4]&&e[2]?r?(r.p(e,o),20&o[0]&&pe(r,1)):(r=jo(e),r.c(),pe(r,1),r.m(n.parentNode,n)):r&&(de(),me(r,1,1,(()=>{r=null})),fe())},i(e){o||(pe(i),pe(r),o=!0)},o(e){me(i),me(r),o=!1},d(e){i&&i.d(e),e&&T(t),r&&r.d(e),e&&T(n)}}}function Wo(e,t,n){let o,i,r,l,s,a,c,u,f,p,h,y,g,w;d(e,ct,(e=>n(4,o=e))),d(e,Ve,(e=>n(32,i=e))),d(e,tt,(e=>n(33,r=e))),d(e,_e,(e=>n(34,l=e))),d(e,De,(e=>n(5,s=e))),d(e,st,(e=>n(35,a=e))),d(e,Ce,(e=>n(36,c=e))),d(e,dt,(e=>n(37,u=e))),d(e,ft,(e=>n(38,f=e))),d(e,ut,(e=>n(39,p=e)));let v,b,S,x,k,E,A,T,N,$=!0;function L(e){if($&&"keydown"!==e.type)return;let t=e.target,n=t.classList;(n.contains("closing-x")||!t.closest(".anime-options-container")&&!n.contains("anime-options-container"))&&m(ct,o=!1,o)}function I(e){$&&"keydown"!==e.type||(m(ft,f=w,f),m(dt,u=!0,u),m(ct,o=!1,o))}function C(e){$&&"keydown"!==e.type||(g&&window.open(g,"_blank"),m(ct,o=!1,o))}function P(e){if((!$||"keydown"===e.type)&&h){if(c)try{JSBridge.copyToClipBoard(h)}catch(e){}else navigator?.clipboard?.writeText?.(h);m(ct,o=!1,o)}}async function q(e){if($&&"keydown"!==e.type)return;s[y]?await a("Are you sure you want to show the anime?")&&(delete s[y],De.set(s),l.length&&i instanceof Worker&&r().then((()=>{i.postMessage({removeID:y})})),m(ct,o=!1,o)):await a("Are you sure you want to hide the anime?")&&(m(De,s[y]=!0,s),l.length&&i instanceof Worker&&r().then((()=>{i.postMessage({removeID:y})})),m(ct,o=!1,o))}ct.subscribe((e=>{if(!0===e){$=!0,v=setTimeout((()=>{$=!1}),500);let e=l[p];e&&(n(0,h=e?.title?.userPreferred),n(1,y=e.id),g=e.animeUrl,w=p),m(ut,p=null,p)}else v&&clearTimeout(v),$=!1}));return[h,y,b,N,o,s,L,I,C,P,q,function(){n(2,b=!1),n(3,N=0)},function(e){k=e.touches[0].clientX,A=e.touches[0].clientY,S=e.touches[0].identifier,x=!0},function(e){if(x){x=!1,E=e.touches[0].clientX,T=e.touches[0].clientY;const t=E-k,o=T-A;Math.abs(t)>Math.abs(o)&&t>0&&n(2,b=!0)}else if(b){E=e.touches[0].clientX;const t=E-k;n(3,N=t>0?Math.min(t/48*100,100):0)}},function(e){E=Array.from(e.changedTouches).find((e=>e.identifier===S)).clientX,b&&E-k>=48&&m(ct,o=!1,o),S=null,n(2,b=!1),n(3,N=0)},function(){S=null,n(2,b=!1),n(3,N=0)},e=>"Enter"===e.key&&L(e),e=>"Enter"===e.key&&I(e),e=>"Enter"===e.key&&C(e),e=>"Enter"===e.key&&P(e),e=>"Enter"===e.key&&q(e),e=>"Enter"===e.key&&L(e)]}function Yo(t){let n,o,r,l,s,c,u,d,f,m,h,y,g,w,v,b,S,k=(t[0]||"Your Anilist Username")+"";return{c(){n=$("div"),o=$("nav"),r=$("div"),l=$("i"),s=I(),c=$("div"),u=$("input"),d=I(),f=$("div"),m=L(k),h=I(),y=$("div"),g=$("img"),F(l,"class",p("goback fa-solid fa-arrow-left")+" svelte-6wt022"),F(l,"tabindex","0"),F(r,"class","go-back-container svelte-6wt022"),F(u,"id","usernameInput"),F(u,"type","search"),F(u,"enterkeyhint","search"),F(u,"autocomplete","off"),F(u,"placeholder","Your Anilist Username"),F(u,"class","svelte-6wt022"),F(f,"class",p("usernameText")+" svelte-6wt022"),F(c,"class","input-search svelte-6wt022"),F(g,"class","logo-icon svelte-6wt022"),a(g.src,w="./images/Kanshi-Logo.png")||F(g,"src","./images/Kanshi-Logo.png"),F(g,"alt","Kanshi Logo"),F(y,"class","logo-icon-container svelte-6wt022"),F(o,"id","nav"),F(o,"class",v=p("nav "+(t[3]||t[4]?"popupvisible":t[1]===document?.activeElement?"inputfocused":""))+" svelte-6wt022"),F(n,"class","nav-container svelte-6wt022")},m(e,i){A(e,n,i),x(n,o),x(o,r),x(r,l),x(o,s),x(o,c),x(c,u),D(u,t[0]),t[15](u),x(c,d),x(c,f),x(f,m),x(o,h),x(o,y),x(y,g),t[18](o),b||(S=[P(l,"keydown",t[12]),P(r,"click",t[8]),P(u,"keydown",t[13]),P(u,"focusin",t[11]),P(u,"focusout",t[11]),P(u,"input",t[14]),P(f,"click",t[7]),P(f,"keydown",t[16]),P(g,"keydown",t[17]),P(y,"pointerdown",t[9]),P(y,"pointerup",t[10]),P(y,"pointercancel",t[10]),P(n,"keydown",t[19]),P(n,"click",t[6])],b=!0)},p(e,t){1&t[0]&&u.value!==e[0]&&D(u,e[0]),1&t[0]&&k!==(k=(e[0]||"Your Anilist Username")+"")&&M(m,k),26&t[0]&&v!==(v=p("nav "+(e[3]||e[4]?"popupvisible":e[1]===document?.activeElement?"inputfocused":""))+" svelte-6wt022")&&F(o,"class",v)},i:e,o:e,d(e){e&&T(n),t[15](null),t[18](null),b=!1,i(S)}}}function Ho(e,t,n){let o,i,r,l,s,a,c,u,f;d(e,st,(e=>n(26,o=e))),d(e,et,(e=>n(27,i=e))),d(e,dt,(e=>n(3,r=e))),d(e,at,(e=>n(4,l=e))),d(e,Be,(e=>n(28,s=e))),d(e,Me,(e=>n(29,a=e))),d(e,Re,(e=>n(30,c=e))),d(e,_e,(e=>n(31,u=e))),d(e,Ze,(e=>n(32,f=e)));let p,h,y,g,w,v,b=[],S="",x=!1;async function k(e){if(f)return await async function(){return await o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}(),void A();let t=e.target,i=t.classList;if("Enter"===e.key||"click"===e.type&&(i.contains("searchBtn")||t?.closest?.(".searchBtn"))){if(!S)return;if(S!==a){if(!navigator.onLine)return o({isAlert:!0,title:"Currently Offline",text:"It seems that you're currently offline and unable to update."});(async()=>{a?await o(`Currently connected to ${a}, do you want to change account?`)?(m(at,l=!1,l),r||(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(_e,u=null,u)),m(Be,s="Getting User Entries",s),m(Re,c=!0,c),Cn({username:S}).then((({newusername:e})=>{m(Re,c=!1,c),e&&(n(0,S=m(Me,a=e||"",a)),St.update((e=>!e)))})).catch((e=>{m(Be,s="Something went wrong...",s),console.error(e)}))):A():await o(`Are you sure you want to connect to ${S}?`)?(m(at,l=!1,l),r||(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(_e,u=null,u)),m(Be,s="Getting User Entries",s),m(Re,c=!0,c),await Cn({username:S}).then((({newusername:e})=>{m(Re,c=!1,c),e&&n(0,S=m(Me,a=e||"",a)),St.update((e=>!e))})).catch((e=>{m(Be,s="Something went wrong...",s),console.error(e)}))):A()})()}else g?.blur?.(),x=!1}}function E(e){if(v)return void(v=!1);let t=e.target.classList;return t.contains("nav")||t.contains("logo-icon")?x&&!t.contains("logo-icon")?(g?.blur?.(),void(x=!1)):void m(at,l=!l,l):void 0}async function A(){g?.focus?.()}function T(){g===document.activeElement||x?(g?.blur?.(),x=!1):l?m(at,l=!l,l):r&&m(dt,r=!1,r)}var N;H((()=>{n(2,y=y||document?.getElementById("nav")),n(1,g=g||document?.getElementById("usernameInput")),p=p||document?.getElementById("anime-grid"),h=h||document?.getElementById("popup-container"),b.push(Me.subscribe((e=>{n(0,S=e||"")}))),document.addEventListener("scroll",(()=>{}))})),N=()=>{b.forEach((e=>e()))},Y().$$.on_destroy.push(N);return e.$$.update=()=>{3&e.$$.dirty[0]&&S&&g?.setCustomValidity?.("")},[S,g,y,r,l,k,E,A,T,function(){w&&clearTimeout(w),w=setTimeout((()=>{v=!0,r?(h.scrollTop=h.scrollTop,h.scrollLeft=h.scrollLeft,h?.children?.[0]?.scrollIntoView?.({container:h,behavior:"smooth",block:"start",inline:"nearest"})):i?(p.scrollTop=p.scrollTop,p.scrollLeft=p.scrollLeft,p?.children?.[0]?.scrollIntoView?.({container:p,behavior:"smooth",block:"nearest",inline:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"}))}),500)},function(){w&&clearTimeout(w),v&&(w=setTimeout((()=>{v=!1}),50))},function(e){"focusin"===e.type?(x=!0,Ut(y,"inputfocused")):setTimeout((()=>{_t(y,"inputfocused"),x=!1}),100)},e=>"Enter"===e.key&&T(),e=>"Enter"===e.key&&k(e),function(){S=this.value,n(0,S)},function(e){G[e?"unshift":"push"]((()=>{g=e,n(1,g)}))},e=>"Enter"===e.key&&A(),e=>"Enter"===e.key&&E(e),function(e){G[e?"unshift":"push"]((()=>{y=e,n(2,y)}))},e=>"Enter"===e.key&&E(e)]}function Xo(e){let t,n,o,r,l,s,a,c,u,d,f,m,h,y,g,w,v,b,S,k,E,N,C,q,M,D,O,U,_,V,B,j,R,W,Y=e[4]&&Go(e),H=e[4]&&Ko(e);return{c(){t=$("div"),n=$("div"),o=$("button"),o.textContent="Update List",l=I(),s=$("button"),s.textContent="Show All Hidden Entries",c=I(),u=$("button"),u.textContent="Import Data",f=I(),m=$("button"),m.textContent="Export Data",y=I(),Y&&Y.c(),g=I(),w=$("button"),w.textContent="Dark Mode",b=I(),S=$("button"),k=L("Auto Update"),C=I(),q=$("button"),M=L("Auto Export"),U=I(),_=$("button"),_.textContent="Create an Anilist Account",B=I(),H&&H.c(),F(o,"class","button svelte-1wt7qsh"),F(s,"class","button svelte-1wt7qsh"),F(u,"class","button svelte-1wt7qsh"),F(m,"class","button svelte-1wt7qsh"),F(w,"class","button selected svelte-1wt7qsh"),F(S,"class",E=p("button "+(e[7]?"selected":""))+" svelte-1wt7qsh"),F(q,"class",D=p("button "+(e[5]?"selected":""))+" svelte-1wt7qsh"),F(_,"class","button svelte-1wt7qsh"),F(n,"class","menu svelte-1wt7qsh"),F(t,"class","menu-container svelte-1wt7qsh")},m(i,r){A(i,t,r),x(t,n),x(n,o),x(n,l),x(n,s),x(n,c),x(n,u),x(n,f),x(n,m),x(n,y),Y&&Y.m(n,null),x(n,g),x(n,w),x(n,b),x(n,S),x(S,k),x(n,C),x(n,q),x(q,M),x(n,U),x(n,_),x(n,B),H&&H.m(n,null),j=!0,R||(W=[P(o,"click",e[12]),P(o,"keydown",e[27]),P(s,"click",e[16]),P(s,"keydown",e[28]),P(u,"click",e[9]),P(u,"keydown",e[29]),P(m,"click",e[11]),P(m,"keydown",e[30]),P(w,"click",e[8]),P(w,"keydown",e[32]),P(S,"click",e[13]),P(S,"keydown",e[33]),P(q,"click",e[14]),P(q,"keydown",e[34]),P(_,"click",e[17]),P(_,"keydown",e[35]),P(n,"scroll",e[21]),P(t,"click",e[15]),P(t,"keydown",e[39]),P(t,"touchstart",e[22]),P(t,"touchmove",e[23]),P(t,"touchend",e[24]),P(t,"touchcancel",e[25],{passive:!0})],R=!0)},p(e,t){e[4]?Y?(Y.p(e,t),16&t[0]&&pe(Y,1)):(Y=Go(e),Y.c(),pe(Y,1),Y.m(n,g)):Y&&(de(),me(Y,1,1,(()=>{Y=null})),fe()),(!j||128&t[0]&&E!==(E=p("button "+(e[7]?"selected":""))+" svelte-1wt7qsh"))&&F(S,"class",E),(!j||32&t[0]&&D!==(D=p("button "+(e[5]?"selected":""))+" svelte-1wt7qsh"))&&F(q,"class",D),e[4]?H?(H.p(e,t),16&t[0]&&pe(H,1)):(H=Ko(e),H.c(),pe(H,1),H.m(n,null)):H&&(de(),me(H,1,1,(()=>{H=null})),fe())},i(e){j||(te((()=>{j&&(r||(r=ge(o,jt,{x:50,duration:300},!0)),r.run(1))})),te((()=>{j&&(a||(a=ge(s,jt,{x:50,duration:300},!0)),a.run(1))})),te((()=>{j&&(d||(d=ge(u,jt,{x:50,duration:300},!0)),d.run(1))})),te((()=>{j&&(h||(h=ge(m,jt,{x:50,duration:300},!0)),h.run(1))})),pe(Y),te((()=>{j&&(v||(v=ge(w,jt,{x:50,duration:300},!0)),v.run(1))})),te((()=>{j&&(N||(N=ge(S,jt,{x:50,duration:300},!0)),N.run(1))})),te((()=>{j&&(O||(O=ge(q,jt,{x:50,duration:300},!0)),O.run(1))})),te((()=>{j&&(V||(V=ge(_,jt,{x:50,duration:300},!0)),V.run(1))})),pe(H),j=!0)},o(e){r||(r=ge(o,jt,{x:50,duration:300},!1)),r.run(0),a||(a=ge(s,jt,{x:50,duration:300},!1)),a.run(0),d||(d=ge(u,jt,{x:50,duration:300},!1)),d.run(0),h||(h=ge(m,jt,{x:50,duration:300},!1)),h.run(0),me(Y),v||(v=ge(w,jt,{x:50,duration:300},!1)),v.run(0),N||(N=ge(S,jt,{x:50,duration:300},!1)),N.run(0),O||(O=ge(q,jt,{x:50,duration:300},!1)),O.run(0),V||(V=ge(_,jt,{x:50,duration:300},!1)),V.run(0),me(H),j=!1},d(e){e&&T(t),e&&r&&r.end(),e&&a&&a.end(),e&&d&&d.end(),e&&h&&h.end(),Y&&Y.d(),e&&v&&v.end(),e&&N&&N.end(),e&&O&&O.end(),e&&V&&V.end(),H&&H.d(),R=!1,i(W)}}}function Go(e){let t,n,o,r,l,s,a=(e[6]?"Change":"Set")+" Export Folder";return{c(){t=$("button"),n=L(a),F(t,"class","button svelte-1wt7qsh")},m(o,i){A(o,t,i),x(t,n),r=!0,l||(s=[P(t,"click",Qo),P(t,"keydown",e[31])],l=!0)},p(e,t){(!r||64&t[0])&&a!==(a=(e[6]?"Change":"Set")+" Export Folder")&&M(n,a)},i(e){r||(te((()=>{r&&(o||(o=ge(t,jt,{x:50,duration:300},!0)),o.run(1))})),r=!0)},o(e){o||(o=ge(t,jt,{x:50,duration:300},!1)),o.run(0),r=!1},d(e){e&&T(t),e&&o&&o.end(),l=!1,i(s)}}}function Ko(t){let n,o,r,l,s,a,c,u,d,f=!window.location.protocol.startsWith("file:"),p=f&&function(t){let n,o,r,l,s;return{c(){n=$("button"),n.textContent="Check for Updates",F(n,"class","button svelte-1wt7qsh")},m(e,o){A(e,n,o),r=!0,l||(s=[P(n,"keydown",t[37]),P(n,"click",t[19])],l=!0)},p:e,i(e){r||(te((()=>{r&&(o||(o=ge(n,jt,{x:50,duration:300},!0)),o.run(1))})),r=!0)},o(e){o||(o=ge(n,jt,{x:50,duration:300},!1)),o.run(0),r=!1},d(e){e&&T(n),e&&o&&o.end(),l=!1,i(s)}}}(t);return{c(){n=$("button"),n.textContent="Switch App Mode",r=I(),p&&p.c(),l=I(),s=$("button"),s.textContent="Refresh",F(n,"class","button svelte-1wt7qsh"),F(s,"class","button svelte-1wt7qsh")},m(e,o){A(e,n,o),A(e,r,o),p&&p.m(e,o),A(e,l,o),A(e,s,o),c=!0,u||(d=[P(n,"keydown",t[36]),P(n,"click",t[18]),P(s,"keydown",t[38]),P(s,"click",t[20])],u=!0)},p(e,t){f&&p.p(e,t)},i(e){c||(te((()=>{c&&(o||(o=ge(n,jt,{x:50,duration:300},!0)),o.run(1))})),pe(p),te((()=>{c&&(a||(a=ge(s,jt,{x:50,duration:300},!0)),a.run(1))})),c=!0)},o(e){o||(o=ge(n,jt,{x:50,duration:300},!1)),o.run(0),me(p),a||(a=ge(s,jt,{x:50,duration:300},!1)),a.run(0),c=!1},d(e){e&&T(n),e&&o&&o.end(),e&&T(r),p&&p.d(e),e&&T(l),e&&T(s),e&&a&&a.end(),u=!1,i(d)}}}function Jo(e){let t,n,o,i,r,l;return{c(){t=$("div"),n=$("div"),o=$("i"),F(o,"class","fa-solid fa-arrow-left svelte-1wt7qsh"),F(n,"class",i=p("go-back-grid"+(e[2]>=100?" willGoBack":""))+" svelte-1wt7qsh"),F(t,"class","go-back-grid-highlight svelte-1wt7qsh"),O(t,"--scale",Math.max(1,.01*(e[2]??1)*2)),O(t,"--position","-"+(100-(e[2]??0))+"%")},m(e,i){A(e,t,i),x(t,n),x(n,o),l=!0},p(e,o){(!l||4&o[0]&&i!==(i=p("go-back-grid"+(e[2]>=100?" willGoBack":""))+" svelte-1wt7qsh"))&&F(n,"class",i),4&o[0]&&O(t,"--scale",Math.max(1,.01*(e[2]??1)*2)),4&o[0]&&O(t,"--position","-"+(100-(e[2]??0))+"%")},i(e){l||(r&&r.end(1),l=!0)},o(e){r=ye(t,jt,{x:-176,duration:1e3}),l=!1},d(e){e&&T(t),e&&r&&r.end()}}}function zo(e){let t,n,o,i,r,l,s,a=e[3]&&Xo(e),c=e[3]&&e[1]&&Jo(e);return{c(){t=$("input"),n=I(),a&&a.c(),o=I(),c&&c.c(),i=C(),F(t,"type","file"),F(t,"accept",".json"),O(t,"display","none")},m(u,d){A(u,t,d),e[26](t),A(u,n,d),a&&a.m(u,d),A(u,o,d),c&&c.m(u,d),A(u,i,d),r=!0,l||(s=P(t,"change",e[10]),l=!0)},p(e,t){e[3]?a?(a.p(e,t),8&t[0]&&pe(a,1)):(a=Xo(e),a.c(),pe(a,1),a.m(o.parentNode,o)):a&&(de(),me(a,1,1,(()=>{a=null})),fe()),e[3]&&e[1]?c?(c.p(e,t),10&t[0]&&pe(c,1)):(c=Jo(e),c.c(),pe(c,1),c.m(i.parentNode,i)):c&&(de(),me(c,1,1,(()=>{c=null})),fe())},i(e){r||(pe(a),pe(c),r=!0)},o(e){me(a),me(c),r=!1},d(r){r&&T(t),e[26](null),r&&T(n),a&&a.d(r),r&&T(o),c&&c.d(r),r&&T(i),l=!1,s()}}}function Qo(){try{JSBridge.chooseExportFolder()}catch(e){}}function Zo(e,t,n){let o,i,r,l,s,a,c,f,p,h,y,g,w,v,b,S,x,k,E,A,T,N,$,L;async function I(){i({isAlert:!0,text:"Sorry, this is still not working."})}async function C(){return g?j():S instanceof Element?void(await i({text:"Are you sure you want to import your Data?"})&&S.click()):m(Be,c="Something went wrong...",c)}async function P(){return g?j():!v&&r?Qo():void(await i("Are you sure you want to export your data?")&&(m(at,o=!1,o),bt.update((e=>!e))))}async function q(){return g?j():navigator.onLine?void(await i("Are you sure you want to update your list?")&&(m(at,o=!1,o),vt.update((e=>!e)))):i({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to update."})}async function F(){await i(`Are you sure you want to ${b?"disable":"enable"} auto-update?`)&&m(We,b=!b,b)}async function M(){if(!v&&r)return Qo();await i(`Are you sure you want to ${w?"disable":"enable"} auto-export?`)&&m(Ge,w=!w,w)}function D(e){e.target.classList.contains("button")||m(at,o=!o,o)}async function O(){if(g)return j();if($t(y))i({isAlert:!0,text:"There is currently no hidden entries."});else if(await i("Are you sure you want to show all hidden anime entries?")){h&&(h.terminate(),m(Ve,h=null,h)),p||m(_e,f=null,f),m(Be,c="Updating List",c),m(at,o=!1,o);let e=a?.filterSelection?.findIndex?.((({filterSelectionName:e})=>"Anime Filter"===e)),t=a?.filterSelection?.[e??-1]?.filters?.Checkbox?.findIndex?.((({filName:e})=>"hidden anime"===e));e>=0&&t>=0&&m(Oe,a.filterSelection[e??-1].filters.Checkbox[t??-1].isSelected=!1,a),s?.["Anime Filter"]&&m(Ue,s["Anime Filter"]=s["Anime Filter"].filter((({optionName:e,filterType:t})=>"hidden"!==e&&"checkbox"!==t)),s),await Gn(a,"filterOptions"),await Gn(s,"activeTagFilters"),await Gn({},"hiddenEntries"),xt.update((e=>!e))}}async function U(){await i("Are you sure want to sign-up an anilist account?")&&window.open("https://anilist.co/signup","_blank")}function _(){if(r)try{JSBridge.switchApp()}catch(e){}}function V(){if(!navigator.onLine)return i({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to check for updates."});if(r)try{JSBridge.checkAppID(l,!0)}catch(e){}}async function B(){if(await i("Are you sure want to refresh the app?")){if(!r)return;try{JSBridge.refreshWeb()}catch(e){}}}function j(){i({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}d(e,at,(e=>n(3,o=e))),d(e,st,(e=>n(46,i=e))),d(e,Ce,(e=>n(4,r=e))),d(e,Ie,(e=>n(47,l=e))),d(e,Ue,(e=>n(48,s=e))),d(e,Oe,(e=>n(49,a=e))),d(e,Be,(e=>n(50,c=e))),d(e,_e,(e=>n(51,f=e))),d(e,dt,(e=>n(52,p=e))),d(e,Ve,(e=>n(53,h=e))),d(e,De,(e=>n(54,y=e))),d(e,Ze,(e=>n(55,g=e))),d(e,Ge,(e=>n(5,w=e))),d(e,Xe,(e=>n(6,v=e))),d(e,We,(e=>n(7,b=e))),window.setExportPathAvailability=async(e=!0)=>{m(Xe,v=e,v),await Gn(e,"exportPathIsAvailable")};return[S,x,L,o,r,w,v,b,I,C,async function(){if(!(S instanceof Element))return m(Be,c="Something went wrong...",c);let e=S.files?.[0];if(e){let r=e.name;await i(`File ${r?"named ["+r+"] ":""}has been detected, do you want to continue the import?`)?(await Gn(!0,"shouldProcessRecommendation"),m(at,o=!1,o),p||(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(_e,f=null,f)),(t={importedFile:e},new Promise(((e,n)=>{if(!u(Ze)){if(Sn)return;Hn(),je.set(!0)}Mn&&Mn.terminate(),qe.set(0),hn("./webapi/worker/importUserData.js").then((o=>{Mn=new Worker(o),Fn&&clearTimeout(Fn),Mn.postMessage(t),Mn.onmessage=({data:t})=>{t?.hasOwnProperty("progress")?t?.progress>=0&&t?.progress<=100&&qe.set(t.progress):void 0!==t?.error?(je.set(!1),At.update((e=>!e)),window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),qe.set(100),n(t?.error||"Something went wrong...")):t?.hasOwnProperty("status")?(bn=!0,Be.set(t.status)):"string"==typeof t?.importedUsername?Me.set(t.importedUsername):Nt(t?.importedHiddenEntries)?De.set(t?.importedHiddenEntries):t?.importedlastRunnedAutoUpdateDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoUpdateDate)?He.set(t.importedlastRunnedAutoUpdateDate):t?.importedlastRunnedAutoExportDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoExportDate)?Je.set(t.importedlastRunnedAutoExportDate):void 0!==t?.updateFilters?(je.set(!1),Yn().then((e=>{Ue.set(e.activeTagFilters),Oe.set(e.filterOptions)}))):void 0!==t?.updateRecommendationList?(je.set(!1),St.update((e=>!e))):(je.set(!1),vt.update((e=>!e)),bn=!1,Fn=setTimeout((()=>{Mn.terminate()}),vn),qe.set(100),e(t))},Mn.onerror=e=>{je.set(!1),window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),At.update((e=>!e)),qe.set(100),n(e||"Something went wrong...")}})).catch((e=>{qe.set(100),je.set(!1),At.update((e=>!e)),Xn(),n(e)}))}))).then((()=>{S instanceof Element&&n(0,S.value=null,S)})).catch((e=>{m(Be,c=e||"Something went wrong...",c),n(0,S.value=null,S),St.update((e=>!e))}))):S instanceof Element&&n(0,S.value=null,S)}else S instanceof Element&&n(0,S.value=null,S);var t},P,q,F,M,D,O,U,_,V,B,function(){n(1,x=!1),n(2,L=0)},function(e){A=e.touches[0].clientX,N=e.touches[0].clientY,k=e.touches[0].identifier,E=!0},function(e){if(E){E=!1,T=e.touches[0].clientX,$=e.touches[0].clientY;const t=T-A,o=$-N;Math.abs(t)>Math.abs(o)&&t>0&&n(1,x=!0)}else if(x){T=e.touches[0].clientX;const t=T-A;n(2,L=t>0?Math.min(t/48*100,100):0)}},function(e){T=Array.from(e.changedTouches).find((e=>e.identifier===k)).clientX,x&&T-A>=48&&m(at,o=!1,o),k=null,n(1,x=!1),n(2,L=0)},function(){k=null,n(1,x=!1),n(2,L=0)},function(e){G[e?"unshift":"push"]((()=>{S=e,n(0,S)}))},e=>"Enter"===e.key&&q(),e=>"Enter"===e.key&&O(),e=>"Enter"===e.key&&C(),e=>"Enter"===e.key&&P(),e=>"Enter"===e.key&&Qo(),e=>"Enter"===e.key&&I(),e=>"Enter"===e.key&&F(),e=>"Enter"===e.key&&M(),e=>"Enter"===e.key&&U(),e=>"Enter"===e.key&&_(),e=>"Enter"===e.key&&V(),e=>"Enter"===e.key&&B(),e=>"Enter"===e.key&&D(e)]}function ei(e,t,n){const o=e.slice();return o[120]=t[n].sortName,o[122]=n,o}function ti(e,t,n){const o=e.slice();return o[123]=t[n].optionName,o[124]=t[n].optionIdx,o[125]=t[n].selected,o[126]=t[n].changeType,o[127]=t[n].filterType,o[128]=t[n].categIdx,o[129]=t[n].optionValue,o[130]=t[n].optionType,o}function ni(e,t,n){const o=e.slice();return o[147]=t[n],o}function oi(e,t,n){const o=e.slice();return o[133]=t[n],o[134]=t,o[135]=n,o}function ii(e,t,n){const o=e.slice();return o[136]=t[n],o[138]=n,o}function ri(e,t,n){const o=e.slice();return o[139]=t[n],o[140]=t,o[141]=n,o}function li(e,t,n){const o=e.slice();return o[142]=t[n],o[143]=t,o[144]=n,o}function si(e,t,n){const o=e.slice();return o[145]=t[n],o[124]=n,o}function ai(e,t,n){const o=e.slice();return o[150]=t[n].filterSelectionName,o[151]=t[n].isSelected,o}function ci(t){let n;return{c(){n=$("div"),F(n,"class","skeleton shimmer svelte-ot0s8d")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function ui(e){let t,n,o,i=(e[10]?.filterSelection?.filter?.(zi)?.[0]?.filterSelectionName||"")+"";return{c(){t=$("span"),n=$("h2"),o=L(i),F(n,"class","svelte-ot0s8d"),F(t,"class","svelte-ot0s8d")},m(e,i){A(e,t,i),x(t,n),x(n,o)},p(e,t){1024&t[0]&&i!==(i=(e[10]?.filterSelection?.filter?.(zi)?.[0]?.filterSelectionName||"")+"")&&M(o,i)},d(e){e&&T(t)}}}function di(e){let t,n,o,i;function r(e,t){return e[14]?mi:e[16]||e[12]?fi:pi}let l=r(e),s=l(e);return{c(){t=$("span"),n=$("h2"),s.c(),F(n,"class","svelte-ot0s8d"),F(t,"class","data-status svelte-ot0s8d")},m(e,o){A(e,t,o),x(t,n),s.m(n,null),i=!0},p(e,t){l===(l=r(e))&&s?s.p(e,t):(s.d(1),s=l(e),s&&(s.c(),s.m(n,null)))},i(e){i||(o&&o.end(1),i=!0)},o(e){o=ye(t,Bt,{duration:300}),i=!1},d(e){e&&T(t),s.d(),e&&o&&o.end()}}}function fi(t){let n;return{c(){n=L("")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function pi(t){let n;return{c(){n=L("No Anilist Username Found")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function mi(e){let t;return{c(){t=L(e[14])},m(e,n){A(e,t,n)},p(e,n){16384&n[0]&&M(t,e[14])},d(e){e&&T(t)}}}function hi(e){let t,n,o,r,l,s,a,c,u,d,f,m,h=[],y=new Map,g=e[10]?.filterSelection||[];const w=e=>e[150];for(let t=0;t<g.length;t+=1){let n=ai(e,g,t),o=w(n);y.set(o,h[t]=yi(o,n))}return{c(){t=$("div"),n=$("div"),o=$("h2"),o.textContent="Filters",r=I(),l=$("div"),s=L("×"),c=I(),u=$("div");for(let e=0;e<h.length;e+=1)h[e].c();F(o,"class","svelte-ot0s8d"),F(l,"class","closing-x svelte-ot0s8d"),F(l,"tabindex",a=e[3]&&e[1]<=425?"0":""),F(n,"class","header svelte-ot0s8d"),F(u,"class","options svelte-ot0s8d"),F(t,"class",d=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-ot0s8d")},m(i,a){A(i,t,a),x(t,n),x(n,o),x(n,r),x(n,l),x(l,s),x(t,c),x(t,u);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(u,null);f||(m=[P(l,"keydown",e[46]),P(l,"click",e[20]),P(u,"scroll",e[36])],f=!0)},p(e,n){10&n[0]&&a!==(a=e[3]&&e[1]<=425?"0":"")&&F(l,"tabindex",a),525312&n[0]&&(g=e[10]?.filterSelection||[],h=be(h,n,w,1,e,g,y,u,we,yi,null,ai)),8&n[0]&&d!==(d=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-ot0s8d")&&F(t,"class",d)},d(e){e&&T(t);for(let e=0;e<h.length;e+=1)h[e].d();f=!1,i(m)}}}function yi(e,t){let n,o,l,s,a,c,u=(t[150]||"")+"";function d(...e){return t[47](t[150],...e)}return{key:e,first:null,c(){n=$("div"),o=$("h3"),l=L(u),s=I(),F(o,"class","svelte-ot0s8d"),O(o,"color",t[151]?"#3db4f2":"inherit"),F(n,"class","option svelte-ot0s8d"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,l),x(n,s),a||(c=[P(n,"click",(function(){r(t[19](t[150]))&&t[19](t[150]).apply(this,arguments)})),P(n,"keydown",d)],a=!0)},p(e,n){t=e,1024&n[0]&&u!==(u=(t[150]||"")+"")&&M(l,u),1024&n[0]&&O(o,"color",t[151]?"#3db4f2":"inherit")},d(e){e&&T(n),a=!1,i(c)}}}function gi(t){let n,o=Array(10),i=[];for(let e=0;e<o.length;e+=1)i[e]=vi(ni(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=C()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);A(e,n,t)},p:e,d(e){N(i,e),e&&T(n)}}}function wi(e){let t,n=[],o=new Map,i=e[10]?.filterSelection||[];const r=e=>e[133].filterSelectionName;for(let t=0;t<i.length;t+=1){let l=oi(e,i,t),s=r(l);o.set(s,n[t]=Di(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=C()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);A(e,t,o)},p(e,l){65279111&l[0]|1008&l[1]&&(i=e[10]?.filterSelection||[],n=be(n,l,r,1,e,i,o,t.parentNode,we,Di,t,oi))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&T(t)}}}function vi(t){let n;return{c(){n=$("div"),n.innerHTML='<div class="filter-name skeleton shimmer svelte-ot0s8d"></div> \n                    <div class="select skeleton shimmer svelte-ot0s8d"></div> \n                ',F(n,"class","filter-select svelte-ot0s8d")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function bi(t){let n;return{c(){n=$("i"),F(n,"class","icon fa-solid fa-angle-down svelte-ot0s8d")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Si(e){let t,n,o;function l(...t){return e[54](e[144],...t)}return{c(){t=$("i"),F(t,"class","icon fa-solid fa-angle-up svelte-ot0s8d")},m(i,s){A(i,t,s),n||(o=[P(t,"keydown",l),P(t,"click",(function(){r(e[22](e[144]))&&e[22](e[144]).apply(this,arguments)}))],n=!0)},p(t,n){e=t},d(e){e&&T(t),n=!1,i(o)}}}function xi(t){let n;return{c(){n=$("div"),n.innerHTML='<h3 class="svelte-ot0s8d">No Results</h3>',F(n,"class","option svelte-ot0s8d")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function ki(e){let t,n=[],o=new Map,i=e[142].options||[];const r=e=>e[133].filterSelectionName+e[142].filName+e[145].optionName;for(let t=0;t<i.length;t+=1){let l=si(e,i,t),s=r(l);o.set(s,n[t]=$i(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=C()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);A(e,t,o)},p(e,l){8389632&l[0]&&(i=e[142].options||[],n=be(n,l,r,1,e,i,o,t.parentNode,we,$i,t,si))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&T(t)}}}function Ei(t){let n;return{c(){n=$("i"),F(n,"class","fa-regular fa-circle-xmark async-element svelte-ot0s8d"),O(n,"--optionColor","#e85d75")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Ai(e){let t;function n(e,t){return"Content Caution"===e[133].filterSelectionName?Ni:Ti}let o=n(e),i=o(e);return{c(){i.c(),t=C()},m(e,n){i.m(e,n),A(e,t,n)},p(e,r){o!==(o=n(e))&&(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&T(t)}}}function Ti(e){let t;return{c(){t=$("i"),F(t,"class","fa-regular fa-circle-check async-element svelte-ot0s8d"),O(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function Ni(e){let t;return{c(){t=$("i"),F(t,"class","fa-regular fa-circle-xmark async-element svelte-ot0s8d"),O(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function $i(e,t){let n,o,l,s,a,c,u,d=(t[145].optionName||"")+"";function f(e,t){return"included"===e[145].selected?Ai:"excluded"===e[145].selected&&"read"!==e[142].changeType?Ei:void 0}let m=f(t),h=m&&m(t);function y(...e){return t[59](t[145],t[142],t[124],t[144],t[133],...e)}return{key:e,first:null,c(){n=$("div"),o=$("h3"),l=L(d),s=I(),h&&h.c(),F(o,"class","svelte-ot0s8d"),F(n,"class",a=p("option "+(Ki(t[145].optionName,t[142].optKeyword)?"":"disable-interaction"))+" svelte-ot0s8d"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,l),x(n,s),h&&h.m(n,null),c||(u=[P(n,"click",(function(){r(t[23](t[145].optionName,t[142].filName,t[124],t[144],t[142].changeType,t[133].filterSelectionName))&&t[23](t[145].optionName,t[142].filName,t[124],t[144],t[142].changeType,t[133].filterSelectionName).apply(this,arguments)})),P(n,"keydown",y)],c=!0)},p(e,o){t=e,1024&o[0]&&d!==(d=(t[145].optionName||"")+"")&&M(l,d),m===(m=f(t))&&h?h.p(t,o):(h&&h.d(1),h=m&&m(t),h&&(h.c(),h.m(n,null))),1024&o[0]&&a!==(a=p("option "+(Ki(t[145].optionName,t[142].optKeyword)?"":"disable-interaction"))+" svelte-ot0s8d")&&F(n,"class",a)},d(e){e&&T(n),h&&h.d(),c=!1,i(u)}}}function Li(e,t){let n,o,l,s,a,c,u,d,f,m,h,y,g,w,v,b,S,k,E,N,C,U,_,V,B,j,R,W,Y,H,X,G,K=(t[142].filName||"")+"",J=t[142].filName+"",z=`${t[2]}px`;function Q(...e){return t[43](t[142],...e)}function Z(){t[53].call(d,t[135],t[144])}function ee(e,t){return e[142].selected&&e[142].options.length&&!e[0]?Si:bi}let te=ee(t),ne=te(t);function oe(...e){return t[55](t[144],...e)}function ie(...e){return t[56](t[144],...e)}function re(...e){return t[57](t[144],...e)}function le(){t[58].call(_,t[135],t[144])}function se(e,t){return 1024&t[0]&&(R=null),null==R&&(R=!!e[142].options?.filter?.(Q)?.length),R?ki:xi}let ae=se(t,[-1,-1,-1,-1,-1]),ce=ae(t);return{key:e,first:null,c(){n=$("div"),o=$("div"),l=$("h2"),s=L(K),a=I(),c=$("div"),u=$("div"),d=$("input"),m=I(),ne.c(),y=I(),g=$("div"),w=$("div"),v=$("div"),b=$("h2"),S=L(J),k=I(),E=$("div"),N=L("×"),U=I(),_=$("input"),B=I(),j=$("div"),ce.c(),F(l,"class","svelte-ot0s8d"),F(o,"class","filter-name svelte-ot0s8d"),F(d,"placeholder","Any"),F(d,"type","search"),F(d,"enterkeyhint","search"),F(d,"autocomplete","off"),F(d,"class","value-input svelte-ot0s8d"),d.disabled=f=!t[7]||t[1]<=425||!t[133].isSelected,F(u,"class","value-wrap svelte-ot0s8d"),F(c,"class","select svelte-ot0s8d"),F(c,"tabindex",h=t[7]&&t[1]<=425&&t[133].isSelected?"0":""),F(b,"class","svelte-ot0s8d"),F(E,"class","closing-x svelte-ot0s8d"),F(E,"tabindex",C=t[7]&&t[142].selected?"0":""),F(v,"class","header svelte-ot0s8d"),F(_,"placeholder","Any"),F(_,"type","search"),F(_,"enterkeyhint","search"),F(_,"autocomplete","off"),_.disabled=V=!t[7]||!t[133].isSelected||!t[142].selected,F(_,"class","svelte-ot0s8d"),F(j,"class","options svelte-ot0s8d"),F(w,"class",W=p("options-wrap-filter-info "+(t[142].options.length&&!0===t[142].selected&&!t[0]?"":"hide"))+" svelte-ot0s8d"),F(g,"class",Y=p("options-wrap "+(t[142].options.length&&!0===t[142].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-ot0s8d"),O(g,"--maxFilterSelectionHeight",z),F(n,"class",H=p("filter-select "+(t[133].isSelected?"":"disable-interaction"))+" svelte-ot0s8d"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,l),x(l,s),x(n,a),x(n,c),x(c,u),x(u,d),D(d,t[10].filterSelection[t[135]].filters.Dropdown[t[144]].optKeyword),x(c,m),ne.m(c,null),x(n,y),x(n,g),x(g,w),x(w,v),x(v,b),x(b,S),x(v,k),x(v,E),x(E,N),x(w,U),x(w,_),D(_,t[10].filterSelection[t[135]].filters.Dropdown[t[144]].optKeyword),x(w,B),x(w,j),ce.m(j,null),X||(G=[P(d,"input",Z),P(c,"keydown",oe),P(c,"click",ie),P(E,"keydown",re),P(E,"click",(function(){r(t[22](t[144]))&&t[22](t[144]).apply(this,arguments)})),P(_,"input",le),P(j,"wheel",q(Qi),{passive:!0}),P(j,"scroll",t[36]),P(g,"wheel",q(Zi),{passive:!0}),P(g,"touchstart",t[60]),P(g,"touchmove",t[61]),P(g,"touchend",t[62]),P(g,"touchcancel",t[63])],X=!0)},p(e,o){t=e,1024&o[0]&&K!==(K=(t[142].filName||"")+"")&&M(s,K),1154&o[0]&&f!==(f=!t[7]||t[1]<=425||!t[133].isSelected)&&(d.disabled=f),1024&o[0]&&d.value!==t[10].filterSelection[t[135]].filters.Dropdown[t[144]].optKeyword&&D(d,t[10].filterSelection[t[135]].filters.Dropdown[t[144]].optKeyword),te===(te=ee(t))&&ne?ne.p(t,o):(ne.d(1),ne=te(t),ne&&(ne.c(),ne.m(c,null))),1154&o[0]&&h!==(h=t[7]&&t[1]<=425&&t[133].isSelected?"0":"")&&F(c,"tabindex",h),1024&o[0]&&J!==(J=t[142].filName+"")&&M(S,J),1152&o[0]&&C!==(C=t[7]&&t[142].selected?"0":"")&&F(E,"tabindex",C),1152&o[0]&&V!==(V=!t[7]||!t[133].isSelected||!t[142].selected)&&(_.disabled=V),1024&o[0]&&_.value!==t[10].filterSelection[t[135]].filters.Dropdown[t[144]].optKeyword&&D(_,t[10].filterSelection[t[135]].filters.Dropdown[t[144]].optKeyword),ae===(ae=se(t,o))&&ce?ce.p(t,o):(ce.d(1),ce=ae(t),ce&&(ce.c(),ce.m(j,null))),1025&o[0]&&W!==(W=p("options-wrap-filter-info "+(t[142].options.length&&!0===t[142].selected&&!t[0]?"":"hide"))+" svelte-ot0s8d")&&F(w,"class",W),1025&o[0]&&Y!==(Y=p("options-wrap "+(t[142].options.length&&!0===t[142].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-ot0s8d")&&F(g,"class",Y),4&o[0]&&z!==(z=`${t[2]}px`)&&O(g,"--maxFilterSelectionHeight",z),1024&o[0]&&H!==(H=p("filter-select "+(t[133].isSelected?"":"disable-interaction"))+" svelte-ot0s8d")&&F(n,"class",H)},d(e){e&&T(n),ne.d(),ce.d(),X=!1,i(G)}}}function Ii(e){let t,n,o,r,l,s,a,c,u,d=(e[139].filName||"")+"";function f(e,t){return e[12]?Pi:Ci}let p=f(e),m=p(e);function h(...t){return e[67](e[139],e[141],e[133],...t)}function y(...t){return e[68](e[139],e[141],e[133],...t)}return{c(){t=$("div"),n=$("div"),o=I(),r=$("div"),m.c(),l=I(),s=$("div"),a=L(d),F(n,"class","svelte-ot0s8d"),O(n,"visibility","none"),F(s,"class","checkbox-label svelte-ot0s8d"),F(r,"class","checkbox-wrap svelte-ot0s8d"),F(t,"class","filter-checkbox svelte-ot0s8d")},m(e,i){A(e,t,i),x(t,n),x(t,o),x(t,r),m.m(r,null),x(r,l),x(r,s),x(s,a),c||(u=[P(r,"click",h),P(r,"keydown",y)],c=!0)},p(t,n){p===(p=f(e=t))&&m?m.p(e,n):(m.d(1),m=p(e),m&&(m.c(),m.m(r,l))),1024&n[0]&&d!==(d=(e[139].filName||"")+"")&&M(a,d)},d(e){e&&T(t),m.d(),c=!1,i(u)}}}function Ci(e){let t,n,o,r;function l(...t){return e[65](e[139],e[141],e[133],...t)}function s(){e[66].call(t,e[140],e[141])}return{c(){t=$("input"),F(t,"type","checkbox"),F(t,"class","checkbox svelte-ot0s8d"),t.disabled=n=!e[7]},m(n,i){A(n,t,i),t.checked=e[139].isSelected,o||(r=[P(t,"change",l),P(t,"change",s)],o=!0)},p(o,i){e=o,128&i[0]&&n!==(n=!e[7])&&(t.disabled=n),1024&i[0]&&(t.checked=e[139].isSelected)},d(e){e&&T(t),o=!1,i(r)}}}function Pi(e){let t,n,o,i,r;return{c(){t=$("input"),F(t,"type","checkbox"),F(t,"class","checkbox svelte-ot0s8d"),t.checked=n=e[139].isSelected,t.disabled=o=!e[7]},m(n,o){A(n,t,o),i||(r=P(t,"change",e[64]),i=!0)},p(e,i){1024&i[0]&&n!==(n=e[139].isSelected)&&(t.checked=n),128&i[0]&&o!==(o=!e[7])&&(t.disabled=o)},d(e){e&&T(t),i=!1,r()}}}function qi(e,t){let n,o,i=t[133].isSelected&&Ii(t);return{key:e,first:null,c(){n=C(),i&&i.c(),o=C(),this.first=n},m(e,t){A(e,n,t),i&&i.m(e,t),A(e,o,t)},p(e,n){(t=e)[133].isSelected?i?i.p(t,n):(i=Ii(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&T(n),i&&i.d(e),e&&T(o)}}}function Fi(e){let t,n,o,i,r,l,s,a,c,u,d,f,p,m=(e[136].filName||"")+"";function h(...t){return e[69](e[138],e[136],e[133],...t)}return{c(){t=$("div"),n=$("div"),o=$("h2"),i=L(m),r=I(),l=$("div"),s=$("input"),d=I(),F(o,"class","svelte-ot0s8d"),F(n,"class","filter-input-number-name svelte-ot0s8d"),F(s,"class","value-input-number svelte-ot0s8d"),F(s,"type","text"),F(s,"placeholder",a="scoring system"===e[136].filName?"Default: User Scoring":e[18].includes(e[136].filName)?">123 or 123":null!==e[136].defaultValue?"Default: "+e[136].defaultValue:"123"),s.value=c=e[136].numberValue||"",s.disabled=u=!e[7],F(l,"class","value-input-number-wrap svelte-ot0s8d"),F(t,"class","filter-input-number svelte-ot0s8d"),O(t,"display",e[133].isSelected?"":"none")},m(e,a){A(e,t,a),x(t,n),x(n,o),x(o,i),x(t,r),x(t,l),x(l,s),x(t,d),f||(p=P(s,"input",h),f=!0)},p(n,o){e=n,1024&o[0]&&m!==(m=(e[136].filName||"")+"")&&M(i,m),1024&o[0]&&a!==(a="scoring system"===e[136].filName?"Default: User Scoring":e[18].includes(e[136].filName)?">123 or 123":null!==e[136].defaultValue?"Default: "+e[136].defaultValue:"123")&&F(s,"placeholder",a),1024&o[0]&&c!==(c=e[136].numberValue||"")&&s.value!==c&&(s.value=c),128&o[0]&&u!==(u=!e[7])&&(s.disabled=u),1024&o[0]&&O(t,"display",e[133].isSelected?"":"none")},d(e){e&&T(t),f=!1,p()}}}function Mi(e,t){let n,o,i=t[133].isSelected&&Fi(t);return{key:e,first:null,c(){n=C(),i&&i.c(),o=C(),this.first=n},m(e,t){A(e,n,t),i&&i.m(e,t),A(e,o,t)},p(e,n){(t=e)[133].isSelected?i?i.p(t,n):(i=Fi(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&T(n),i&&i.d(e),e&&T(o)}}}function Di(e,t){let n,o,i,r,l=[],s=new Map,a=[],c=new Map,u=[],d=new Map,f=t[133].filters.Dropdown||[];const p=e=>e[133].filterSelectionName+e[142].filName;for(let e=0;e<f.length;e+=1){let n=li(t,f,e),o=p(n);s.set(o,l[e]=Li(o,n))}let m=t[133].filters.Checkbox||[];const h=e=>e[133].filterSelectionName+e[139].filName;for(let e=0;e<m.length;e+=1){let n=ri(t,m,e),o=h(n);c.set(o,a[e]=qi(o,n))}let y=t[133].filters["Input Number"]||[];const g=e=>e[133].filterSelectionName+e[136].filName;for(let e=0;e<y.length;e+=1){let n=ii(t,y,e),o=g(n);d.set(o,u[e]=Mi(o,n))}return{key:e,first:null,c(){n=C();for(let e=0;e<l.length;e+=1)l[e].c();o=I();for(let e=0;e<a.length;e+=1)a[e].c();i=I();for(let e=0;e<u.length;e+=1)u[e].c();r=C(),this.first=n},m(e,t){A(e,n,t);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,t);A(e,o,t);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,t);A(e,i,t);for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(e,t);A(e,r,t)},p(e,n){t=e,14681223&n[0]|992&n[1]&&(f=t[133].filters.Dropdown||[],l=be(l,n,p,1,t,f,s,o.parentNode,we,Li,o,li)),16782464&n[0]|16&n[1]&&(m=t[133].filters.Checkbox||[],a=be(a,n,h,1,t,m,c,i.parentNode,we,qi,i,ri)),33817728&n[0]&&(y=t[133].filters["Input Number"]||[],u=be(u,n,g,1,t,y,d,r.parentNode,we,Mi,r,ii))},d(e){e&&T(n);for(let t=0;t<l.length;t+=1)l[t].d(e);e&&T(o);for(let t=0;t<a.length;t+=1)a[t].d(e);e&&T(i);for(let t=0;t<u.length;t+=1)u[t].d(e);e&&T(r)}}}function Oi(e){let t,n,o;return{c(){t=$("div"),t.innerHTML='<i class="fa-solid fa-ban svelte-ot0s8d"></i>',F(t,"tabindex","0"),F(t,"class","empty-tagFilter svelte-ot0s8d"),F(t,"title","Remove Filters"),O(t,"display",e[13]?"":"none"),O(t,"visibility",e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(er)]?.filterSelectionName]?.length?"visible":"hidden")},m(i,r){A(i,t,r),n||(o=[P(t,"click",e[28]),P(t,"keydown",e[71])],n=!0)},p(e,n){8192&n[0]&&O(t,"display",e[13]?"":"none"),9216&n[0]&&O(t,"visibility",e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(er)]?.filterSelectionName]?.length?"visible":"hidden")},d(e){e&&T(t),n=!1,i(o)}}}function Ui(e){let t,n,o;return{c(){t=$("div"),t.innerHTML='<i class="fa-solid fa-ban svelte-ot0s8d"></i>',F(t,"tabindex","0"),F(t,"class","empty-tagFilter svelte-ot0s8d"),F(t,"title","Remove Filters"),O(t,"display",e[13]?"":"none"),O(t,"visibility",e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(tr)]?.filterSelectionName]?.length?"visible":"hidden")},m(i,r){A(i,t,r),n||(o=[P(t,"click",e[28]),P(t,"keydown",e[72])],n=!0)},p(e,n){8192&n[0]&&O(t,"display",e[13]?"":"none"),9216&n[0]&&O(t,"visibility",e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(tr)]?.filterSelectionName]?.length?"visible":"hidden")},d(e){e&&T(t),n=!1,i(o)}}}function _i(e){let t,n,o=(e[123]||"")+"";return{c(){t=$("h3"),n=L(o),F(t,"class","svelte-ot0s8d")},m(e,o){A(e,t,o),x(t,n)},p(e,t){9216&t[0]&&o!==(o=(e[123]||"")+"")&&M(n,o)},d(e){e&&T(t)}}}function Vi(e){let t,n,o=(e[130]+": "+e[123]||"")+"";return{c(){t=$("h3"),n=L(o),F(t,"class","svelte-ot0s8d")},m(e,o){A(e,t,o),x(t,n)},p(e,t){9216&t[0]&&o!==(o=(e[130]+": "+e[123]||"")+"")&&M(n,o)},d(e){e&&T(t)}}}function Bi(e){let t,n,o=(e[123]+": "+e[129]||"")+"";return{c(){t=$("h3"),n=L(o),F(t,"class","svelte-ot0s8d")},m(e,o){A(e,t,o),x(t,n)},p(e,t){9216&t[0]&&o!==(o=(e[123]+": "+e[129]||"")+"")&&M(n,o)},d(e){e&&T(t)}}}function ji(e,t){let n,o,r,l,s,a,c,u;function d(e,t){return"input number"===e[127]?Bi:e[130]?Vi:_i}let f=d(t),p=f(t);function m(...e){return t[73](t[124],t[123],t[127],t[128],t[130],...e)}function h(...e){return t[74](t[124],t[123],t[127],t[128],t[130],...e)}function y(...e){return t[75](t[124],t[123],t[127],t[128],t[126],t[130],t[129],...e)}function g(...e){return t[76](t[124],t[123],t[127],t[128],t[126],t[130],t[129],...e)}return{key:e,first:null,c(){n=$("div"),p.c(),o=I(),r=$("i"),l=I(),F(r,"class","fa-solid fa-xmark svelte-ot0s8d"),F(r,"tabindex","0"),F(n,"class","activeTagFilter svelte-ot0s8d"),F(n,"tabindex","0"),O(n,"--activeTagFilterColor","included"===t[125]?"#5f9ea0":"read"===t[126]?"#000":"#e85d75"),this.first=n},m(e,t){var i;A(e,n,t),p.m(n,null),x(n,o),x(n,r),x(n,l),a=!0,c||(u=[P(r,"click",(i=m,function(e){return e.preventDefault(),i.call(this,e)})),P(r,"keydown",h),P(n,"click",y),P(n,"keydown",g)],c=!0)},p(e,i){f===(f=d(t=e))&&p?p.p(t,i):(p.d(1),p=f(t),p&&(p.c(),p.m(n,o))),9216&i[0]&&O(n,"--activeTagFilterColor","included"===t[125]?"#5f9ea0":"read"===t[126]?"#000":"#e85d75")},i(e){a||(te((()=>{a&&(s||(s=ge(n,jt,{x:-10,duration:300},!0)),s.run(1))})),a=!0)},o(e){s||(s=ge(n,jt,{x:-10,duration:300},!1)),s.run(0),a=!1},d(e){e&&T(n),p.d(),e&&s&&s.end(),c=!1,i(u)}}}function Ri(t){let n;return{c(){n=$("div"),n.innerHTML='<div class="showHideActiveFilters skeleton shimmer svelte-ot0s8d"></div> \n            <div class="sortFilter skeleton shimmer svelte-ot0s8d"></div>',F(n,"class","last-filter-option svelte-ot0s8d")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Wi(e){let t,n,o,r,l,s,a,c,u,d,f,m,h,y,g,w,v,b,S,k,E,N,C,q,D,U,_,V,B=(e[10]?.sortFilter?.[e[10]?.sortFilter.findIndex(rr)]?.sortName||"")+"",j=[],R=new Map,W=`${e[2]}px`,Y=e[10]?.sortFilter||[];const H=e=>e[120]+e[122];for(let t=0;t<Y.length;t+=1){let n=ei(e,Y,t),o=H(n);R.set(o,j[t]=Hi(o,n))}return{c(){t=$("div"),n=$("div"),o=$("i"),l=I(),s=$("div"),a=$("i"),d=I(),f=$("h2"),m=L(B),y=I(),g=$("div"),w=$("div"),v=$("div"),b=$("h2"),b.textContent="Sort By",S=I(),k=$("div"),E=L("×"),C=I(),q=$("div");for(let e=0;e<j.length;e+=1)j[e].c();F(o,"class",r=p("icon fa-solid fa-arrows-"+(e[11]??1?"up-down":"left-right"))+" svelte-ot0s8d"),F(n,"tabindex","0"),F(n,"class","changeGridView svelte-ot0s8d"),F(a,"tabindex",c=e[5]?"":"0"),F(a,"class",u=p("fa-duotone fa-sort-"+("asc"===e[10]?.sortFilter?.[e[10]?.sortFilter?.findIndex(ir)]?.sortType?"up":"down"))+" svelte-ot0s8d"),F(f,"tabindex",h=e[5]?"":"0"),F(f,"class","svelte-ot0s8d"),F(b,"class","svelte-ot0s8d"),F(k,"class","closing-x svelte-ot0s8d"),F(k,"tabindex",N=e[5]&&e[1]<=425?"0":""),F(v,"class","header svelte-ot0s8d"),F(q,"class","options svelte-ot0s8d"),F(w,"class",D=p("options-wrap-filter-info "+(e[5]?"":"hide"))+" svelte-ot0s8d"),F(g,"class",U=p("options-wrap "+(e[5]?"":"disable-interaction hide"))+" svelte-ot0s8d"),O(g,"--maxFilterSelectionHeight",W),F(s,"class","sortFilter svelte-ot0s8d"),F(t,"class","last-filter-option svelte-ot0s8d")},m(i,r){A(i,t,r),x(t,n),x(n,o),x(t,l),x(t,s),x(s,a),x(s,d),x(s,f),x(f,m),x(s,y),x(s,g),x(g,w),x(w,v),x(v,b),x(v,S),x(v,k),x(k,E),x(w,C),x(w,q);for(let e=0;e<j.length;e+=1)j[e]&&j[e].m(q,null);_||(V=[P(n,"click",e[32]),P(n,"keydown",e[78]),P(a,"click",e[31]),P(a,"keydown",e[79]),P(f,"click",e[29]),P(f,"keydown",e[80]),P(k,"keydown",e[81]),P(k,"click",e[29]),P(q,"scroll",e[36]),P(g,"touchstart",e[83]),P(g,"touchmove",e[84]),P(g,"touchend",e[85]),P(g,"touchcancel",e[86])],_=!0)},p(e,t){2048&t[0]&&r!==(r=p("icon fa-solid fa-arrows-"+(e[11]??1?"up-down":"left-right"))+" svelte-ot0s8d")&&F(o,"class",r),32&t[0]&&c!==(c=e[5]?"":"0")&&F(a,"tabindex",c),1024&t[0]&&u!==(u=p("fa-duotone fa-sort-"+("asc"===e[10]?.sortFilter?.[e[10]?.sortFilter?.findIndex(ir)]?.sortType?"up":"down"))+" svelte-ot0s8d")&&F(a,"class",u),1024&t[0]&&B!==(B=(e[10]?.sortFilter?.[e[10]?.sortFilter.findIndex(rr)]?.sortName||"")+"")&&M(m,B),32&t[0]&&h!==(h=e[5]?"":"0")&&F(f,"tabindex",h),34&t[0]&&N!==(N=e[5]&&e[1]<=425?"0":"")&&F(k,"tabindex",N),1073742848&t[0]&&(Y=e[10]?.sortFilter||[],j=be(j,t,H,1,e,Y,R,q,we,Hi,null,ei)),32&t[0]&&D!==(D=p("options-wrap-filter-info "+(e[5]?"":"hide"))+" svelte-ot0s8d")&&F(w,"class",D),32&t[0]&&U!==(U=p("options-wrap "+(e[5]?"":"disable-interaction hide"))+" svelte-ot0s8d")&&F(g,"class",U),4&t[0]&&W!==(W=`${e[2]}px`)&&O(g,"--maxFilterSelectionHeight",W)},d(e){e&&T(t);for(let e=0;e<j.length;e+=1)j[e].d();_=!1,i(V)}}}function Yi(e){let t,n;return{c(){t=$("i"),F(t,"class",n=p("fa-duotone fa-sort-"+("asc"===e[10]?.sortFilter?.[e[10]?.sortFilter?.findIndex(lr)].sortType?"up":"down"))+" svelte-ot0s8d")},m(e,n){A(e,t,n)},p(e,o){1024&o[0]&&n!==(n=p("fa-duotone fa-sort-"+("asc"===e[10]?.sortFilter?.[e[10]?.sortFilter?.findIndex(lr)].sortType?"up":"down"))+" svelte-ot0s8d")&&F(t,"class",n)},d(e){e&&T(t)}}}function Hi(e,t){let n,o,l,s,a,c,u,d=(t[120]||"")+"",f=t[10]?.sortFilter?.[t[10]?.sortFilter?.findIndex(Ji)].sortName===t[120]&&t[120],p=f&&Yi(t);function m(...e){return t[82](t[120],...e)}return{key:e,first:null,c(){n=$("div"),o=$("h3"),l=L(d),s=I(),p&&p.c(),a=I(),F(o,"class","svelte-ot0s8d"),F(n,"class","option svelte-ot0s8d"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,l),x(n,s),p&&p.m(n,null),x(n,a),c||(u=[P(n,"click",(function(){r(t[30](t[120]))&&t[30](t[120]).apply(this,arguments)})),P(n,"keydown",m)],c=!0)},p(e,o){t=e,1024&o[0]&&d!==(d=(t[120]||"")+"")&&M(l,d),1024&o[0]&&(f=t[10]?.sortFilter?.[t[10]?.sortFilter?.findIndex(Ji)].sortName===t[120]&&t[120]),f?p?p.p(t,o):(p=Yi(t),p.c(),p.m(n,a)):p&&(p.d(1),p=null)},d(e){e&&T(n),p&&p.d(),c=!1,i(u)}}}function Xi(e){let t,n,o,i,r,l;return{c(){t=$("div"),n=$("div"),o=$("i"),F(o,"class","fa-solid fa-arrow-left svelte-ot0s8d"),F(n,"class",i=p("go-back-grid"+(e[9]>=100?" willGoBack":""))+" svelte-ot0s8d"),F(t,"class","go-back-grid-highlight svelte-ot0s8d"),O(t,"--scale",Math.max(1,.01*(e[9]??1)*2)),O(t,"--position","-"+(100-(e[9]??0))+"%")},m(e,i){A(e,t,i),x(t,n),x(n,o),l=!0},p(e,o){(!l||512&o[0]&&i!==(i=p("go-back-grid"+(e[9]>=100?" willGoBack":""))+" svelte-ot0s8d"))&&F(n,"class",i),512&o[0]&&O(t,"--scale",Math.max(1,.01*(e[9]??1)*2)),512&o[0]&&O(t,"--position","-"+(100-(e[9]??0))+"%")},i(e){l||(r&&r.end(1),l=!0)},o(e){r=ye(t,jt,{x:-176,duration:1e3}),l=!1},d(e){e&&T(t),e&&r&&r.end()}}}function Gi(e){let t,n,o,r,l,s,a,c,u,d,m,h,y,g,w,v,b,S,k,E,N,L,q,M,U,_,V,B,j,R,W,Y,H,X,G,K,J=`${e[2]}px`,z=[],Q=new Map;function Z(e,t){return e[10]?ui:ci}let ee=Z(e),te=ee(e),ne=(e[14]||!e[16])&&di(e),oe=e[10]&&hi(e);function ie(e,t){return e[10]?wi:gi}let re=ie(e),le=re(e),se=!e[6]&&Oi(e),ae=e[6]&&Ui(e),ce=e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(nr)]?.filterSelectionName]||[];const ue=e=>e[123]+e[124]+(e[130]??"");for(let t=0;t<ce.length;t+=1){let n=ti(e,ce,t),o=ue(n);Q.set(o,z[t]=ji(o,n))}function he(e,t){return e[10]?Wi:Ri}let ye=he(e),ge=ye(e);const we=e[42].default,Se=function(e,t,n,o){if(e){const i=f(e,t,n,o);return e[0](i)}}(we,e,e[41],null);let xe=(e[4]||e[3]||e[5])&&window.visualViewport.width<=425&&e[8]&&Xi(e);return{c(){t=$("main"),n=$("div"),te.c(),o=I(),ne&&ne.c(),r=I(),l=$("div"),s=$("input"),a=I(),c=$("div"),u=$("i"),m=I(),h=$("div"),oe&&oe.c(),g=I(),w=$("div"),v=$("i"),b=I(),S=$("div"),le.c(),E=I(),N=$("div"),se&&se.c(),L=I(),q=$("div"),ae&&ae.c(),M=I();for(let e=0;e<z.length;e+=1)z[e].c();U=I(),_=$("div"),V=$("i"),R=I(),ge.c(),W=I(),Se&&Se.c(),Y=I(),xe&&xe.c(),H=C(),F(n,"class","home-status svelte-ot0s8d"),F(s,"id","input-search"),F(s,"class","input-search svelte-ot0s8d"),F(s,"type","search"),F(s,"enterkeyhint","search"),F(s,"autocomplete","off"),F(s,"placeholder","Search"),F(u,"class","input-search-wrap-icon fa-solid fa-sliders svelte-ot0s8d"),F(u,"tabindex",d=e[3]?"":"0"),F(h,"class",y=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-ot0s8d"),O(h,"--maxFilterSelectionHeight",J),F(c,"class","filterType svelte-ot0s8d"),F(v,"class",p("showFilterOptions fa-solid fa-filter")+" svelte-ot0s8d"),F(v,"tabindex","0"),F(w,"class","showFilterOptions-container svelte-ot0s8d"),F(l,"class","input-search-wrap svelte-ot0s8d"),F(S,"class",k=p("filters "+(e[7]?"":"disable-interaction")+(e[17]?" hasWheel":""))+" svelte-ot0s8d"),F(S,"id","filters"),O(S,"--maxPaddingHeight",e[2]+65+"px"),F(q,"id","tagFilters"),F(q,"class","tagFilters svelte-ot0s8d"),O(q,"max-height",e[6]?"200px":"30px"),F(V,"class",B=p("icon fa-solid fa-angle-"+(e[6]?"up":"down"))+" svelte-ot0s8d"),F(_,"tabindex","0"),F(_,"class","showHideActiveFilters svelte-ot0s8d"),F(N,"class",j=p("activeFilters"+(e[6]?" seenMore":""))+" svelte-ot0s8d"),O(N,"display",(e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(or)]?.filterSelectionName]||[]).length?"":"none"),F(t,"class","svelte-ot0s8d"),O(t,"--filters-space",e[7]?"80px":""),O(t,"--active-filter-space",(e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(sr)]?.filterSelectionName]||[]).length?"auto":"")},m(i,d){A(i,t,d),x(t,n),te.m(n,null),x(n,o),ne&&ne.m(n,null),x(t,r),x(t,l),x(l,s),D(s,e[15]),x(l,a),x(l,c),x(c,u),x(c,m),x(c,h),oe&&oe.m(h,null),x(l,g),x(l,w),x(w,v),x(t,b),x(t,S),le.m(S,null),x(t,E),x(t,N),se&&se.m(N,null),x(N,L),x(N,q),ae&&ae.m(q,null),x(q,M);for(let e=0;e<z.length;e+=1)z[e]&&z[e].m(q,null);x(N,U),x(N,_),x(_,V),x(t,R),ge.m(t,null),x(t,W),Se&&Se.m(t,null),A(i,Y,d),xe&&xe.m(i,d),A(i,H,d),X=!0,G||(K=[P(s,"input",e[44]),P(u,"click",e[20]),P(u,"keydown",e[45]),P(h,"touchstart",e[48]),P(h,"touchmove",e[49]),P(h,"touchend",e[50]),P(h,"touchcancel",e[51]),P(v,"click",e[33]),P(v,"keydown",e[52]),P(S,"wheel",e[70]),P(_,"click",e[34]),P(_,"keydown",e[77])],G=!0)},p(e,i){ee===(ee=Z(e))&&te?te.p(e,i):(te.d(1),te=ee(e),te&&(te.c(),te.m(n,o))),e[14]||!e[16]?ne?(ne.p(e,i),81920&i[0]&&pe(ne,1)):(ne=di(e),ne.c(),pe(ne,1),ne.m(n,null)):ne&&(de(),me(ne,1,1,(()=>{ne=null})),fe()),32768&i[0]&&s.value!==e[15]&&D(s,e[15]),(!X||8&i[0]&&d!==(d=e[3]?"":"0"))&&F(u,"tabindex",d),e[10]?oe?oe.p(e,i):(oe=hi(e),oe.c(),oe.m(h,null)):oe&&(oe.d(1),oe=null),(!X||8&i[0]&&y!==(y=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-ot0s8d"))&&F(h,"class",y),4&i[0]&&J!==(J=`${e[2]}px`)&&O(h,"--maxFilterSelectionHeight",J),re===(re=ie(e))&&le?le.p(e,i):(le.d(1),le=re(e),le&&(le.c(),le.m(S,null))),(!X||131200&i[0]&&k!==(k=p("filters "+(e[7]?"":"disable-interaction")+(e[17]?" hasWheel":""))+" svelte-ot0s8d"))&&F(S,"class",k),4&i[0]&&O(S,"--maxPaddingHeight",e[2]+65+"px"),e[6]?se&&(se.d(1),se=null):se?se.p(e,i):(se=Oi(e),se.c(),se.m(N,L)),e[6]?ae?ae.p(e,i):(ae=Ui(e),ae.c(),ae.m(q,M)):ae&&(ae.d(1),ae=null),201335808&i[0]&&(ce=e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(nr)]?.filterSelectionName]||[],de(),z=be(z,i,ue,1,e,ce,Q,q,ve,ji,null,ti),fe()),64&i[0]&&O(q,"max-height",e[6]?"200px":"30px"),(!X||64&i[0]&&B!==(B=p("icon fa-solid fa-angle-"+(e[6]?"up":"down"))+" svelte-ot0s8d"))&&F(V,"class",B),(!X||64&i[0]&&j!==(j=p("activeFilters"+(e[6]?" seenMore":""))+" svelte-ot0s8d"))&&F(N,"class",j),9216&i[0]&&O(N,"display",(e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(or)]?.filterSelectionName]||[]).length?"":"none"),ye===(ye=he(e))&&ge?ge.p(e,i):(ge.d(1),ge=ye(e),ge&&(ge.c(),ge.m(t,W))),Se&&Se.p&&(!X||1024&i[1])&&function(e,t,n,o,i,r){if(i){const l=f(t,n,o,r);e.p(l,i)}}(Se,we,e,e[41],X?function(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}(we,e[41],i,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[41]),null),128&i[0]&&O(t,"--filters-space",e[7]?"80px":""),9216&i[0]&&O(t,"--active-filter-space",(e[13]?.[e[10]?.filterSelection?.[e[10]?.filterSelection?.findIndex(sr)]?.filterSelectionName]||[]).length?"auto":""),(e[4]||e[3]||e[5])&&window.visualViewport.width<=425&&e[8]?xe?(xe.p(e,i),312&i[0]&&pe(xe,1)):(xe=Xi(e),xe.c(),pe(xe,1),xe.m(H.parentNode,H)):xe&&(de(),me(xe,1,1,(()=>{xe=null})),fe())},i(e){if(!X){pe(ne);for(let e=0;e<ce.length;e+=1)pe(z[e]);pe(Se,e),pe(xe),X=!0}},o(e){me(ne);for(let e=0;e<z.length;e+=1)me(z[e]);me(Se,e),me(xe),X=!1},d(e){e&&T(t),te.d(),ne&&ne.d(),oe&&oe.d(),le.d(),se&&se.d(),ae&&ae.d();for(let e=0;e<z.length;e+=1)z[e].d();ge.d(),Se&&Se.d(e),e&&T(Y),xe&&xe.d(e),e&&T(H),G=!1,i(K)}}}function Ki(e,t){if("string"==typeof e&&"string"==typeof t)return e.toLowerCase().includes(t.trim().toLowerCase())}const Ji=({sortType:e})=>"none"!==e,zi=({isSelected:e})=>e,Qi=()=>{},Zi=()=>{},er=({isSelected:e})=>e,tr=({isSelected:e})=>e,nr=({isSelected:e})=>e,or=({isSelected:e})=>e,ir=({sortType:e})=>"none"!==e,rr=({sortType:e})=>"none"!==e,lr=({sortType:e})=>"none"!==e,sr=({isSelected:e})=>e;function ar(e,t,n){let o,i,r,l,s,a,c,u,f,p,h,y,g,w,v;d(e,st,(e=>n(101,o=e))),d(e,Oe,(e=>n(10,i=e))),d(e,Ve,(e=>n(102,r=e))),d(e,tt,(e=>n(103,l=e))),d(e,_e,(e=>n(104,s=e))),d(e,et,(e=>n(11,a=e))),d(e,Ze,(e=>n(12,c=e))),d(e,Ue,(e=>n(13,u=e))),d(e,Be,(e=>n(14,f=e))),d(e,lt,(e=>n(105,p=e))),d(e,De,(e=>n(106,h=e))),d(e,rt,(e=>n(15,y=e))),d(e,je,(e=>n(107,g=e))),d(e,Me,(e=>n(16,w=e))),d(e,Fe,(e=>n(17,v=e)));let b,S,x,k,E,A,T,N,$,L,I,C,P,q,F,{$$slots:M={},$$scope:D}=t,O=!0,U=window.visualViewport.width,_=window.visualViewport.height,V=.3*_,B=!1,j=!1,R=["Algorithm Filter"],W=["sort","Anime Filter","Content Caution"],Y=["weighted score","score","average score","user score","popularity"],X=!1,G=!1;async function K(e){c||(R.includes(e)?(X=!0,m(Be,f="Updating List",f),async function(){await Gn(!0,"shouldProcessRecommendation"),An({filterOptions:i,activeTagFilters:u}).then((async()=>{await Gn(!1,"shouldProcessRecommendation"),Et.update((e=>!e)),J()})).catch((e=>{throw J(),e}))}()):W.includes(e)?(G=!0,m(Be,f="Updating List",f),J()):G||X||g||(await Gn(i,"filterOptions"),await Gn(u,"activeTagFilters")))}function J(){r&&(r.terminate(),m(Ve,r=null,r)),xn({filterOptions:i,activeTagFilters:u}).then((async e=>{X=G=!1,m(Ve,r=e.animeLoaderWorker,r),m(rt,y="",y),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(De,h=e.hiddenEntries,h),m(lt,p=e.numberOfNextLoadedGrid,p)),m(Be,f=null,f)})).catch((e=>{throw e}))}async function z(){let e=document.getElementById("tagFilters");await ee(),e instanceof Element&&(e.scrollTop=0)}function Q(){_=window.visualViewport.height,n(2,V=.3*_),n(1,U=window.visualViewport.width)}async function Z(e){if(c)return Se();let t=i?.filterSelection.findIndex((({isSelected:e})=>e)),o=i?.filterSelection?.[t].filterSelectionName;if(o!==e){n(5,x=!1),s?.length>36&&!a&&await ve(),i?.filterSelection?.[t].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Oe,i.filterSelection[t]=i?.filterSelection?.[t],i),n(4,S=null),m(Oe,i.filterSelection[t].isSelected=!1,i);let o=i?.filterSelection?.findIndex((({filterSelectionName:t})=>t===e));m(Oe,i.filterSelection[o].isSelected=!0,i),z(),K()}k instanceof Element&&k.closest(".filterType")&&(_t(k,"highlight"),k=null),n(3,b=!1)}function te(e){if(c&&(i?.filterSelection?.length??0)<1)return Se();let t=e.target,o=t.classList,r=t.closest(".filterType"),l=t.closest(".options-wrap");!o.contains("filterType")&&!r||b?l&&!o.contains("closing-x")||o.contains("options-wrap")||(k instanceof Element&&k.closest(".filterType")&&(_t(k,"highlight"),k=null),n(3,b=!1)):n(3,b=!0)}function ne(){E&&clearTimeout(E),A=!0,E=setTimeout((()=>{A=!1}),300)}function oe(e,t){if(A&&"mouse"===e.pointerType)return;let o=e.target,r=o.closest(".filter-select");if(r===S)return;let l=i?.filterSelection?.findIndex((({isSelected:e})=>e));if(S instanceof Element){let e=Array.from(S.parentElement.children).filter((e=>!e.classList.contains("disable-interaction"))).indexOf(S);if(o.classList.contains("icon")&&!o.classList.contains("fa-angle-down")&&i?.filterSelection?.[l].filters.Dropdown[e].selected)return;m(Oe,i.filterSelection[l].filters.Dropdown[e].selected=!1,i)}O&&n(0,O=!1),k instanceof Element&&k.closest(".filter-select")&&(_t(k,"highlight"),k=null),m(Oe,i.filterSelection[l].filters.Dropdown[t].selected=!0,i),n(4,S=r)}function ie(e){let t=i?.filterSelection?.findIndex((({isSelected:e})=>e));m(Oe,i.filterSelection[t].filters.Dropdown[e].selected=!1,i),k instanceof Element&&k.closest(".filter-select")&&(_t(k,"highlight"),k=null),n(4,S=null)}async function re(e){if(i?.filterSelection?.length<1||!i)return;let t=e.target,o=t.classList;if(o.contains("options-wrap")&&"fixed"===getComputedStyle(t).position){k instanceof Element&&(_t(k,"highlight"),k=null),n(3,b=!1),n(5,x=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Oe,i.filterSelection[e]=i?.filterSelection?.[e],i),n(4,S=null)}else if(!o.contains("options-wrap")&&!t.closest(".options-wrap")&&!o.contains("async-element")){let e=t.closest(".filterType");o.contains("filterType")||e||(k instanceof Element&&k.closest(".filterType")&&(_t(k,"highlight"),k=null),n(3,b=!1));let r=t.closest(".sortFilter");o.contains("sortFilter")||r||(k instanceof Element&&k.closest(".sortFilter")&&(_t(k,"highlight"),k=null),n(5,x=!1));let l=t.closest(".select");if(!o.contains("select")&&!o.contains("fa-angle-down")&&!l){k instanceof Element&&k.closest(".filter-select")&&(_t(k,"highlight"),k=null);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Oe,i.filterSelection[e]=i?.filterSelection?.[e],i),n(4,S=null)}}}function le(e,t,n,o,r,l){if(c)return Se();let s=i?.filterSelection?.findIndex((({isSelected:e})=>e)),a=i?.filterSelection?.[s].filterSelectionName,d=i?.filterSelection?.[s].filters.Dropdown[o].options[n].selected;"none"===d||!0===d||"read"===r&&"included"!==d?(m(Oe,i.filterSelection[s].filters.Dropdown[o].options[n].selected="included",i),m(Ue,u[a]=u[a].filter((o=>o.optionName+o.optionIdx+o.optionType!==e+n+t)),u),u[a].unshift({optionName:e,optionType:t,optionIdx:n,categIdx:o,selected:"included",changeType:r,filterType:"dropdown"}),Ue.set(u)):"included"===d?"read"===r?(m(Oe,i.filterSelection[s].filters.Dropdown[o].options[n].selected="none",i),m(Ue,u[a]=u[a].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&(!i.optionType||i.optionType===t)))),u)):(m(Oe,i.filterSelection[s].filters.Dropdown[o].options[n].selected="excluded",i),m(Ue,u[a]=u[a].map((i=>(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&"included"===i.selected&&i.optionType===t&&(i.selected="excluded"),i))),u)):(m(Oe,i.filterSelection[s].filters.Dropdown[o].options[n].selected="none",i),m(Ue,u[a]=u[a].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&i.optionType===t))),u)),K(l)}function se(e,t,n,o){let r=e.target.classList,l=e.which||e.keyCode||0;if(r.contains("checkbox")&&"click"===e.type||r.contains("checkbox")&&13!==l&&"keydown"===e.type||A&&"mouse"===e.pointerType)return;if(c)return void(r.contains("checkbox")||Se());let s=i?.filterSelection?.findIndex((({isSelected:e})=>e)),a=i?.filterSelection?.[s].filterSelectionName,d=i?.filterSelection?.[s].filters.Checkbox[n].isSelected;d?m(Ue,u[a]=u[a].filter((e=>!(e.optionIdx===n&&e.optionName===t&&"checkbox"===e.filterType&&"included"===e.selected))),u):(m(Ue,u[a]=u[a].filter((e=>e.optionName+e.optionIdx!==t+n)),u),u[a].unshift({optionName:t,optionIdx:n,filterType:"checkbox",selected:"included",changeType:"read"}),Ue.set(u)),m(Oe,i.filterSelection[s].filters.Checkbox[n].isSelected=!i?.filterSelection?.[s].filters.Checkbox[n].isSelected,i),K(o)}function ae(e,t,n,o,r,l,s){if(c)return Se();let a=i?.filterSelection?.findIndex((({isSelected:e})=>e)),d=i?.filterSelection?.[a].filterSelectionName,f=i?.filterSelection?.[a].filters["Input Number"][n].numberValue;if(Y.includes(o)&&/^(>=|<=|<|>).*($)/.test(t)){let c=t.split(/(<=|>=|<|>)/).filter((e=>e));if(t!==f&&c.length<=2){let p,h,y=t.split(/(<=|>=|<|>)/).filter((e=>e));if(c[0].includes(">")||c[0].includes("<")?(p=c[0],h=c[1]):(p=c[1],h=c[0]),y[0].includes(">")||y[0].includes("<")?(y[0],y[1]):(y[1],y[0]),t!==f&&(!isNaN(h)&&(parseFloat(h)>=l||"number"!=typeof l)&&(parseFloat(h)<=r||"number"!=typeof r)||!h)){if(h){let e=u[d].findIndex((e=>e.optionName===o&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(Ue,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==o+n)),u),u[d].unshift({optionName:o,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(u[d].splice(e,1),m(Ue,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==o+n)),u),u[d].unshift({optionName:o,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),Ue.set(u)}else m(Ue,u[d]=u[d].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===f&&"input number"===e.filterType))),u);m(Oe,i.filterSelection[a].filters["Input Number"][n].numberValue=t,i),K(s)}else Mt(e.target,f)}else{let t=u[d].findIndex((e=>e.optionName===o&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));t>=0&&m(Ue,u[d][t].selected="included",u),Mt(e.target,f)}}else if(t!==f&&(!isNaN(t)&&(parseFloat(t)>=l||"number"!=typeof l)&&(parseFloat(t)<=r||"number"!=typeof r)||""===t)){if(""===t)m(Ue,u[d]=u[d].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===f&&"input number"===e.filterType))),u);else{let e=u[d].findIndex((e=>e.optionName===o&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(Ue,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==o+n)),u),u[d].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(u[d].splice(e,1),m(Ue,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==o+n)),u),u[d].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),Ue.set(u)}m(Oe,i.filterSelection[a].filters["Input Number"][n].numberValue=t,i),K(s)}else elementIdx>=0&&m(Ue,u[d][elementIdx].selected="included",u),Mt(e.target,f)}function ce(e,t,n,o,r,l,s,a){if(c)return Se();let d=i?.filterSelection?.findIndex((({isSelected:e})=>e)),f=i?.filterSelection?.[d].filterSelectionName;if("input number"===o){let e=u[f].findIndex((e=>e.optionName===n&&e.optionValue===a&&e.optionIdx===t&&"input number"===e.filterType));if(e>=0){let t=u[f][e].selected;m(Ue,u[f][e].selected="included"===t?"excluded":"included",u)}}else if("checkbox"===o){let e=u[f].findIndex((e=>e.optionIdx===t&&e.optionName===n&&e.filterType===o)),r=u?.[f]?.[e]?.selected;"included"===r?(m(Ue,u[f][e].selected="excluded",u),m(Oe,i.filterSelection[d].filters.Checkbox[t].isSelected=!1,i)):"excluded"===r&&(m(Ue,u[f][e].selected="included",u),m(Oe,i.filterSelection[d].filters.Checkbox[t].isSelected=!0,i))}else if("dropdown"===o){let e=i?.filterSelection?.[d].filters.Dropdown[r].options[t].selected;"included"===e?(m(Oe,i.filterSelection[d].filters.Dropdown[r].options[t].selected="excluded",i),m(Ue,u[f]=u[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"included"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="excluded"),e))),u)):"excluded"===e&&(m(Oe,i.filterSelection[d].filters.Dropdown[r].options[t].selected="included",i),m(Ue,u[f]=u[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"excluded"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="included"),e))),u))}K(f)}function ue(e,t,n,o,r,l){if(c)return Se();let s=i?.filterSelection?.findIndex((({isSelected:e})=>e)),a=i?.filterSelection?.[s].filterSelectionName;m(Oe,"checkbox"===o?i.filterSelection[s].filters.Checkbox[t].isSelected=!1:"input number"===o?i.filterSelection[s].filters["Input Number"][t].numberValue="":i.filterSelection[s].filters.Dropdown[r].options[t].selected="none",i),m(Ue,u[a]=u[a].filter((e=>!(e.optionName===n&&e.optionIdx===t&&e.filterType===o&&(!e.optionType||e.optionType===l)))),u),K(a)}async function de(e){if(c)return Se();if(await o("Do you want to remove all filters?")){let e=i?.filterSelection?.findIndex((({isSelected:e})=>e)),t=i?.filterSelection?.[e].filterSelectionName;i?.filterSelection?.[e].filters["Input Number"].forEach((e=>{e.numberValue=""})),i?.filterSelection?.[e].filters.Checkbox.forEach((e=>{e.isSelected=!1})),i?.filterSelection?.[e].filters.Dropdown.forEach((({options:t},n)=>{t.forEach((({selected:t},o)=>{m(Oe,i.filterSelection[e].filters.Dropdown[n].options[o].selected="none",i)}))})),m(Oe,i.filterSelection[e]=i?.filterSelection?.[e],i),m(Ue,u[t]=[],u),K(t)}}function fe(e){let t=e.target,o=t.classList,i=t.closest(".sortFilter"),r=t.closest(".options-wrap");!o.contains("sortFilter")&&!i||x?r&&!o.contains("closing-x")||o.contains("options-wrap")||(k instanceof Element&&k.closest(".sortFilter")&&(_t(k,"highlight"),k=null),n(5,x=!1)):n(5,x=!0)}function pe(e){if(c)return Se();let{sortName:t,sortType:o}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],r=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));if(t===e){let e="desc"===o?"asc":"desc";m(Oe,i.sortFilter[r].sortType=e,i)}else if(t!==e){m(Oe,i.sortFilter[r].sortType="none",i);let t=i?.sortFilter?.findIndex((({sortName:t})=>t===e));m(Oe,i.sortFilter[t].sortType="desc",i)}K("sort"),k instanceof Element&&k.closest(".sortFilter")&&(_t(k,"highlight"),k=null),n(5,x=!1)}function me(){if(c)return Se();let{sortType:e}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],t=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));m(Oe,i.sortFilter[t].sortType="desc"===e?"asc":"desc",i),K("sort")}function he(e){let t=e.which||e.keyCode||0;if(38==t||40==t){var o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filterType")||o?.closest?.(".sortFilter")||o?.closest?.(".filter-select"))if(e.preventDefault(),k instanceof Element&&k?.closest?.(".options")?.children?.length){let e,n,o,i,r=k.closest(".options"),l=Array.from(r.querySelectorAll(".option")),s=l.indexOf(k);for(let r=0;r<l.length;r++)if(!l[r].classList.contains("disable-interaction"))if(38===t){if(i=l[r],r<s)n=l[r];else if(n){e=n;break}}else if(o||(o=l[r]),r>s){e=l[r];break}let a=!1;e instanceof Element||(o instanceof Element?(e=o,a=!0):i instanceof Element&&(e=i,a=!0)),e instanceof Element&&(_t(k,"highlight"),k=e,Ut(k,"highlight"),k.scrollIntoView({behavior:a?"auto":"smooth",container:r,block:"nearest",inline:"nearest"}))}else{let e=o.querySelectorAll(".option:not(.disable-interaction)");k=e[0],k instanceof Element&&(Ut(k,"highlight"),k.scrollIntoView({behavior:"smooth",container:parent,block:"nearest",inline:"nearest"}))}}else if(13===t){if(k instanceof Element){let e=new KeyboardEvent("keydown",{key:"Enter"});k.dispatchEvent(e)}}else{o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filter-select")&&9!==t||o instanceof Element&&"fixed"===getComputedStyle(o).position)return;let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));n(3,b=null),n(5,x=null),i?.filterSelection?.length>0&&(i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Oe,i.filterSelection[e]=i?.filterSelection?.[e],i)),n(4,S=null),k instanceof Element&&(_t(k,"highlight"),k=null)}}async function ye(){m(et,a=!a,a),On(a,"gridFullView")}async function ge(e=null){s?.length>36&&!a&&await ve(),n(7,j="boolean"==typeof e?e:!j)}async function we(e=null){s?.length>36&&!a&&await ve(),n(6,B="boolean"==typeof e?e:!B),z()}function ve(){return new Promise((e=>{r instanceof Worker&&(m(_e,s=null,s),l().then((()=>{r.postMessage({reload:!0})}))),T={resolve:e}}))}function be(){k instanceof Element&&(_t(k,"highlight"),k=null),n(3,b=!1),n(5,x=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(Oe,i.filterSelection[e]=i?.filterSelection?.[e],i),n(4,S=null)}function Se(){o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}function xe(e){I=e.touches[0].clientX,P=e.touches[0].clientY,$=e.touches[0].identifier,L=!0}function ke(e){if(L){L=!1,C=e.touches[0].clientX,q=e.touches[0].clientY;const t=C-I,o=q-P;Math.abs(t)>Math.abs(o)&&t>0&&n(8,N=!0)}else if(N){C=e.touches[0].clientX;const t=C-I;n(9,F=t>0?Math.min(t/48*100,100):0)}}function Ee(e){C=Array.from(e.changedTouches).find((e=>e.identifier===$)).clientX;N&&C-I>=48&&(be(),n(4,S=n(3,b=n(5,x=null)))),$=null,n(8,N=!1),n(9,F=0)}function Ae(e){$=null,n(8,N=!1),n(9,F=0)}wt.subscribe((e=>{"boolean"==typeof e&&T?.resolve?.()})),window.checkOpenDropdown=()=>(S||b||x)&&window.visualViewport.width<=425,window.closeDropdown=be,H((()=>{let e=document.getElementById("filters");e.addEventListener("scroll",ne),((e,t="xy")=>{var n,o,i,r,l;let s=s=>{i&&"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(e.scrollTop=n-s.pageY+l),t.toLowerCase().includes("x")&&(e.scrollLeft=o-s.pageX+r))},a=s=>{"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(n=s.pageY,l=e.scrollTop),t.toLowerCase().includes("x")&&(o=s.pageX,r=e.scrollLeft),i=!0)},c=e=>{"mouse"===e.pointerType&&(i=!1)};e.addEventListener("pointermove",s),e.addEventListener("pointerdown",a),window.addEventListener("pointerup",c),window.addEventListener("pointercancel",c)})(e,"x"),document.addEventListener("keydown",he),window.addEventListener("resize",Q),window.addEventListener("click",re)}));return e.$$set=e=>{"$$scope"in e&&n(41,D=e.$$scope)},[O,U,V,b,S,x,B,j,N,F,i,a,c,u,f,y,w,v,Y,Z,te,oe,ie,le,se,ae,ce,ue,de,fe,pe,me,ye,ge,we,Se,function(){n(8,N=!1),n(9,F=0)},xe,ke,Ee,Ae,D,M,(e,{optionName:t})=>Ki(t,e.optKeyword)||""===e.optKeyword,function(){y=this.value,rt.set(y)},e=>"Enter"===e.key&&te(e),e=>"Enter"===e.key&&te(e),(e,t)=>"Enter"===t.key&&Z(e),e=>U<=425&&xe(e),e=>U<=425&&ke(e),e=>U<=425&&Ee(e),e=>U<=425&&Ae(),e=>"Enter"===e.key&&ge(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,Oe.set(i)},(e,t)=>"Enter"===t.key&&ie(e),(e,t)=>("Enter"===t.key||"ArrowDown"===t.key||"ArrowUp"===t.key)&&oe(t,e),(e,t)=>oe(t,e),(e,t)=>"Enter"===t.key&&ie(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,Oe.set(i)},(e,t,n,o,i,r)=>"Enter"===r.key&&le(e.optionName,t.filName,n,o,t.changeType,i.filterSelectionName),e=>U<=425&&xe(e),e=>U<=425&&ke(e),e=>U<=425&&Ee(e),e=>U<=425&&Ae(),e=>{e.target.checked=!1,Se()},(e,t,n,o)=>se(o,e.filName,t,n.filterSelectionName),function(e,t){e[t].isSelected=this.checked},(e,t,n,o)=>se(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>"Enter"===o.key&&se(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>ae(o,o.target.value,e,t.filName,t.maxValue,t.minValue,n.filterSelectionName),e=>function(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}(e,"filters"),e=>"Enter"===e.key&&de(),e=>"Enter"===e.key&&de(),(e,t,n,o,i,r)=>ue(0,e,t,n,o,i),(e,t,n,o,i,r)=>"Enter"===r.key&&ue(0,e,t,n,o,i),(e,t,n,o,i,r,l,s)=>ce(0,e,t,n,o,0,r,l),(e,t,n,o,i,r,l,s)=>"Enter"===s.key&&ce(0,e,t,n,o,0,r,l),e=>"Enter"===e.key&&we(),e=>"Enter"===e.key&&ye(),e=>"Enter"===e.key&&me(),e=>"Enter"===e.key&&fe(e),e=>"Enter"===e.key&&fe(e),(e,t)=>"Enter"===t.key&&pe(e),e=>U<=425&&xe(e),e=>U<=425&&ke(e),e=>U<=425&&Ee(e),e=>U<=425&&Ae()]}function cr(e){let t,n,o,r,l,s,a,c,u,d,f,p,m,h,y,g,w,v,b=!e[1]&&ur(e);return{c(){t=$("div"),n=$("div"),o=$("div"),r=$("div"),l=$("h2"),s=L(e[2]),a=I(),c=$("h2"),u=L(e[3]),d=I(),f=$("div"),b&&b.c(),p=I(),m=$("button"),h=L(e[4]),F(l,"class","confirm-title svelte-is4r7p"),F(c,"class","confirm-text svelte-is4r7p"),F(r,"class","confirm-info-container svelte-is4r7p"),F(m,"class","button svelte-is4r7p"),F(f,"class","confirm-button-container svelte-is4r7p"),F(o,"class","confirm-container svelte-is4r7p"),F(n,"class","confirm-wrapper svelte-is4r7p"),O(n,"--height",e[9]?"calc(100% + 1px)":"100%"),F(t,"class","confirm svelte-is4r7p")},m(i,y){A(i,t,y),x(t,n),x(n,o),x(o,r),x(r,l),x(l,s),x(r,a),x(r,c),x(c,u),x(o,d),x(o,f),b&&b.m(f,null),x(f,p),x(f,m),x(m,h),e[19](m),g=!0,w||(v=[P(c,"scroll",e[13]),P(m,"click",e[10]),P(m,"keydown",e[20]),P(t,"click",e[12]),P(t,"keydown",e[21]),P(t,"touchstart",e[14]),P(t,"touchmove",e[15]),P(t,"touchend",e[16]),P(t,"touchcancel",e[17],{passive:!0}),P(t,"scroll",e[13])],w=!0)},p(e,t){(!g||4&t)&&M(s,e[2]),(!g||8&t)&&M(u,e[3]),e[1]?b&&(b.d(1),b=null):b?b.p(e,t):(b=ur(e),b.c(),b.m(f,p)),(!g||16&t)&&M(h,e[4]),512&t&&O(n,"--height",e[9]?"calc(100% + 1px)":"100%")},i(e){g||(te((()=>{g&&(y||(y=ge(o,jt,{y:20,duration:300},!0)),y.run(1))})),g=!0)},o(e){y||(y=ge(o,jt,{y:20,duration:300},!1)),y.run(0),g=!1},d(n){n&&T(t),b&&b.d(),e[19](null),n&&y&&y.end(),w=!1,i(v)}}}function ur(e){let t,n,o,r;return{c(){t=$("button"),n=L(e[5]),F(t,"class","button svelte-is4r7p")},m(i,l){A(i,t,l),x(t,n),o||(r=[P(t,"click",e[11]),P(t,"keydown",e[18])],o=!0)},p(e,t){32&t&&M(n,e[5])},d(e){e&&T(t),o=!1,i(r)}}}function dr(e){let t,n,o,i,r,l;return{c(){t=$("div"),n=$("div"),o=$("i"),F(o,"class","fa-solid fa-arrow-left svelte-is4r7p"),F(n,"class",i=p("go-back-grid"+(e[8]>=100?" willGoBack":""))+" svelte-is4r7p"),F(t,"class","go-back-grid-highlight svelte-is4r7p"),O(t,"--scale",Math.max(1,.01*(e[8]??1)*2)),O(t,"--position","-"+(100-(e[8]??0))+"%")},m(e,i){A(e,t,i),x(t,n),x(n,o),l=!0},p(e,o){(!l||256&o&&i!==(i=p("go-back-grid"+(e[8]>=100?" willGoBack":""))+" svelte-is4r7p"))&&F(n,"class",i),256&o&&O(t,"--scale",Math.max(1,.01*(e[8]??1)*2)),256&o&&O(t,"--position","-"+(100-(e[8]??0))+"%")},i(e){l||(r&&r.end(1),l=!0)},o(e){r=ye(t,jt,{x:-176,duration:1e3}),l=!1},d(e){e&&T(t),e&&r&&r.end()}}}function fr(e){let t,n,o,i=e[0]&&cr(e),r=e[0]&&e[7]&&dr(e);return{c(){i&&i.c(),t=I(),r&&r.c(),n=C()},m(e,l){i&&i.m(e,l),A(e,t,l),r&&r.m(e,l),A(e,n,l),o=!0},p(e,[o]){e[0]?i?(i.p(e,o),1&o&&pe(i,1)):(i=cr(e),i.c(),pe(i,1),i.m(t.parentNode,t)):i&&(de(),me(i,1,1,(()=>{i=null})),fe()),e[0]&&e[7]?r?(r.p(e,o),129&o&&pe(r,1)):(r=dr(e),r.c(),pe(r,1),r.m(n.parentNode,n)):r&&(de(),me(r,1,1,(()=>{r=null})),fe())},i(e){o||(pe(i),pe(r),o=!0)},o(e){me(i),me(r),o=!1},d(e){i&&i.d(e),e&&T(t),r&&r.d(e),e&&T(n)}}}function pr(e,t,n){let o;d(e,dt,(e=>n(9,o=e)));const i=function(){const e=Y();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const r=U(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,r)})),!r.defaultPrevented}return!0}}();let r,l,{showConfirm:s=!1}=t,{isAlert:a=!1}=t,{confirmTitle:c="Confirmation"}=t,{confirmText:u="Do you want to continue?"}=t,{confirmLabel:f="OK"}=t,{cancelLabel:p="CANCEL"}=t,m=!1;function h(e){m&&"keydown"!==e.type||(n(0,s=!1),i("confirmed"))}function y(e){m&&"keydown"!==e.type||(n(0,s=!1),i("cancelled"))}function g(e){if(m&&"keydown"!==e.type)return;let t=e.target,n=t.classList;t.closest(".confirm-container")||n.contains("confirm-container")||y(e)}var w;let v,b,S,x,k,E,A,T;w=()=>{s?(m=!0,l=setTimeout((()=>{m=!1}),500),r?.focus?.()):(l&&clearTimeout(l),m=!1)},Y().$$.after_update.push(w);return e.$$set=e=>{"showConfirm"in e&&n(0,s=e.showConfirm),"isAlert"in e&&n(1,a=e.isAlert),"confirmTitle"in e&&n(2,c=e.confirmTitle),"confirmText"in e&&n(3,u=e.confirmText),"confirmLabel"in e&&n(4,f=e.confirmLabel),"cancelLabel"in e&&n(5,p=e.cancelLabel)},[s,a,c,u,f,p,r,v,T,o,h,y,g,function(){n(7,v=!1),n(8,T=0)},function(e){x=e.touches[0].clientX,E=e.touches[0].clientY,b=e.touches[0].identifier,S=!0},function(e){if(S){S=!1,k=e.touches[0].clientX,A=e.touches[0].clientY;const t=k-x,o=A-E;Math.abs(t)>Math.abs(o)&&t>0&&n(7,v=!0)}else if(v){k=e.touches[0].clientX;const t=k-x;n(8,T=t>0?Math.min(t/48*100,100):0)}},function(e){k=Array.from(e.changedTouches).find((e=>e.identifier===b)).clientX,v&&k-x>=48?(b=null,n(7,v=!1),n(8,T=0),n(0,s=!1),i("cancelled")):(b=null,n(7,v=!1),n(8,T=0))},function(){b=null,n(7,v=!1),n(8,T=0)},e=>"Enter"===e.key&&y(e),function(e){G[e?"unshift":"push"]((()=>{r=e,n(6,r)}))},e=>"Enter"===e.key&&h(e),e=>"Enter"===e.key&&g(e)]}var mr={Fixed:{Navigator:class extends Ae{constructor(e){super(),Ee(this,e,Ho,Yo,l,{},null,[-1,-1])}},Menu:class extends Ae{constructor(e){super(),Ee(this,e,Zo,zo,l,{},null,[-1,-1])}}},Anime:{AnimeGrid:class extends Ae{constructor(e){super(),Ee(this,e,pn,cn,l,{},null,[-1,-1])}},Fixed:{AnimePopup:class extends Ae{constructor(e){super(),Ee(this,e,Vo,Fo,l,{},null,[-1,-1,-1,-1])}},AnimeOptionsPopup:class extends Ae{constructor(e){super(),Ee(this,e,Wo,Ro,l,{},null,[-1,-1])}}}},Others:{Search:class extends Ae{constructor(e){super(),Ee(this,e,ar,Gi,l,{},null,[-1,-1,-1,-1,-1])}},Confirm:class extends Ae{constructor(e){super(),Ee(this,e,pr,fr,l,{showConfirm:0,isAlert:1,confirmTitle:2,confirmText:3,confirmLabel:4,cancelLabel:5})}}}},hr="@vercel/analytics",yr="1.0.1",gr=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function wr(e="auto"){window.vam="auto"!==e?e:function(){try{const e=process.env.NODE_ENV;if("development"===e||"test"===e)return"development"}catch(e){}return"production"}()}function vr(){return"development"===(window.vam||"production")}function br(e={debug:!0}){var t;if("undefined"==typeof window)return;wr(e.mode),gr(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=vr()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${n}"]`))return;const o=document.createElement("script");o.src=n,o.defer=!0,o.setAttribute("data-sdkn",hr),o.setAttribute("data-sdkv",yr),vr()&&!1===e.debug&&o.setAttribute("data-debug","false"),document.head.appendChild(o)}function Sr(e){let t,n,o,i,r;return{c(){t=$("div"),F(t,"class","progress svelte-tver6w"),O(t,"--progress","-"+(100-e[6])+"%")},m(e,n){A(e,t,n),o=!0,i||(r=P(t,"outrostart",Ar),i=!0)},p(e,n){64&n[0]&&O(t,"--progress","-"+(100-e[6])+"%")},i(e){o||(n&&n.end(1),o=!0)},o(e){n=ye(t,Bt,{duration:0,delay:400}),o=!1},d(e){e&&T(t),e&&n&&n.end(),i=!1,r()}}}function xr(e){let t,n;return t=new mr.Anime.AnimeGrid({}),{c(){Se(t.$$.fragment)},m(e,o){xe(t,e,o),n=!0},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function kr(t){let n,o,r,l,s;return{c(){n=$("div"),n.innerHTML='<i class="list-update-icon fa-solid fa-arrows-rotate svelte-tver6w"></i> \n\t\t\t<h3 class="list-update-label svelte-tver6w">List Update Available</h3>',F(n,"class","list-update-container svelte-tver6w"),F(n,"tabindex","0")},m(e,o){A(e,n,o),r=!0,l||(s=[P(n,"click",t[10]),P(n,"keydown",t[11])],l=!0)},p:e,i(e){r||(te((()=>{r&&(o||(o=ge(n,jt,{x:50,duration:300},!0)),o.run(1))})),r=!0)},o(e){o||(o=ge(n,jt,{x:50,duration:300},!1)),o.run(0),r=!1},d(e){e&&T(n),e&&o&&o.end(),l=!1,i(s)}}}function Er(e){let t,n,o,i,r,l,s,a,c,u,d,f,p,m,h,y,g=e[6]>0&&e[6]<100&&Sr(e);o=new mr.Fixed.Navigator({}),r=new mr.Fixed.Menu({}),a=new mr.Others.Search({props:{$$slots:{default:[xr]},$$scope:{ctx:e}}}),u=new mr.Anime.Fixed.AnimePopup({}),f=new mr.Anime.Fixed.AnimeOptionsPopup({}),m=new mr.Others.Confirm({props:{showConfirm:e[0],isAlert:e[1],confirmTitle:e[2],confirmText:e[3],confirmLabel:e[4],cancelLabel:e[5]}}),m.$on("confirmed",e[8]),m.$on("cancelled",e[9]);let w=e[7]&&kr(e);return{c(){t=$("main"),g&&g.c(),n=I(),Se(o.$$.fragment),i=I(),Se(r.$$.fragment),l=I(),s=$("div"),Se(a.$$.fragment),c=I(),Se(u.$$.fragment),d=I(),Se(f.$$.fragment),p=I(),Se(m.$$.fragment),h=I(),w&&w.c(),F(s,"class","home svelte-tver6w"),F(t,"class","svelte-tver6w")},m(e,v){A(e,t,v),g&&g.m(t,null),x(t,n),xe(o,t,null),x(t,i),xe(r,t,null),x(t,l),x(t,s),xe(a,s,null),x(s,c),xe(u,s,null),x(t,d),xe(f,t,null),x(t,p),xe(m,t,null),x(t,h),w&&w.m(t,null),y=!0},p(e,o){e[6]>0&&e[6]<100?g?(g.p(e,o),64&o[0]&&pe(g,1)):(g=Sr(e),g.c(),pe(g,1),g.m(t,n)):g&&(de(),me(g,1,1,(()=>{g=null})),fe());const i={};1&o[2]&&(i.$$scope={dirty:o,ctx:e}),a.$set(i);const r={};1&o[0]&&(r.showConfirm=e[0]),2&o[0]&&(r.isAlert=e[1]),4&o[0]&&(r.confirmTitle=e[2]),8&o[0]&&(r.confirmText=e[3]),16&o[0]&&(r.confirmLabel=e[4]),32&o[0]&&(r.cancelLabel=e[5]),m.$set(r),e[7]?w?(w.p(e,o),128&o[0]&&pe(w,1)):(w=kr(e),w.c(),pe(w,1),w.m(t,null)):w&&(de(),me(w,1,1,(()=>{w=null})),fe())},i(e){y||(pe(g),pe(o.$$.fragment,e),pe(r.$$.fragment,e),pe(a.$$.fragment,e),pe(u.$$.fragment,e),pe(f.$$.fragment,e),pe(m.$$.fragment,e),pe(w),y=!0)},o(e){me(g),me(o.$$.fragment,e),me(r.$$.fragment,e),me(a.$$.fragment,e),me(u.$$.fragment,e),me(f.$$.fragment,e),me(m.$$.fragment,e),me(w),y=!1},d(e){e&&T(t),g&&g.d(),ke(o),ke(r),ke(a),ke(u),ke(f),ke(m),w&&w.d()}}}const Ar=e=>{e.target.style.setProperty("--progress","0%")};function Tr(e,t,n){let o,i,r,l,s,a,c,u,f,p,h,y,g,w,v,b,S,x,k,E,A,T,N,$,L,I,C,P,q,F,M,D,O;d(e,st,(e=>n(23,o=e))),d(e,Be,(e=>n(24,i=e))),d(e,lt,(e=>n(25,r=e))),d(e,De,(e=>n(26,l=e))),d(e,_e,(e=>n(27,s=e))),d(e,rt,(e=>n(28,a=e))),d(e,Ve,(e=>n(29,c=e))),d(e,mt,(e=>n(7,u=e))),d(e,yt,(e=>n(30,f=e))),d(e,Ce,(e=>n(31,p=e))),d(e,pt,(e=>n(32,h=e))),d(e,et,(e=>n(33,y=e))),d(e,ct,(e=>n(34,g=e))),d(e,dt,(e=>n(35,w=e))),d(e,at,(e=>n(36,v=e))),d(e,Re,(e=>n(37,b=e))),d(e,Ye,(e=>n(38,S=e))),d(e,Ke,(e=>n(39,x=e))),d(e,Ze,(e=>n(40,k=e))),d(e,Fe,(e=>n(41,E=e))),d(e,We,(e=>n(42,A=e))),d(e,Ge,(e=>n(43,T=e))),d(e,gt,(e=>n(44,N=e))),d(e,Je,(e=>n(45,$=e))),d(e,He,(e=>n(46,L=e))),d(e,Qe,(e=>n(47,I=e))),d(e,Oe,(e=>n(48,C=e))),d(e,Ue,(e=>n(49,P=e))),d(e,Me,(e=>n(50,q=e))),d(e,Xe,(e=>n(51,F=e))),d(e,Ie,(e=>n(52,M=e))),m(Ce,p=Dt(),p),br(),window.onload=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-PPMY92TJCE")};const U=new Function;window.onYouTubeIframeAPIReady=U;let _=[];m(Be,i="Getting Existing Data",i);let V=setInterval((()=>{i||m(Be,i="Please Wait...",i)}),300);function B(e=!1){e||W()&&A?(m(Re,b=!0,b),Cn().then((()=>{m(Re,b=!1,b),$n().finally((()=>{j()}))})).catch((e=>{j(),m(Re,b=!1,b),m(Be,i="Something went wrong...",i),console.error(e)}))):j()}function j(){T&&Y()&&qn()}new Promise((async e=>{if(m(Ie,M=await Ne(),M),p&&navigator.onLine)try{M&&JSBridge.checkAppID(M,!1)}catch(e){window.updateAppAlert?.()}e()})).then((()=>{(async()=>{m(Xe,F=await Kn("exportPathIsAvailable"),F)})(),_.push(new Promise((async(e,t)=>{let n=await Kn("lastAnimeUpdate"),o=!(n instanceof Date&&!isNaN(n));if(!o){await Kn("animeEntriesIsEmpty")&&(o=!0)}var i;o?(m(_e,s=null,s),new Promise(((e,t)=>{_n=setInterval((()=>{Be.set("Getting Anime Entries")}),300),qe.set(0),hn("./webapi/worker/getAnimeEntries.js").then((n=>{qe.set(25),_n&&(clearInterval(_n),_n=null);let o=new Worker(n);Un&&clearTimeout(Un),o.postMessage(i),o.onmessage=({data:t})=>{t?.hasOwnProperty("status")?(bn=!0,Be.set(t.status)):(qe.set(100),bn=!1,kt.update((e=>!e)),Un=setTimeout((()=>{o.terminate()}),vn),e(t))},o.onerror=e=>{qe.set(100),t(e)}})).catch((e=>{qe.set(100),_n&&(clearInterval(_n),_n=null),Be.set(null),Xn(),t(e)}))})).then((()=>{e()})).catch((async()=>{t()}))):e()}))),_.push(new Promise((async e=>{let t=await Kn("username");t&&m(Me,q=t,q),e()}))),_.push(new Promise((async e=>{var t;await Kn("animeFranchisesLength")<1?new Promise(((e,n)=>{Bn=setInterval((()=>{_n||Be.set("Getting Anime Franchise")}),300),qe.set(0),hn("./webapi/worker/getAnimeFranchises.js").then((o=>{qe.set(25),Bn&&(clearInterval(Bn),Bn=null);let i=new Worker(o);Vn&&clearTimeout(Vn),i.postMessage(t),i.onmessage=({data:t})=>{t?.hasOwnProperty("status")?(bn=!0,Be.set(t.status)):(qe.set(100),kt.update((e=>!e)),bn=!1,Vn=setTimeout((()=>{i.terminate()}),vn),e(t))},i.onerror=e=>{qe.set(100),n(e)}})).catch((e=>{qe.set(100),Bn&&(clearInterval(Bn),Bn=null),Be.set(null),Xn(),n(e)}))})).then((()=>{e()})).catch((()=>{reject()})):e()}))),_.push(new Promise((async e=>{Yn().then((t=>{m(Ue,P=t.activeTagFilters,P),m(Oe,C=t.filterOptions,C),e()})).catch((()=>{reject()}))}))),_.push(new Promise((async e=>{let t=await Kn("autoPlay");"boolean"==typeof t&&m(Qe,I=t,I);let n=await Kn("gridFullView")??!0;"boolean"==typeof n&&m(et,y=n,y),m(De,l=await Kn("hiddenEntries")||{},l),m(He,L=await Kn("lastRunnedAutoUpdateDate"),L),m(Je,$=await Kn("lastRunnedAutoExportDate"),$),m(We,A=await Kn("autoUpdate")??!1,A),m(Ge,T=await Kn("autoExport")??!1,T),e()}))),Promise.all(_).then((async()=>{let e=await Kn("shouldProcessRecommendation");if(!e){await Kn("recommendedAnimeListLength")<1&&(e=!0)}new Promise((async t=>{e?An().then((async()=>{await Gn(!1,"shouldProcessRecommendation"),t()})).catch((e=>{throw e})):t()})).then((()=>{xn().then((async e=>{m(Ve,c=e.animeLoaderWorker,c),m(rt,a="",a),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(De,l=e.hiddenEntries,l),m(lt,r=e.numberOfNextLoadedGrid,r),m(Be,i=null,i),B(!0),m(Ze,k=!1,k))})).catch((e=>{throw e}))}))})).catch((async e=>{B(!0),m(Ze,k=!1,k),m(Be,i="Something went wrong...",i),o?.(p?{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}:{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."}),console.error(e)}))})),Ze.subscribe((async e=>{!1===e&&clearInterval(V)})),_e.subscribe((async e=>{k&&e?.length>0&&!1!==k&&m(Ze,k=!1,k)})),xt.subscribe((async e=>{"boolean"!=typeof e||k||(m(mt,u=!1,u),c&&(c.terminate(),m(Ve,c=null,c)),xn().then((async e=>{m(Ve,c=e.animeLoaderWorker,c),m(rt,a="",a),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(De,l=e.hiddenEntries,l),m(lt,r=e.numberOfNextLoadedGrid,r)),m(Be,i=null,i)})).catch((e=>{throw e})))})),St.subscribe((async e=>{"boolean"!=typeof e||k||(await Gn(!0,"shouldProcessRecommendation"),m(mt,u=!1,u),An().then((async()=>{await Gn(!1,"shouldProcessRecommendation"),Et.update((e=>!e)),xt.update((e=>!e))})).catch((e=>{throw xt.update((e=>!e)),e})))})),kt.subscribe((async e=>{"boolean"!=typeof e||k||(await Gn(!0,"shouldProcessRecommendation"),An().then((async()=>{await Gn(!1,"shouldProcessRecommendation"),Et.update((e=>!e)),At.update((e=>!e))})).catch((e=>{throw At.update((e=>!e)),e})))})),At.subscribe((async e=>{"boolean"!=typeof e||k||((w||(y?O.scrollLeft>500:window.scrollY>Math.max(0,O?.offsetTop-55)))&&s?.length?m(mt,u=!0,u):(c&&(c.terminate(),m(Ve,c=null,c)),xn().then((async e=>{m(Ve,c=e.animeLoaderWorker,c),m(rt,a="",a),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(De,l=e.hiddenEntries,l),m(lt,r=e.numberOfNextLoadedGrid,r)),m(Be,i=null,i)})).catch((e=>{throw e}))))})),Et.subscribe((async e=>{"boolean"!=typeof e||k||Yn()}));let R=36e5;function W(){let e=!1;return L?L instanceof Date&&!isNaN(L)&&(new Date).getTime()-L.getTime()>R&&(e=!0):e=!0,e}function Y(){let e=!1;return $?$ instanceof Date&&!isNaN($)&&(new Date).getTime()-$.getTime()>R&&(e=!0):e=!0,e}We.subscribe((async e=>{if(!0===e)if(Gn(!0,"autoUpdate"),W())B(),S&&clearInterval(S),m(Ye,S=setInterval((()=>{A&&B()}),R),S);else{let e=R-((new Date).getTime()-L?.getTime())||0;setTimeout((()=>{!1!==A&&(B(),S&&clearInterval(S),m(Ye,S=setInterval((()=>{A&&B()}),R),S))}),e)}else!1===e&&(S&&clearInterval(S),Gn(!1,"autoUpdate"))})),vt.subscribe((e=>{"boolean"==typeof e&&!k&&navigator.onLine&&(m(Re,b=!0,b),Cn().then((()=>{m(Re,b=!1,b),$n()})).catch((e=>{m(Re,b=!1,b),m(Be,i="Something went wrong...",i),console.error(e)})))})),Ge.subscribe((async e=>{if(!0===e)if(Gn(!0,"autoExport"),Y())B(),x&&clearInterval(x),m(Ke,x=setInterval((()=>{T&&B()}),R),x);else{let e=R-((new Date).getTime()-$?.getTime())||0;setTimeout((()=>{!1!==T&&(B(),x&&clearInterval(x),m(Ke,x=setInterval((()=>{T&&B()}),R),x))}),e)}else!1===e&&(x&&clearInterval(x),Gn(!1,"autoExport"))})),bt.subscribe((e=>{"boolean"!=typeof e||k||qn()})),Tt.subscribe((e=>{"boolean"==typeof e&&(f||m(yt,f=!0,f),N&&clearTimeout(N),m(gt,N=setTimeout((()=>{m(yt,f=!1,f)}),500),N))})),document.addEventListener("visibilitychange",(()=>{k||p||"visible"!==document.visibilityState||(b&&(W()||Y())?(B(),T&&!x&&Ge.update((e=>e)),A&&!S&&We.update((e=>e))):b||(m(Re,b=!0,b),Cn({visibilityChange:!0}).then((()=>m(Re,b=!1,b)))))}));let X=!1;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");let G,K,J,z=()=>{m(Fe,E=!0,E),window.removeEventListener("wheel",z)};window.addEventListener("wheel",z),window.checkEntries=()=>{k||(b&&(W()||Y())?(B(),x||Ge.update((e=>e)),S||We.update((e=>e))):b||(m(Re,b=!0,b),Cn({visibilityChange:!0}).then((()=>m(Re,b=!1,b)))))},window.addEventListener("popstate",(()=>{window.backPressed()})),window.backPressed=()=>{if(h&&!p)window.history.go(-1);else{if(p||window.history.pushState("visited",""),X)return se(),void n(0,X=!1);if(D&&D===document?.activeElement&&window.visualViewport.width<=750)D?.focus?.(),D?.blur?.();else{if(v)return void m(at,v=!1,v);if(w)return void m(dt,w=!1,w);if(g)return void m(ct,g=!1,g);if(window.checkOpenDropdown?.())return void window.closeDropdown?.();if(y?O.scrollLeft>500:window.scrollY>200)return y?(O.scrollTop=O.scrollTop,O.scrollLeft=O.scrollLeft,O?.children?.[0]?.scrollIntoView?.({container:O,behavior:"smooth",block:"nearest",inline:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"})),void window.setShouldGoBack(!0);y?(O.scrollTop=O.scrollTop,O.scrollLeft=O.scrollLeft,O?.children?.[0]?.scrollIntoView?.({container:O,behavior:"smooth",block:"nearest",inline:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"})),window.setShouldGoBack(!0)}}},et.subscribe((async e=>{await ee(),e?O?.scrollLeft>500&&window.setShouldGoBack(!1):window?.scrollY>200&&window.setShouldGoBack(!1)})),dt.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),at.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),window.addEventListener("scroll",(()=>{0===window.scrollY||y||window.setShouldGoBack(!1),Tt.update((e=>!e))})),window.addEventListener("resize",(()=>{})),H((()=>{D=document.getElementById("usernameInput"),O=document.getElementById("anime-grid"),O?.addEventListener("scroll",(()=>{y&&(0!==O.scrollLeft&&window.setShouldGoBack(!1),Tt.update((e=>!e)))})),document.getElementById("popup-container").addEventListener("scroll",(()=>{Tt.update((e=>!e))}))})),window.setShouldGoBack=e=>{if(p)try{JSBridge.setShouldGoBack(e)}catch(e){}else"visited"!==window.history.state&&window.history.pushState("visited",""),m(pt,h=e,h)},window.copyToClipBoard=e=>{if(p)try{JSBridge.copyToClipBoard(e)}catch(e){}else navigator?.clipboard?.writeText?.(e)},ht.subscribe((()=>{clearTimeout(K),G=!0,K=setTimeout((()=>{G=!1}),500)}));let Q,Z,te,ne,oe,ie,re,le=!1;function se(){ie?.resolve?.(!1),ie=n(1,Q=n(2,Z=n(3,te=n(4,ne=n(5,oe=void 0))))),n(0,X=!1)}async function ae(e){if(await o({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,o=n.classList;t=o.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),re&&clearTimeout(re),Ut(t,"fa-spin"),c&&(c.terminate(),m(Ve,c=null,c)),xn().then((async e=>{m(mt,u=!1,u),re=setTimeout((()=>{_t(t,"fa-spin")}),300),m(Ve,c=e.animeLoaderWorker,c),m(rt,a="",a),e?.isNew&&(m(_e,s=e.finalAnimeList,s),m(De,l=e.hiddenEntries,l),m(lt,r=e.numberOfNextLoadedGrid,r)),m(Be,i=null,i)})).catch((e=>{throw e}))}}document.addEventListener("pointerdown",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(le=!0,J&&clearTimeout(J),J=setTimeout((()=>{let e=t.getAttribute("copy-value");e&&!f&&le&&!G&&(t.style.pointerEvents="none",setTimeout((()=>{t.style.pointerEvents=""}),500),window.copyToClipBoard(e))}),500))})),document.addEventListener("pointerup",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(le=!1,J&&clearTimeout(J))})),document.addEventListener("pointercancel",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(le=!1,J&&clearTimeout(J))})),m(st,o=window.confirmPromise=async e=>new Promise((t=>{n(1,Q=e?.isAlert||!1),n(2,Z=e?.title||(Q?"Heads Up":"Confirmation")),n(3,te=("string"==typeof e?e:e?.text)||"Are you sure you want to continue"),n(4,ne=e?.confirmLabel||"OK"),n(5,oe=e?.cancelLabel||"CANCEL"),n(0,X=!0),ie={resolve:t}})),o),window.updateAppAlert=async()=>{if(await(o?.({title:"New updates are available",text:"You may want to download the new version.",confirmLabel:"DOWNLOAD"})))try{JSBridge.downloadUpdate()}catch(e){window.open("https://github.com/u-Kuro/Kanshi.Anime-Recommendation/raw/main/Kanshi.apk","_blank")}},window.appIsUpToDate=()=>{o?.({isAlert:!0,text:"There are currently no updates available."})};let ce,ue=0,de=performance.now();qe.subscribe((e=>{(e>=100||e<=0||performance.now()-de>300)&&(cancelAnimationFrame(ce),ce=requestAnimationFrame((()=>{n(6,ue=e)})),de=performance.now())}));return[X,Q,Z,te,ne,oe,ue,u,function(){ie?.resolve?.(!0),ie=n(1,Q=n(2,Z=n(3,te=n(4,ne=n(5,oe=void 0))))),n(0,X=!1)},se,ae,e=>"Enter"===e.key&&ae(e)]}var Nr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};window.FontAwesomeKitConfig={asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrl:"https://ka-f.fontawesome.com",baseUrlKit:"https://kit.fontawesome.com",detectConflictsUntil:null,iconUploads:{},id:76794169,license:"free",method:"css",minify:{enabled:!0},token:"5a5fa257cb",v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},v5FontFaceShim:{enabled:!0},version:"6.2.0"},function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)),o}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){var n,i;n=e,i=o[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){var n=t&&t.addOn||"",o=(n=t&&t.baseFilename||e.license+n,t&&t.minify?".min":""),i=t&&t.fileSuffix||e.method;return t=t&&t.subdir||e.method,e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/"+t+"/"+n+o+"."+i}function r(e,t){t="."+Array.prototype.join.call(t||["fa"],",."),t=e.querySelectorAll(t),Array.prototype.forEach.call(t,(function(t){var n=t.getAttribute("title"),o=(t.setAttribute("aria-hidden","true"),!t.nextElementSibling||!t.nextElementSibling.classList.contains("sr-only"));n&&o&&((o=e.createElement("span")).innerHTML=n,o.classList.add("sr-only"),t.parentNode.insertBefore(o,t.nextSibling))}))}function l(){}var s,a=void 0!==Nr&&void 0!==Nr.process&&"function"==typeof Nr.process.emit,c="undefined"==typeof setImmediate?setTimeout:setImmediate,u=[];function d(){for(var e=0;e<u.length;e++)u[e][0](u[e][1]);s=!(u=[])}function f(e,t){u.push([e,t]),s||(s=!0,c(d,0))}function p(e){var t=(n=e.owner)._state,n=n._data,o=e[t],i=e.then;if("function"==typeof o){t="fulfilled";try{n=o(n)}catch(e){g(i,e)}}m(i,n)||("fulfilled"===t&&h(i,n),"rejected"===t&&g(i,n))}function m(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===e(n))){var i=n.then;if("function"==typeof i)return i.call(n,(function(e){o||(o=!0,(n===e?y:h)(t,e))}),(function(e){o||(o=!0,g(t,e))})),1}}catch(i){return o||g(t,i),1}}function h(e,t){e!==t&&m(e,t)||y(e,t)}function y(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(v,e))}function g(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(b,e))}function w(e){e._then=e._then.forEach(p)}function v(e){e._state="fulfilled",w(e)}function b(e){e._state="rejected",w(e),!e._handled&&a&&Nr.process.emit("unhandledRejection",e._data,e)}function S(e){Nr.process.emit("rejectionHandled",e)}function x(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof x==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[];var t=e,n=this;function o(e){g(n,e)}try{t((function(e){h(n,e)}),o)}catch(t){o(t)}}x.prototype={constructor:x,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(l),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&a&&f(S,this)),"fulfilled"===this._state||"rejected"===this._state?f(p,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},x.all=function(e){if(Array.isArray(e))return new x((function(t,n){for(var o,i=[],r=0,l=0;l<e.length;l++)(o=e[l])&&"function"==typeof o.then?o.then(function(e){return r++,function(n){i[e]=n,--r||t(i)}}(l),n):i[l]=o;r||t(i)}));throw new TypeError("You must pass an array to Promise.all().")},x.race=function(e){if(Array.isArray(e))return new x((function(t,n){for(var o,i=0;i<e.length;i++)(o=e[i])&&"function"==typeof o.then?o.then(t,n):t(o)}));throw new TypeError("You must pass an array to Promise.race().")},x.resolve=function(t){return t&&"object"===e(t)&&t.constructor===x?t:new x((function(e){e(t)}))},x.reject=function(e){return new x((function(t,n){n(e)}))};var k,E,A,T,N="function"==typeof Promise?Promise:x;function $(e,t){var n=t.fetch,o=t.XMLHttpRequest,i=(t=t.token,e);return"URLSearchParams"in window?(i=new URL(e)).searchParams.set("token",t):i=i+"?token="+encodeURIComponent(t),i=i.toString(),new N((function(e,t){var r;"function"==typeof n?n(i,{mode:"cors",cache:"default"}).then((function(e){if(e.ok)return e.text();throw new Error("")})).then((function(t){e(t)})).catch(t):"function"==typeof o?((r=new o).addEventListener("loadend",(function(){this.responseText?e(this.responseText):t(new Error(""))})),["abort","error","timeout"].map((function(e){r.addEventListener(e,(function(){t(new Error(""))}))})),r.open("GET",i),r.send()):t(new Error(""))}))}function L(e,t,n){var i=e;return[[/(url\("?)\.\.\/\.\.\/\.\./g,function(e,n){return"".concat(n).concat(t)}],[/(url\("?)\.\.\/webfonts/g,function(e,o){return"".concat(o).concat(t,"/releases/v").concat(n,"/webfonts")}],[/(url\("?)https:\/\/kit-free([^.])*\.fontawesome\.com/g,function(e,n){return"".concat(n).concat(t)}]].forEach((function(e){t=2,e=function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,i=!1,r=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw r}}return n}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t=e[0];e=e[1],i=i.replace(t,e)})),i}function I(e,t,o){o=2<arguments.length&&void 0!==o?o:function(){};var l=t.document||l,s=(l=r.bind(r,l,["fa","fab","fas","far","fal","fad","fak"]),0<Object.keys(e.iconUploads||{}).length);return e.autoA11y.enabled&&o(l),o=[{id:"fa-main",addOn:void 0}],e.v4shim&&e.v4shim.enabled&&o.push({id:"fa-v4-shims",addOn:"-v4-shims"}),e.v5FontFaceShim&&e.v5FontFaceShim.enabled&&o.push({id:"fa-v5-font-face",addOn:"-v5-font-face"}),e.v4FontFaceShim&&e.v4FontFaceShim.enabled&&o.push({id:"fa-v4-font-face",addOn:"-v4-font-face"}),s&&o.push({id:"fa-kit-upload",customCss:!0}),l=o.map((function(o){return new N((function(r,l){$(o.customCss?e.baseUrlKit+"/"+e.token+"/"+e.id+"/kit-upload.css":i(e,{addOn:o.addOn,minify:e.minify.enabled}),t).then((function(i){var l,s,a;r((l=n(n({},t),{},{baseUrl:e.baseUrl,version:e.version,id:o.id,contentFilter:function(e,t){return L(e,t.baseUrl,t.version)}}),s=l.contentFilter||function(e,t){return e},a=document.createElement("style"),s=document.createTextNode(s(i,l)),a.appendChild(s),a.media="all",l.id&&a.setAttribute("id",l.id),l&&l.detectingConflicts&&l.detectionIgnoreAttr&&a.setAttributeNode(document.createAttribute(l.detectionIgnoreAttr)),a))})).catch(l)}))})),N.all(l)}function C(e,t){t.autoA11y=e.autoA11y.enabled,"pro"===e.license&&(t.autoFetchSvg=!0,t.fetchSvgFrom=e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/svgs",t.fetchUploadedSvgFrom=e.uploadsUrl);var o=[];return e.v4shim.enabled&&o.push(new N((function(o,r){$(i(e,{addOn:"-v4-shims",minify:e.minify.enabled}),t).then((function(e){o(P(e,n(n({},t),{},{id:"fa-v4-shims"})))})).catch(r)}))),o.push(new N((function(o,r){$(i(e,{minify:e.minify.enabled}),t).then((function(e){var i,r,l;e=P(e,n(n({},t),{},{id:"fa-main"})),o((r=(i=t)&&void 0!==i.autoFetchSvg?i.autoFetchSvg:void 0,void 0!==(l=i&&void 0!==i.autoA11y?i.autoA11y:void 0)&&e.setAttribute("data-auto-a11y",l?"true":"false"),r&&(e.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),e.setAttribute("data-fetch-svg-from",i.fetchSvgFrom),e.setAttribute("data-fetch-uploaded-svg-from",i.fetchUploadedSvgFrom)),e))})).catch(r)}))),N.all(o)}function P(e,t){var n=document.createElement("SCRIPT");return e=document.createTextNode(e),n.appendChild(e),n.referrerPolicy="strict-origin",t.id&&n.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),n}function q(e){var t,n=[],o=document,i=(o.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);i||o.addEventListener("DOMContentLoaded",t=function(){for(o.removeEventListener("DOMContentLoaded",t),i=1;t=n.shift();)t()}),i?setTimeout(e,0):n.push(e)}try{window.FontAwesomeKitConfig&&(k=window.FontAwesomeKitConfig,E={detectingConflicts:k.detectConflictsUntil&&new Date<=new Date(k.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",fetch:window.fetch,token:k.token,XMLHttpRequest:window.XMLHttpRequest,document:document},A=document.currentScript,T=A?A.parentElement:document.head,function(e,t){return t=1<arguments.length&&void 0!==t?t:{},"js"===(e=0<arguments.length&&void 0!==e?e:{}).method?C(e,t):"css"===e.method?I(e,t,(function(e){q(e),"undefined"!=typeof MutationObserver&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})})):void 0}(k,E).then((function(e){e.map((function(e){try{T.insertBefore(e,A?A.nextSibling:null)}catch(t){T.appendChild(e)}})),E.detectingConflicts&&A&&q((function(){A.setAttributeNode(document.createAttribute(E.detectionIgnoreAttr)),e=k,n=E,t=document.createElement("script"),n.detectionIgnoreAttr&&t.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),t.src=i(e,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:e.minify.enabled});var e,t,n=t;document.body.appendChild(n)}))})).catch((function(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))})))}catch(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))}}();return new class extends Ae{constructor(e){super(),Ee(this,e,Tr,Er,l,{},null,[-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
