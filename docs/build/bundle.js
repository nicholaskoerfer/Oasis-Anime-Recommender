var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(n)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function a(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function c(t,...n){if(null==t)return e;const i=t.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function u(e){let t;return c(e,(e=>t=e))(),t}function d(e,t,n){e.$$.on_destroy.push(c(t,n))}function f(e,t,n,i){return e[1]&&i?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](i(t))):n.ctx}function p(e){return null==e?"":e}function m(e,t,n){return e.set(n),t}function h(t){return t&&l(t.destroy)?t.destroy:e}function y(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const g="undefined"!=typeof window;let w=g?()=>window.performance.now():()=>Date.now(),v=g?e=>requestAnimationFrame(e):e;const b=new Set;function k(e){b.forEach((t=>{t.c(e)||(b.delete(t),t.f())})),0!==b.size&&v(k)}function S(e){let t;return 0===b.size&&v(k),{promise:new Promise((n=>{b.add(t={c:e,f:n})})),abort(){b.delete(t)}}}function x(e,t){e.appendChild(t)}function E(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function T(e){const t=L("style");return function(e,t){x(e.head||e,t),t.sheet}(E(e),t),t.sheet}function A(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function $(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function L(e){return document.createElement(e)}function I(e){return document.createTextNode(e)}function C(){return I(" ")}function P(){return I("")}function M(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function F(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function U(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function D(e,t){t=""+t,e.data!==t&&(e.data=t)}function O(e,t){e.value=null==t?"":t}function _(e,t,n,i){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function V(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,i,t),o}class j{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}(t.nodeName):this.e=L(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)A(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(N)}}const B=new Map;let R,H=0;function q(e,t,n,i,o,l,r,s=0){const a=16.666/i;let c="{\n";for(let e=0;e<=1;e+=a){const i=t+(n-t)*l(e);c+=100*e+`%{${r(i,1-i)}}\n`}const u=c+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,f=E(e),{stylesheet:p,rules:m}=B.get(f)||function(e,t){const n={stylesheet:T(t),rules:{}};return B.set(e,n),n}(f,e);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${i}ms linear ${o}ms 1 both`,H+=1,d}function W(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-i.length;o&&(e.style.animation=i.join(", "),H-=o,H||v((()=>{H||(B.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&N(t)})),B.clear())})))}function G(e){R=e}function Y(){if(!R)throw new Error("Function called outside component initialization");return R}function K(e){Y().$$.on_mount.push(e)}const J=[],z=[];let X=[];const Q=[],Z=Promise.resolve();let ee=!1;function te(){ee||(ee=!0,Z.then(se))}function ne(){return te(),Z}function ie(e){X.push(e)}const oe=new Set;let le,re=0;function se(){if(0!==re)return;const e=R;do{try{for(;re<J.length;){const e=J[re];re++,G(e),ae(e.$$)}}catch(e){throw J.length=0,re=0,e}for(G(null),J.length=0,re=0;z.length;)z.pop()();for(let e=0;e<X.length;e+=1){const t=X[e];oe.has(t)||(oe.add(t),t())}X.length=0}while(J.length);for(;Q.length;)Q.pop()();ee=!1,oe.clear(),G(e)}function ae(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ie)}}function ce(){return le||(le=Promise.resolve(),le.then((()=>{le=null}))),le}function ue(e,t,n){e.dispatchEvent(V(`${t?"intro":"outro"}${n}`))}const de=new Set;let fe;function pe(){fe={r:0,c:[],p:fe}}function me(){fe.r||o(fe.c),fe=fe.p}function he(e,t){e&&e.i&&(de.delete(e),e.i(t))}function ye(e,t,n,i){if(e&&e.o){if(de.has(e))return;de.add(e),fe.c.push((()=>{de.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}const ge={duration:0};function we(n,i,r){const s={direction:"out"};let a,c=i(n,r,s),u=!0;const d=fe;function f(){const{delay:i=0,duration:l=300,easing:r=t,tick:s=e,css:f}=c||ge;f&&(a=q(n,1,0,l,i,r,f));const p=w()+i,m=p+l;ie((()=>ue(n,!1,"start"))),S((e=>{if(u){if(e>=m)return s(0,1),ue(n,!1,"end"),--d.r||o(d.c),!1;if(e>=p){const t=r((e-p)/l);s(1-t,t)}}return u}))}return d.r+=1,l(c)?ce().then((()=>{c=c(s),f()})):f(),{end(e){e&&c.tick&&c.tick(1,0),u&&(a&&W(n,a),u=!1)}}}function ve(n,i,r,s){const a={direction:"both"};let c=i(n,r,a),u=s?0:1,d=null,f=null,p=null;function m(){p&&W(n,p)}function h(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(i){const{delay:l=0,duration:r=300,easing:s=t,tick:a=e,css:y}=c||ge,g={start:w()+l,b:i};i||(g.group=fe,fe.r+=1),d||f?f=g:(y&&(m(),p=q(n,u,i,r,l,s,y)),i&&a(0,1),d=h(g,r),ie((()=>ue(n,i,"start"))),S((e=>{if(f&&e>f.start&&(d=h(f,r),f=null,ue(n,d.b,"start"),y&&(m(),p=q(n,u,d.b,d.duration,0,s,c.css))),d)if(e>=d.end)a(u=d.b,1-u),ue(n,d.b,"end"),f||(d.b?m():--d.group.r||o(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),a(u,1-u)}return!(!d&&!f)})))}return{run(e){l(c)?ce().then((()=>{c=c(a),y(e)})):y(e)},end(){m(),d=f=null}}}function be(e,t){e.d(1),t.delete(e.key)}function ke(e,t){ye(e,1,1,(()=>{t.delete(e.key)}))}function Se(e,t,n,i,l,r,s,a,c,u,d,f){let p=e.length,m=r.length,h=p;const y={};for(;h--;)y[e[h].key]=h;const g=[],w=new Map,v=new Map,b=[];for(h=m;h--;){const e=f(l,r,h),o=n(e);let a=s.get(o);a?i&&b.push((()=>a.p(e,t))):(a=u(o,e),a.c()),w.set(o,g[h]=a),o in y&&v.set(o,Math.abs(h-y[o]))}const k=new Set,S=new Set;function x(e){he(e,1),e.m(a,d),s.set(e.key,e),d=e.first,m--}for(;p&&m;){const t=g[m-1],n=e[p-1],i=t.key,o=n.key;t===n?(d=t.first,p--,m--):w.has(o)?!s.has(i)||k.has(i)?x(t):S.has(o)?p--:v.get(i)>v.get(o)?(S.add(i),x(t)):(k.add(o),p--):(c(n,s),p--)}for(;p--;){const t=e[p];w.has(t.key)||c(t,s)}for(;m;)x(g[m-1]);return o(b),g}function xe(e){e&&e.c()}function Ee(e,t,i,r){const{fragment:s,after_update:a}=e.$$;s&&s.m(t,i),r||ie((()=>{const t=e.$$.on_mount.map(n).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),a.forEach(ie)}function Te(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];X.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),X=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ae(t,n,l,r,s,a,c,u=[-1]){const d=R;G(t);const f=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=l?l(t,n.props||{},((e,n,...i)=>{const o=i.length?i[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),p&&function(e,t){-1===e.$$.dirty[0]&&(J.push(e),te(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(N)}else f.fragment&&f.fragment.c();n.intro&&he(t.$$.fragment),Ee(t,n.target,n.anchor,n.customElement),se()}G(d)}class Ne{$destroy(){Te(this,1),this.$destroy=e}$on(t,n){if(!l(n))return e;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $e=137;async function Le(){try{let e=window.location.pathname;e=e.endsWith("/")?e:e+"/",e=e.includes("/index.html")?e.replace("/index.html",""):e;let t=await fetch(`${e}version.json`,{cache:"no-store"});return(await t.json()).version||$e}catch(e){return $e}}const Ie=[];function Ce(t,n=e){let i;const o=new Set;function l(e){if(r(t,e)&&(t=e,i)){const e=!Ie.length;for(const e of o)e[1](),Ie.push(e,t);if(e){for(let e=0;e<Ie.length;e+=2)Ie[e][0](Ie[e+1]);Ie.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(r,s=e){const a=[r,s];return o.add(a),1===o.size&&(i=n(l)||e),r(t),()=>{o.delete(a),0===o.size&&i&&(i(),i=null)}}}}const Pe=e=>"[object Object]"===Object.prototype.toString.call(e),Me=e=>{for(const t in e)return!1;return!0};function Fe(e,t){try{let n=Math.floor(e/1e3%60),i=Math.floor(e/6e4%60),o=Math.floor(e/36e5%24),l=Math.floor(e/864e5%7),r=Math.floor(e/6048e5%4),s=Math.floor(e/24192e5%12),a=Math.floor(e/290304e5%10),c=Math.floor(e/290304e6%10),u=Math.floor(e/290304e7%10),d=Math.floor(e/290304e8%10),f=[];return d<=0&&u<=0&&c<=0&&a<=0&&s<=0&&r<=0&&l<=0&&o<=0&&i<=0&&n<=0?"0s":(d>0&&f.push(`${d}mil`),c>0&&f.push(`${c}dec`),a>0&&f.push(`${a}y`),s>0&&f.push(`${s}mon`),r>0&&f.push(`${r}w`),l>0&&f.push(`${l}d`),o>0&&f.push(`${o}h`),i>0&&f.push(`${i}m`),n>0&&f.push(`${n}s`),t>0&&(f=f.slice(0,t)),f.join(" "))}catch(e){return}}function Ue(e,t,n=.5){try{var i;i=t instanceof Array?t:e.querySelectorAll(t);var o=null,l=0;let s=[],a=e.scrollTop;for(let e=0;e<i.length;e++)if(i[e].offsetTop>a){s=e>0?[i[e-1],i[e]]:0===e?[i[e]]:[];break}var r=e.getBoundingClientRect();return s.forEach((e=>{var t=e.getBoundingClientRect(),i=(Math.min(t.bottom,r.bottom)-Math.max(t.top,r.top))/t.height;i>=n&&i>l&&(l=i,o=e)})),o}catch(e){return}}const De=(e,t)=>{try{return Array.from(e.parentElement.children).indexOf(e)}catch(e){return}},Oe=(e,t,n="top",i,o=0)=>{try{let l;if("string"==typeof t&&(t=document.querySelector(t)),e===window){const e=t.getBoundingClientRect(),i=window.scrollY;l="bottom"===n?e.bottom+i-window.innerHeight:"center"===n?e.top+i-window.innerHeight/2:e.top+i}else if("string"==typeof e&&(e=document.querySelector(e)),"bottom"===n)l=t.offsetTop+t.offsetHeight-e.offsetHeight;else if("center"===n){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect();l=n.top+n.height/2-(i.top+i.height/2)+e.scrollTop-i.height/2}else{let n=t.getBoundingClientRect(),i=e.getBoundingClientRect();l=n.top-i.top+e.scrollTop}e===window?"smooth"===i?window.scrollTo({top:l+o,behavior:"smooth"}):window.scrollTo({top:l+o}):"smooth"===i?e.scrollBy({top:l+o,behavior:"smooth"}):e.scrollTop=l+o}catch(e){return}},_e=(e,t=2)=>{if("number"==typeof e){const n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:0,notation:"compact",compactDisplay:"short"});return Math.abs(e)>=1e3?n.format(e):Math.abs(e)<.01?e.toExponential(0):e.toFixed(t)||e.toLocaleString("en-US",{maximumFractionDigits:t})}return null},Ve=(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),je=(e,t)=>{let n=Math.max(e.selectionStart-1||0,0);e.value=t,e.setSelectionRange(n,n)},Be=(e,t="xy")=>{let n,i,o,l,r,s,a,c,u,d=l=>{if(n&&"mouse"===l.pointerType){if(t.toLowerCase().includes("y")){let t=l.clientY-i;e.scrollTop=s-t}if(t.toLowerCase().includes("x")){let t=l.clientX-o;e.scrollLeft=a-t}}},f=d=>{"mouse"===d.pointerType&&(l=0,cancelAnimationFrame(c),r=0,cancelAnimationFrame(u),t.toLowerCase().includes("y")&&(i=d.clientY,s=e.scrollTop),t.toLowerCase().includes("x")&&(o=d.clientX,a=e.scrollLeft),n=!0)},p=c=>{if(n){if(t.toLowerCase().includes("y")&&"mouse"===c.pointerType){let t=c.clientY-i;e.scrollTop=s-t,l=t,h(e)}if(t.toLowerCase().includes("x")&&"mouse"===c.pointerType){let t=c.clientX-o;e.scrollLeft=a-t,r=t,y(e)}}n=!1},m=()=>n=!1,h=(e,t)=>{if((null==t||e.scrollTop===t)&&"number"==typeof l&&e&&Math.abs(l)>.1){e.scrollTop-=.1*l;let t=e.scrollTop;c=requestAnimationFrame((()=>h(e,t))),l*=.9}else l=0,cancelAnimationFrame(c)},y=(e,t)=>{if((null==t||e.scrollLeft===t)&&"number"==typeof r&&e&&Math.abs(r)>.1){e.scrollLeft-=.1*r;let t=e.scrollLeft;u=requestAnimationFrame((()=>y(e,t))),r*=.9}else r=0,cancelAnimationFrame(u)};return e.addEventListener("pointermove",d),e.addEventListener("pointerdown",f),e.addEventListener("pointerup",p),window.addEventListener("pointerup",m),window.addEventListener("pointercancel",m),()=>{r=l=0,cancelAnimationFrame(c),cancelAnimationFrame(u),e.removeEventListener("pointermove",d),e.removeEventListener("pointerdown",f),e.removeEventListener("pointerup",p),window.addEventListener("pointerup",m),window.addEventListener("pointercancel",m)}};let Re;const He=(e,t)=>{e?.classList?.add?.(t)},qe=(e,t)=>{e?.classList?.remove?.(t)},We="Kanshi.Anime.Recommendations.Anilist.W~uPtWCq=vG$TR:Zl^#t<vdS]I~N70",Ge=e=>{let t;try{return e=We+e,t=localStorage.getItem(e),JSON.parse(t)}catch(e){return t??null}},Ye=(e,t)=>{try{localStorage.setItem(We+e,t)}catch(e){}},Ke=Ce(null),Je=Ce(null),ze=Ce(!0),Xe=Ce(0),Qe=Ce(!1),Ze=Ce(Ge("username")||null),et=Ce(null),tt=Ce(null),nt=Ce(null),it=Ce(null),ot=Ce(null),lt=Ce(null),rt=Ce(!1),st=Ce(null),at=Ce(Ge("autoUpdate")||null),ct=Ce(null),ut=Ce(null),dt=Ce(Ge("exportPathIsAvailable")||null),ft=Ce(Ge("autoExport")||null),pt=Ce(null),mt=Ce(null),ht=Ce([]),yt=Ce(Ge("autoPlay")||null),gt=Ce(!0),wt=Ce(Ge("gridFullView")||null),vt=Ce(!1),bt=Ce(null),kt=Ce(null),St=Ce(!1),xt=Ce(""),Et=Ce(null),Tt=Ce(null),At=Ce(!1),Nt=Ce(!1),$t=Ce(null),Lt=Ce(!1),It=Ce(null),Ct=Ce(!0),Pt=Ce(!1),Mt=Ce(!1),Ft=Ce(null),Ut=Ce(null),Dt=Ce(null),Ot=Ce(null),_t=Ce(null),Vt=Ce(null),jt=Ce(null),Bt=Ce(null),Rt=Ce(null),Ht=Ce(null),qt=Ce(null);function Wt(e){const t=e-1;return t*t*t+1}function Gt(e,{delay:n=0,duration:i=400,easing:o=t}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:i,easing:o,css:e=>"opacity: "+e*l}}function Yt(e,{delay:t=0,duration:n=400,easing:i=Wt,x:o=0,y:l=0,opacity:r=0}={}){const s=getComputedStyle(e),a=+s.opacity,c="none"===s.transform?"":s.transform,u=a*(1-r),[d,f]=y(o),[p,m]=y(l);return{delay:t,duration:n,easing:i,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*d}${f}, ${(1-e)*p}${m});\n\t\t\topacity: ${a-u*t}`}}function Kt(e,t,n){const i=e.slice();return i[45]=t[n],i}function Jt(e,t,n){const i=e.slice();return i[45]=t[n],i}function zt(e,t,n){const i=e.slice();return i[45]=t[n],i}function Xt(e,t,n){const i=e.slice();return i[45]=t[n],i}function Qt(e,t,n){const i=e.slice();return i[50]=t[n],i[51]=t,i[52]=n,i}function Zt(t){let n;return{c(){n=L("div"),n.textContent="No Results",U(n,"class","empty svelte-1lrt31r")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function en(t){let n,i,o=Array(21),l=[];for(let e=0;e<o.length;e+=1)l[e]=nn(Jt(t,o,e));let r=Array(5),s=[];for(let e=0;e<r.length;e+=1)s[e]=on(Kt(t,r,e));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();n=C();for(let e=0;e<s.length;e+=1)s[e].c();i=P()},m(e,t){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,t);A(e,n,t);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(e,t);A(e,i,t)},p:e,d(e){$(l,e),e&&N(n),$(s,e),e&&N(i)}}}function tn(e){let t,n,i,o=[],l=new Map,r=e[9]||[];const s=e=>e[50].id;for(let t=0;t<r.length;t+=1){let n=Qt(e,r,t),i=s(n);l.set(i,o[t]=un(i,n))}let a=Array(e[8]??hn),c=[];for(let t=0;t<a.length;t+=1)c[t]=dn(Xt(e,a,t));let u=Array(e[10]??Ge("gridFullView")??!e[11]?Math.floor((e[0]??1100)/220):5),d=[];for(let t=0;t<u.length;t+=1)d[t]=fn(zt(e,u,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=C();for(let e=0;e<c.length;e+=1)c[e].c();n=C();for(let e=0;e<d.length;e+=1)d[e].c();i=P()},m(e,l){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,l);A(e,t,l);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,l);A(e,n,l);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(e,l);A(e,i,l)},p(e,f){if(516706&f[0]&&(r=e[9]||[],o=Se(o,f,s,1,e,r,l,t.parentNode,be,un,t,Qt)),904&f[0]){let t;for(a=Array(e[8]??hn),t=0;t<a.length;t+=1){const i=Xt(e,a,t);c[t]?c[t].p(i,f):(c[t]=dn(i),c[t].c(),c[t].m(n.parentNode,n))}for(;t<c.length;t+=1)c[t].d(1);c.length=a.length}if(3073&f[0]){let t;for(u=Array(e[10]??Ge("gridFullView")??!e[11]?Math.floor((e[0]??1100)/220):5),t=0;t<u.length;t+=1){const n=zt(e,u,t);d[t]?d[t].p(n,f):(d[t]=fn(),d[t].c(),d[t].m(i.parentNode,i))}for(;t<d.length;t+=1)d[t].d(1);d.length=u.length}},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&N(t),$(c,e),e&&N(n),$(d,e),e&&N(i)}}}function nn(t){let n;return{c(){n=L("div"),n.innerHTML='<div class="shimmer svelte-1lrt31r"></div>',U(n,"class","image-grid__card skeleton svelte-1lrt31r")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function on(t){let n;return{c(){n=L("div"),U(n,"class","image-grid__card svelte-1lrt31r")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function ln(e){let t,n=`${e[50].format||"N/A"}${e[50].episodes?"("+e[50].episodes+")":""}`;return{c(){t=I(n)},m(e,n){A(e,t,n)},p(e,i){512&i[0]&&n!==(n=`${e[50].format||"N/A"}${e[50].episodes?"("+e[50].episodes+")":""}`)&&D(t,n)},d(e){e&&N(t)}}}function rn(e){let t,n=e[1]?.getSeconds?.()||1,i=sn(e);return{c(){i.c(),t=P()},m(e,n){i.m(e,n),A(e,t,n)},p(e,o){2&o[0]&&r(n,n=e[1]?.getSeconds?.()||1)?(i.d(1),i=sn(e),i.c(),i.m(t.parentNode,t)):i.p(e,o)},d(e){e&&N(t),i.d(e)}}}function sn(e){let t,n=`${e[50].format||"N/A"}${gn(e[50].episodes,e[50].nextAiringEpisode)}\n                                        `;return{c(){t=I(n)},m(e,n){A(e,t,n)},p(e,i){512&i[0]&&n!==(n=`${e[50].format||"N/A"}${gn(e[50].episodes,e[50].nextAiringEpisode)}\n                                        `)&&D(t,n)},d(e){e&&N(t)}}}function an(e){let t,n=(_e(e[50].weightedScore)||"N/A")+"";return{c(){t=I(n)},m(e,n){A(e,t,n)},p(e,i){512&i[0]&&n!==(n=(_e(e[50].weightedScore)||"N/A")+"")&&D(t,n)},d(e){e&&N(t)}}}function cn(e){let t,n=(e[17](e[50])||"N/A")+"";return{c(){t=I(n)},m(e,n){A(e,t,n)},p(e,i){512&i[0]&&n!==(n=(e[17](e[50])||"N/A")+"")&&D(t,n)},d(e){e&&N(t)}}}function un(e,t){let n,i,r,s,c,u,d,f,m,h,y,g,w,v,b,k,S,E,T,$,P,F,O,_,V,j,B,R,H,q,W,G=(wn(t[50]?.title)||"N/A")+"",Y=t[51],K=t[52];function J(e,t){return 512&t[0]&&(T=null),null==T&&(T=!!Pe(e[50]?.nextAiringEpisode)),T?rn:ln}let z=J(t,[-1,-1]),X=z(t);function Q(e,t){return e[5]?cn:an}let Z=Q(t),ee=Z(t);function te(...e){return t[22](t[52],...e)}function ne(...e){return t[23](t[52],...e)}const ie=()=>t[24](n,Y,K),oe=()=>t[24](null,Y,K);return{key:e,first:null,c(){n=L("div"),i=L("div"),r=L("img"),d=C(),f=L("span"),m=L("span"),h=I(G),g=C(),w=L("span"),v=L("div"),b=L("span"),k=L("i"),E=C(),X.c(),P=C(),F=L("div"),O=L("span"),_=L("i"),j=C(),ee.c(),U(r,"loading",s=t[52]>hn?"lazy":"eager"),U(r,"class",p("image-grid__card-thumb  fade-out")+" svelte-1lrt31r"),U(r,"alt",c=(wn(t[50]?.title)||"")+" Cover"),a(r.src,u=t[50].coverImageUrl||"")||U(r,"src",u),U(r,"width","180px"),U(r,"height","254.531px"),U(m,"class","title copy svelte-1lrt31r"),U(m,"copy-value",y=wn(t[50]?.title)||""),U(k,"class",S=p(`${t[18](t[50].userStatus)}-color fa-solid fa-circle`)+" svelte-1lrt31r"),U(v,"class","brief-info svelte-1lrt31r"),U(v,"date",$=JSON.stringify(t[50]?.nextAiringEpisode)),U(_,"class",V=p(`${yn(t[50])}-color fa-solid fa-star`)+" svelte-1lrt31r"),U(F,"class","brief-info svelte-1lrt31r"),U(w,"class","brief-info-wrapper copy svelte-1lrt31r"),U(w,"copy-value",B=wn(t[50]?.title)||""),U(f,"class","image-grid__card-title svelte-1lrt31r"),U(i,"class","shimmer svelte-1lrt31r"),U(i,"tabindex",R=t[6]?"":"0"),U(n,"class","image-grid__card svelte-1lrt31r"),U(n,"title",H=t[16](t[50])),this.first=n},m(e,o){A(e,n,o),x(n,i),x(i,r),x(i,d),x(i,f),x(f,m),x(m,h),x(f,g),x(f,w),x(w,v),x(v,b),x(b,k),x(b,E),X.m(b,null),x(w,P),x(w,F),x(F,O),x(O,_),x(O,j),ee.m(O,null),ie(),q||(W=[M(r,"load",t[20]),M(r,"error",t[21]),M(i,"click",(function(){l(t[13](t[52]))&&t[13](t[52]).apply(this,arguments)})),M(i,"pointerdown",te),M(i,"pointerup",t[15]),M(i,"pointercancel",t[15]),M(i,"keydown",ne)],q=!0)},p(e,o){t=e,512&o[0]&&s!==(s=t[52]>hn?"lazy":"eager")&&U(r,"loading",s),512&o[0]&&c!==(c=(wn(t[50]?.title)||"")+" Cover")&&U(r,"alt",c),512&o[0]&&!a(r.src,u=t[50].coverImageUrl||"")&&U(r,"src",u),512&o[0]&&G!==(G=(wn(t[50]?.title)||"N/A")+"")&&D(h,G),512&o[0]&&y!==(y=wn(t[50]?.title)||"")&&U(m,"copy-value",y),512&o[0]&&S!==(S=p(`${t[18](t[50].userStatus)}-color fa-solid fa-circle`)+" svelte-1lrt31r")&&U(k,"class",S),z===(z=J(t,o))&&X?X.p(t,o):(X.d(1),X=z(t),X&&(X.c(),X.m(b,null))),512&o[0]&&$!==($=JSON.stringify(t[50]?.nextAiringEpisode))&&U(v,"date",$),512&o[0]&&V!==(V=p(`${yn(t[50])}-color fa-solid fa-star`)+" svelte-1lrt31r")&&U(_,"class",V),Z===(Z=Q(t))&&ee?ee.p(t,o):(ee.d(1),ee=Z(t),ee&&(ee.c(),ee.m(O,null))),512&o[0]&&B!==(B=wn(t[50]?.title)||"")&&U(w,"copy-value",B),64&o[0]&&R!==(R=t[6]?"":"0")&&U(i,"tabindex",R),512&o[0]&&H!==(H=t[16](t[50]))&&U(n,"title",H),Y===t[51]&&K===t[52]||(oe(),Y=t[51],K=t[52],ie())},d(e){e&&N(n),X.d(),ee.d(),oe(),q=!1,o(W)}}}function dn(e){let t,n,i;return{c(){t=L("div"),n=L("div"),U(n,"class","shimmer svelte-1lrt31r"),U(t,"class",i=p("image-grid__card skeleton anime-loaded-padding "+(e[9]?.length&&!e[7]&&e[3]?"":"disable-interaction"))+" svelte-1lrt31r")},m(e,i){A(e,t,i),x(t,n)},p(e,n){648&n[0]&&i!==(i=p("image-grid__card skeleton anime-loaded-padding "+(e[9]?.length&&!e[7]&&e[3]?"":"disable-interaction"))+" svelte-1lrt31r")&&U(t,"class",i)},d(e){e&&N(t)}}}function fn(t){let n;return{c(){n=L("div"),U(n,"class","image-grid__card svelte-1lrt31r")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function pn(t){let n,i,l,r,s;return{c(){n=L("div"),n.innerHTML='<i class="fa-solid fa-arrow-left svelte-1lrt31r"></i>',U(n,"class","go-back-grid svelte-1lrt31r"),U(n,"tabindex","0")},m(e,i){A(e,n,i),l=!0,r||(s=[M(n,"click",t[19]),M(n,"keydown",t[27])],r=!0)},p:e,i(e){l||(ie((()=>{l&&(i||(i=ve(n,Yt,{x:-50,duration:300},!0)),i.run(1))})),l=!0)},o(e){i||(i=ve(n,Yt,{x:-50,duration:300},!1)),i.run(0),l=!1},d(e){e&&N(n),e&&i&&i.end(),r=!1,o(s)}}}function mn(e){let t,n,i,o,l,r,s,a;function c(e,t){return e[9]?.length?tn:!e[9]||e[12]?en:Zt}let u=c(e),d=u(e),f=!e[11]&&e[10]&&e[2]?.scrollLeft>500&&pn(e);return{c(){t=L("main"),n=L("div"),d.c(),o=C(),f&&f.c(),U(n,"id","anime-grid"),U(n,"class",i=p("image-grid "+(e[10]??Ge("gridFullView")??!e[11]?"fullView":"")+(0!==e[9]?.length||e[12]?"":"empty"))+" svelte-1lrt31r"),_(n,"--anime-grid-height",e[0]+"px"),U(t,"class",l=p(e[10]??Ge("gridFullView")??!e[11]?"fullView":"")+" svelte-1lrt31r")},m(i,l){A(i,t,l),x(t,n),d.m(n,null),e[25](n),x(t,o),f&&f.m(t,null),r=!0,s||(a=M(n,"wheel",e[26]),s=!0)},p(e,o){u===(u=c(e))&&d?d.p(e,o):(d.d(1),d=u(e),d&&(d.c(),d.m(n,null))),(!r||7680&o[0]&&i!==(i=p("image-grid "+(e[10]??Ge("gridFullView")??!e[11]?"fullView":"")+(0!==e[9]?.length||e[12]?"":"empty"))+" svelte-1lrt31r"))&&U(n,"class",i),1&o[0]&&_(n,"--anime-grid-height",e[0]+"px"),!e[11]&&e[10]&&e[2]?.scrollLeft>500?f?(f.p(e,o),3076&o[0]&&he(f,1)):(f=pn(e),f.c(),he(f,1),f.m(t,null)):f&&(pe(),ye(f,1,1,(()=>{f=null})),me()),(!r||3072&o[0]&&l!==(l=p(e[10]??Ge("gridFullView")??!e[11]?"fullView":"")+" svelte-1lrt31r"))&&U(t,"class",l)},i(e){r||(he(f),r=!0)},o(e){ye(f),r=!1},d(n){n&&N(t),d.d(),e[25](null),f&&f.d(),s=!1,a()}}}let hn=13;function yn({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:i}){return e?.caution?.length?"red":e?.semiCaution?.length?"teal":i<t?"purple":i<n?"orange":"green"}function gn(e,t){let n,i;if("number"==typeof t?.episode&&"number"==typeof t?.airingAt){let e=new Date(1e3*t?.airingAt);i=t?.episode,e instanceof Date&&!isNaN(e)&&(n=e.getTime()-(new Date).getTime())}if(n>0&&i>1&&e>i)return`(${i-1}/${e})`;if(n<=0&&"number"==typeof i&&e>i)return`(${i}/${e})`;if("number"==typeof e)return`(${e})`;if("number"==typeof i){if(n>0&&i>1)return`(${i-1}")`;if(n<=0)return`(${i}")`}return""}function wn(e){return e?.english||e?.userPreferred||e?.romaji||e?.native||""}function vn(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w,v,b,k,S;d(e,tt,(e=>n(5,i=e))),d(e,Nt,(e=>n(33,o=e))),d(e,$t,(e=>n(34,l=e))),d(e,Lt,(e=>n(6,r=e))),d(e,It,(e=>n(35,s=e))),d(e,ot,(e=>n(36,a=e))),d(e,vt,(e=>n(37,c=e))),d(e,St,(e=>n(7,u=e))),d(e,Dt,(e=>n(38,f=e))),d(e,bt,(e=>n(39,p=e))),d(e,Et,(e=>n(8,h=e))),d(e,it,(e=>n(9,y=e))),d(e,lt,(e=>n(40,g=e))),d(e,kt,(e=>n(41,w=e))),d(e,jt,(e=>n(42,v=e))),d(e,wt,(e=>n(10,b=e))),d(e,Je,(e=>n(11,k=e))),d(e,gt,(e=>n(12,S=e)));let x,E,T=Math.max(window.visualViewport.height,window.innerHeight),A=new Date,N=!1;K((()=>{n(0,T=Math.max(window.visualViewport.height,window.innerHeight)),n(2,x=x||document.getElementById("anime-grid")),window.addEventListener("resize",(()=>{n(0,T=Math.max(window.visualViewport.height,window.innerHeight))})),setInterval((()=>{n(1,A=new Date)}),1e3)}));let $,L,I,C,P=!1;function M(e){m(It,s=e,s),m(Lt,r=!0,r)}function F(e,t){let n=e.target;n.classList.contains("copy")||n.closest(".copy")||(I&&clearTimeout(I),I=setTimeout((()=>{m($t,l=t,l),m(Nt,o=!0,o)}),500))}function U(){n(2,x.style.overflow="hidden",x),n(2,x.style.overflow="",x),x?.children?.[0]?.scrollIntoView?.({container:x,behavior:"smooth",block:"nearest",inline:"start"})}window.checkAnimeLoaderStatus=m(vt,c=async()=>{if(a instanceof Worker&&"function"==typeof a.onmessage)return new Promise(((e,t)=>{$={resolve:e,reject:t},a?.postMessage?.({checkStatus:!0}),clearTimeout(L),L=setTimeout((()=>{t()}),1e3)})).catch((()=>{m(ot,a=null,a),m(it,y=null,y),m(jt,v=!v,v),$=null})).finally((()=>{$=null}))},c),ot.subscribe((e=>{e instanceof Worker&&(e.onmessage=async({data:e})=>{if($?.resolve&&e?.isAlive&&($?.resolve?.(),$=null),await ne(),void 0!==e?.status)m(lt,g=e.status,g);else if(e.finalAnimeList instanceof Array)!0===e?.reload?(m(it,y=e.finalAnimeList,y),P=!0,m(Et,h=e.numberOfNextLoadedGrid,h)):!0===e.isNew?(m(it,y=e.finalAnimeList,y),m(Et,h=e.numberOfNextLoadedGrid,h)):!1===e.isNew&&(y instanceof Array&&(m(it,y=y.concat(e.finalAnimeList),y),e.isLast&&(m(St,u=!0,u),p instanceof IntersectionObserver&&(p.disconnect(),m(bt,p=null,p)))),m(Et,h=e.numberOfNextLoadedGrid,h));else if(!0===e.isRemoved&&"number"==typeof e.removedID){let t=Math.max(y.length-2,0),n=y[t].gridElement||x.children?.[t];p instanceof IntersectionObserver&&n instanceof Element&&p.observe(n);let i=y.findIndex((({id:t})=>t===e.removedID));m(it,y=y.filter((({id:t})=>t!==e.removedID)),y),i>=0&&(m(kt,w=null,w),m(kt,w=i,w)),m(Et,h=e.numberOfNextLoadedGrid,h)}},e.onerror=e=>{m(lt,g="Something went wrong...",g),console.error(e)})})),it.subscribe((async e=>{if(e instanceof Array&&e.length){u&&m(St,u=!1,u),p&&(p.disconnect(),m(bt,p=null,p)),await ne(),E=!1,m(bt,p=new IntersectionObserver((e=>{u||e.forEach((e=>{if(e.isIntersecting){if(n(3,N=!0),E)return;E=!0,setTimeout((()=>{a instanceof Worker&&c().then((()=>{a?.postMessage?.({loadMore:!0})})),E=!1}),1e3)}}))}),{root:null,rootMargin:"100%",threshold:[0,1]}),p);let e=y.length-1,t=y[e].gridElement||x.children?.[e];p instanceof IntersectionObserver&&(t instanceof Element&&p.observe(t),document.querySelectorAll(".anime-loaded-padding").forEach((e=>{p.observe(e)}))),P&&(m(Dt,f=!f,f),P=!1),n(3,N=!1)}else m(Et,h=null,h),p&&(p?.disconnect?.(),m(bt,p=null,p)),P&&(m(Dt,f=!f,f),P=!1),n(3,N=!1)})),xt.subscribe((async e=>{"string"==typeof e&&a instanceof Worker&&(m(St,u=!1,u),c().then((()=>{a?.postMessage?.({filterKeyword:e})})))}));return[T,A,x,N,C,i,r,u,h,y,b,k,S,M,F,function(){I&&clearTimeout(I)},function({contentCaution:e,sortedFavoriteContents:t,meanScoreAll:n,meanScoreAbove:i,score:o}){let l=[];t?.forEach((e=>{"string"==typeof e&&l.push(e)}));let r=[];o<n?r.push(`Very Low Score (mean: ${_e(n)})`):o<i&&r.push(`Low Score (mean: ${_e(i)})`),r=r.concat(e?.caution||[]).concat(e?.semiCaution||[]);let s="";return l.length&&(s+="Favorite Contents: "+l.join(", ")||""),r.length&&(s+="\n\nContent Cautions: "+r.join(", ")),s},function({weightedScore:e,score:t,averageScore:n,userScore:o}){let l=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))?.[0]?.sortName||"weighted score";return"score"===l?_e(t):"user score"===l?o:"average score"===l?n:_e(e)},function(e){return Ve(e,"completed")?"green":Ve(e,"current")||Ve(e,"repeating")?"blue":Ve(e,"planning")?"orange":Ve(e,"paused")?"peach":Ve(e,"dropped")?"red":"lightgrey"},U,e=>{qe(e.target,"fade-out"),He(e.target?.closest?.(".shimmer"),"loaded")},e=>{He(e.target,"fade-out"),He(e.target,"display-none")},(e,t)=>F(t,e),(e,t)=>"Enter"===t.key&&M(e),function(e,t,n){z[e?"unshift":"push"]((()=>{t[n].gridElement=e}))},function(e){z[e?"unshift":"push"]((()=>{x=e,n(2,x)}))},e=>{if((b??Ge("gridFullView")??!k)&&(function(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),e.stopPropagation(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}(e,"image-grid"),!C)){n(4,C=!0);let e=window.scrollMaxY||Number.MAX_SAFE_INTEGER;document.documentElement.scrollTop=e,n(4,C=!1)}},e=>"Enter"===e.key&&U()]}let bn={};const kn=e=>new Promise((async t=>{if(u(Je))t(e);else{let n=u(Ke);n||(n=await Le(),Ke.set(n)),bn[e=e+"?v="+n]?t(bn[e]):fetch(e,{headers:{"Cache-Control":"max-age=31536000, immutable"}}).then((e=>e.blob())).then((n=>{let i=URL.createObjectURL(n);bn[e]=i,t(i)})).catch((async()=>{t(e)}))}}));let Sn,xn,En,Tn=1e3,An=!1,Nn=!1;const $n=(e={})=>new Promise(((t,n)=>{An=!0,Xe.set(0),kn("./webapi/worker/animeLoader.js").then((i=>{En&&(En.terminate(),En=null),e?.filterOptions&&e?.activeTagFilters?(Sn=e?.filterOptions,xn=e?.activeTagFilters,e.hasPassedFilters=!0):Sn&&xn&&(e.filterOptions=Sn,e.activeTagFilters=xn,e.hasPassedFilters=!0),En=new Worker(i),En.postMessage(e),En.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?e?.progress>=0&&e?.progress<=100&&Xe.set(e.progress):e?.hasOwnProperty("status")?(An=!0,lt.set(e.status)):e?.isNew&&(!0===e?.hasPassedFilters&&(Sn=xn=void 0),An=!1,En.onmessage=null,Xe.set(100),t(Object.assign({},e,{animeLoaderWorker:En})))},En.onerror=e=>{Xe.set(100),n(e)}})).catch((e=>{Xe.set(100),Xn(),n(e)}))}));let Ln,In;const Cn=(e={})=>new Promise(((t,n)=>{An=!0,In&&In.terminate(),Xe.set(0),kn("./webapi/worker/processRecommendedAnimeList.js").then((i=>{Ln&&clearTimeout(Ln),e?.filterOptions&&e?.activeTagFilters?(Sn=e?.filterOptions,xn=e?.activeTagFilters,e.hasPassedFilters=!0):Sn&&xn&&(e.filterOptions=Sn,e.activeTagFilters=xn,e.hasPassedFilters=!0),In=new Worker(i),In.postMessage(e),In.onmessage=({data:e})=>{if(e?.hasOwnProperty("progress"))e?.progress>=0&&e?.progress<=100&&Xe.set(e.progress);else if(e?.hasOwnProperty("status"))An=!0,lt.set(e.status);else if(e?.animeReleaseNotification){if(u(Je))try{let t=e?.animeReleaseNotification;"number"==typeof t?.releaseEpisodes&&"number"==typeof t?.releaseDateMillis&&"number"==typeof t?.maxEpisode&&"string"==typeof t?.title&&"number"==typeof t?.id&&"boolean"==typeof t?.isMyAnime&&"string"==typeof t?.imageURL&&JSBridge.addAnimeReleaseNotification(t.id,t.title,t.releaseEpisodes,t.maxEpisode,t.releaseDateMillis,t?.imageURL,t.isMyAnime)}catch(e){}}else!0===e?.hasPassedFilters&&(Sn=xn=void 0),An=!1,Ln=setTimeout((()=>{In.terminate()}),Tn),Xe.set(100),t()},In.onerror=e=>{Xe.set(100),n(e)}})).catch((e=>{Xe.set(100),Xn(),n(e)}))}));let Pn,Mn;const Fn=e=>new Promise(((t,n)=>{Mn&&Mn.terminate(),Xe.set(0),kn("./webapi/worker/requestAnimeEntries.js").then((i=>{Mn=new Worker(i),Pn&&clearTimeout(Pn),Mn.postMessage(e),Mn.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?!An&&e?.progress>=0&&e?.progress<=100&&Xe.set(e.progress):e?.hasOwnProperty("status")?An||lt.set(e.status):void 0!==e?.updateRecommendationList?Bt.update((e=>!e)):e?.lastRunnedAutoUpdateDate instanceof Date&&!isNaN(e?.lastRunnedAutoUpdateDate)?ut.set(e.lastRunnedAutoUpdateDate):(void 0!==e?.errorDuringInit||(Pn=setTimeout((()=>{Mn.terminate()}),Tn),Xe.set(100)),t(e))},Mn.onerror=e=>{Xe.set(100),n(e)}})).catch((e=>{Xe.set(100),Xn(),n(e)}))}));let Un,Dn;const On=e=>new Promise(((t,n)=>{u(gt)||(Nn||u(rt))&&st.set(!1),Dn&&Dn.terminate(),Xe.set(0),kn("./webapi/worker/requestUserEntries.js").then((i=>{Dn=new Worker(i),Un&&clearTimeout(Un),Dn.postMessage(e),Dn.onmessage=({data:e})=>{e?.hasOwnProperty("progress")?!An&&e?.progress>=0&&e?.progress<=100&&Xe.set(e.progress):e?.hasOwnProperty("status")?An||(lt.set(e.status),"User not found"===e.status&&(st.set(!1),Ht.update((e=>!e)),window.confirmPromise({isAlert:!0,text:"User is not found, you may want to try again..."}),Un=setTimeout((()=>{Dn.terminate()}),Tn),Xe.set(100),n(e))):e?.error?(st.set(!1),Ht.update((e=>!e)),Un=setTimeout((()=>{Dn.terminate()}),Tn),Xe.set(100),n(e)):void 0!==e?.updateRecommendationList?Bt.update((e=>!e)):(st.set(!1),Un=setTimeout((()=>{Dn.terminate()}),Tn),Xe.set(100),t(e))},Dn.onerror=e=>{st.set(!1),Ht.update((e=>!e)),Un=setTimeout((()=>{Dn.terminate()}),Tn),Xe.set(100),n(e)}})).catch((e=>{st.set(!1),Xe.set(100),Ht.update((e=>!e)),Xn(),n(e)}))}));let _n;const Vn=e=>new Promise(((e,t)=>{if(!u(gt)){if(u(rt))return;zn(),Nn=!0}_n&&_n.terminate(),Xe.set(0),kn("./webapi/worker/exportUserData.js").then((n=>{_n=new Worker(n),u(Je)?_n.postMessage("android"):_n.postMessage("browser"),_n.onmessage=({data:t})=>{if(t?.hasOwnProperty("progress"))t?.progress>=0&&t?.progress<=100&&Xe.set(t.progress);else if(t?.hasOwnProperty("status"))An=!0,lt.set(t.status);else if(u(Je)){An=!1;let n=t.chunk,i=t.state;if(0===i)JSBridge.exportJSON("",0,"");else if(1===i)JSBridge.exportJSON(n,1,"");else if(2===i){let i=t.username??null;JSBridge.exportJSON(n,2,`Kanshi.${i?.toLowerCase()||"Backup"}.json`),Xe.set(100),_n.terminate(),Nn=!1,e(t)}}else{An=!1;let n=t.username??null;Xe.set(100),((e,t)=>{Re&&setTimeout((()=>URL.revokeObjectURL(Re)),0),Re=e;const n=document.createElement("a");n.href=e,n.download=t,n.click()})(t.url,`Kanshi.${n?.toLowerCase()||"Backup"}.json`),Nn=!1,e(t)}},_n.onerror=e=>{Xe.set(100),Nn=!1,window.confirmPromise?.({isAlert:!0,title:"Export Failed",text:"Data is not exported, please try again in a later time."}),t(e)}})).catch((e=>{Xe.set(100),Nn=!1,Xn(),t(e)}))}));let jn,Bn;const Rn=e=>new Promise(((t,n)=>{kn("./webapi/worker/getIDBdata.js").then((i=>{let o=new Worker(i);o.postMessage({name:e}),o.onmessage=({data:e})=>{e?.hasOwnProperty("status")?lt.set(e.status):(o.terminate(),t(e))},o.onerror=e=>{n(e)}})).catch((()=>{Xn(),n(error)}))})),Hn=(e,t)=>new Promise(((n,i)=>{kn("./webapi/worker/saveIDBdata.js").then((o=>{let l=new Worker(o);l.onmessage=({data:e})=>{e?.hasOwnProperty("status")?lt.set(e.status):(setTimeout((()=>{l.terminate(),l=null}),Tn),n())},l.onerror=e=>{i(e)},l.postMessage({data:e,name:t}),"boolean"==typeof e&&Ye(t,e)})).catch((e=>{Xn(),i(e)}))}));let qn,Wn;let Gn,Yn,Kn;const Jn=e=>new Promise(((t,n)=>{Yn=setInterval((()=>{Wn||lt.set("Getting Filters")}),300),kn("./webapi/worker/getFilterOptions.js").then((i=>{Yn&&(clearInterval(Yn),Yn=null),Kn&&Kn.terminate(),Kn=new Worker(i),Gn&&clearTimeout(Gn),Kn.postMessage(e),Kn.onmessage=({data:e})=>{e?.hasOwnProperty("status")?(An=!0,lt.set(e.status)):(An=!1,Gn=setTimeout((()=>{Kn.terminate()}),Tn),t(e))},Kn.onerror=e=>{n(e)}})).catch((e=>{Yn&&(clearInterval(Yn),Yn=null),lt.set(null),Xn(),n(e)}))}));function zn(){Xe.set(0),Mn?.terminate?.(),Dn?.terminate?.(),st.set(!1),Bn?.terminate?.(),rt.set(!1),_n?.terminate?.(),Nn=!1,Kn?.terminate?.(),clearInterval(Wn),Wn=null,clearInterval(Yn),Yn=null,lt.set(null)}function Xn(){u(Je)?window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}):window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."})}function Qn(e,t){return new Promise((async(n,i)=>{await Hn(e,t).then((e=>{n(e)})).catch((e=>{i(e)}))}))}async function Zn(e){return new Promise((async(t,n)=>{await Rn(e).then((e=>{t(e)})).catch((e=>{n(e)}))}))}function ei(e,t,n){const i=e.slice();return i[128]=t[n],i[129]=t,i[130]=n,i}function ti(e,t,n){const i=e.slice();return i[131]=t[n].tag,i[132]=t[n].tagColor,i}function ni(e,t,n){const i=e.slice();return i[135]=t[n].genre,i[136]=t[n].genreColor,i}function ii(e,t,n){const i=e.slice();return i[139]=t[n].studio,i[140]=t[n].studioColor,i}function oi(e){let t,n,i,o=[],l=new Map,r=e[9]||[];const s=e=>e[128].id;for(let t=0;t<r.length;t+=1){let n=ei(e,r,t),i=s(n);l.set(i,o[t]=Si(i,n))}let a=e[9]?.length&&!e[13]&&xi();return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=C(),a&&a.c(),n=P()},m(e,l){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,l);A(e,t,l),a&&a.m(e,l),A(e,n,l),i=!0},p(e,i){100637543&i[0]&&(r=e[9]||[],pe(),o=Se(o,i,s,1,e,r,l,t.parentNode,ke,Si,t,ei),me()),e[9]?.length&&!e[13]?a||(a=xi(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){if(!i){for(let e=0;e<r.length;e+=1)he(o[e]);i=!0}},o(e){for(let e=0;e<o.length;e+=1)ye(o[e]);i=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&N(t),a&&a.d(e),e&&N(n)}}}function li(e){let t;return{c(){t=L("div"),U(t,"class","trailer display-none svelte-800fvw")},m(e,n){A(e,t,n)},d(e){e&&N(t)}}}function ri(e){let t,n,i,l,r;return{c(){t=L("img"),U(t,"loading","lazy"),U(t,"width","640px"),U(t,"height","360px"),a(t.src,n=e[128].bannerImageUrl||e[128].trailerThumbnailUrl)||U(t,"src",n),U(t,"alt",i=(Mi(e[128]?.title)||"")+(e[128].bannerImageUrl?" Banner":" Thumbnail")),U(t,"class","bannerImg fade-out svelte-800fvw"),U(t,"tabindex","0")},m(n,i){A(n,t,i),l||(r=[M(t,"load",e[37]),M(t,"error",e[38])],l=!0)},p(e,o){512&o[0]&&!a(t.src,n=e[128].bannerImageUrl||e[128].trailerThumbnailUrl)&&U(t,"src",n),512&o[0]&&i!==(i=(Mi(e[128]?.title)||"")+(e[128].bannerImageUrl?" Banner":" Thumbnail"))&&U(t,"alt",i)},d(e){e&&N(t),l=!1,o(r)}}}function si(e){let t,n,i,l,r;function s(){return e[47](e[128])}function a(...t){return e[48](e[128],...t)}return{c(){t=L("div"),t.innerHTML='<i class="youtube-direct-icon fa-brands fa-youtube svelte-800fvw"></i> \n                                    <h3 class="youtube-direct-label svelte-800fvw">YouTube</h3>',U(t,"class","youtube-direct-container svelte-800fvw"),U(t,"tabindex","0")},m(e,n){A(e,t,n),i=!0,l||(r=[M(t,"click",s),M(t,"keydown",a)],l=!0)},p(t,n){e=t},i(e){i||(ie((()=>{i&&(n||(n=ve(t,Yt,{x:50,duration:300},!0)),n.run(1))})),i=!0)},o(e){n||(n=ve(t,Yt,{x:50,duration:300},!1)),n.run(0),i=!1},d(e){e&&N(t),e&&n&&n.end(),l=!1,o(r)}}}function ai(e){let t,n,i,l,r,s,a,c,u,d=e[5]>=230?"List Update":e[5]>=205?"Update":e[5]>=180?"List":"";return{c(){t=L("div"),n=L("i"),i=C(),l=L("h3"),r=I(d),U(n,"class","list-update-icon fa-solid fa-arrows-rotate svelte-800fvw"),U(l,"class","list-update-label svelte-800fvw"),U(t,"class","list-update-container svelte-800fvw"),U(t,"tabindex","0")},m(o,s){A(o,t,s),x(t,n),x(t,i),x(t,l),x(l,r),a=!0,c||(u=[M(t,"click",e[19]),M(t,"keydown",e[46])],c=!0)},p(e,t){(!a||32&t[0])&&d!==(d=e[5]>=230?"List Update":e[5]>=205?"Update":e[5]>=180?"List":"")&&D(r,d)},i(e){a||(ie((()=>{a&&(s||(s=ve(t,Yt,{x:50,duration:300},!0)),s.run(1))})),a=!0)},o(e){s||(s=ve(t,Yt,{x:50,duration:300},!1)),s.run(0),a=!1},d(e){e&&N(t),e&&s&&s.end(),c=!1,o(u)}}}function ci(e){let t,n,i=(e[24](e[128])||"NA")+"";return{c(){t=L("h4"),U(t,"class","copy svelte-800fvw"),U(t,"copy-value",n=Ci(e[24](e[128]))||"")},m(e,n){A(e,t,n),t.innerHTML=i},p(e,o){512&o[0]&&i!==(i=(e[24](e[128])||"NA")+"")&&(t.innerHTML=i),512&o[0]&&n!==(n=Ci(e[24](e[128]))||"")&&U(t,"copy-value",n)},d(e){e&&N(t)}}}function ui(e){let t,n=e[2]?.getSeconds?.()||1,i=di(e);return{c(){i.c(),t=P()},m(e,n){i.m(e,n),A(e,t,n)},p(e,o){4&o[0]&&r(n,n=e[2]?.getSeconds?.()||1)?(i.d(1),i=di(e),i.c(),i.m(t.parentNode,t)):i.p(e,o)},d(e){e&&N(t),i.d(e)}}}function di(e){let t,n,i=(e[24](e[128])||"NA")+"";return{c(){t=L("h4"),U(t,"class","copy svelte-800fvw"),U(t,"copy-value",n=Ci(e[24](e[128]))||"")},m(e,n){A(e,t,n),t.innerHTML=i},p(e,o){512&o[0]&&i!==(i=(e[24](e[128])||"NA")+"")&&(t.innerHTML=i),512&o[0]&&n!==(n=Ci(e[24](e[128]))||"")&&U(t,"copy-value",n)},d(e){e&&N(t)}}}function fi(t){let n;return{c(){n=L("h4"),n.textContent="NA",U(n,"class","svelte-800fvw")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function pi(e){let t,n,i,o=(`${e[128]?.season||""}${e[128]?.year?" "+e[128].year:""}`||"NA")+"";return{c(){t=L("span"),n=I(o),_(t,"text-align","right"),U(t,"class","copy svelte-800fvw"),U(t,"copy-value",i=`${e[128]?.season||""}${e[128]?.year?" "+e[128].year:""}`||"NA")},m(e,i){A(e,t,i),x(t,n)},p(e,l){512&l[0]&&o!==(o=(`${e[128]?.season||""}${e[128]?.year?" "+e[128].year:""}`||"NA")+"")&&D(n,o),512&l[0]&&i!==(i=`${e[128]?.season||""}${e[128]?.year?" "+e[128].year:""}`||"NA")&&U(t,"copy-value",i)},d(e){e&&N(t)}}}function mi(e){let t,n,i,o,l,r=e[128].userScore+"";return{c(){t=I(" · "),n=C(),i=L("i"),o=C(),l=I(r),U(i,"class","fa-regular fa-star svelte-800fvw")},m(e,r){A(e,t,r),A(e,n,r),A(e,i,r),A(e,o,r),A(e,l,r)},p(e,t){512&t[0]&&r!==(r=e[128].userScore+"")&&D(l,r)},d(e){e&&N(t),e&&N(n),e&&N(i),e&&N(o),e&&N(l)}}}function hi(e){let t,n,i,l,r,s,a=[],c=new Map,u=e[22](Object.entries(e[128].studios||{}),e[128]?.favoriteContents?.studios);const d=e=>e[139];for(let t=0;t<u.length;t+=1){let n=ii(e,u,t),i=d(n);c.set(i,a[t]=yi(i,n))}function f(...t){return e[49](e[128],e[129],e[130],...t)}return{c(){t=L("div"),n=L("div"),n.textContent="Studios",i=C(),l=L("div");for(let e=0;e<a.length;e+=1)a[e].c();U(n,"class","info-categ svelte-800fvw"),U(l,"class",p("studio-popup info")+" svelte-800fvw"),_(l,"overflow",e[8]?"hidden":""),U(t,"class","svelte-800fvw")},m(o,c){A(o,t,c),x(t,n),x(t,i),x(t,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(l,null);r||(s=[M(l,"scroll",e[26]),M(l,"mouseenter",f)],r=!0)},p(t,n){e=t,4194816&n[0]&&(u=e[22](Object.entries(e[128].studios||{}),e[128]?.favoriteContents?.studios),a=Se(a,n,d,1,e,u,c,l,be,yi,null,ii)),256&n[0]&&_(l,"overflow",e[8]?"hidden":"")},d(e){e&&N(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,o(s)}}}function yi(e,t){let n,i,o,l,r,s,a,c,u=(t[139].studioName||"N/A")+"";return{key:e,first:null,c(){n=L("a"),i=I(u),o=C(),U(n,"class",l=p("copy"+(t[140]?` ${t[140]}-color`:""))+" svelte-800fvw"),U(n,"rel",r=t[139].studioUrl?"noopener noreferrer":""),U(n,"target",s=t[139].studioUrl?"_blank":""),U(n,"href",a=t[139].studioUrl||"javascript:void(0)"),U(n,"copy-value",c=t[139].studioName||""),this.first=n},m(e,t){A(e,n,t),x(n,i),x(n,o)},p(e,o){t=e,512&o[0]&&u!==(u=(t[139].studioName||"N/A")+"")&&D(i,u),512&o[0]&&l!==(l=p("copy"+(t[140]?` ${t[140]}-color`:""))+" svelte-800fvw")&&U(n,"class",l),512&o[0]&&r!==(r=t[139].studioUrl?"noopener noreferrer":"")&&U(n,"rel",r),512&o[0]&&s!==(s=t[139].studioUrl?"_blank":"")&&U(n,"target",s),512&o[0]&&a!==(a=t[139].studioUrl||"javascript:void(0)")&&U(n,"href",a),512&o[0]&&c!==(c=t[139].studioName||"")&&U(n,"copy-value",c)},d(e){e&&N(n)}}}function gi(e){let t,n,i,l,r,s,a=[],c=new Map,u=e[23](e[128].genres,e[128]?.favoriteContents?.genres,e[128].contentCaution);const d=e=>e[135];for(let t=0;t<u.length;t+=1){let n=ni(e,u,t),i=d(n);c.set(i,a[t]=wi(i,n))}function f(...t){return e[50](e[128],e[129],e[130],...t)}return{c(){t=L("div"),n=L("div"),n.textContent="Genres",i=C(),l=L("div");for(let e=0;e<a.length;e+=1)a[e].c();U(n,"class","info-categ svelte-800fvw"),U(l,"class",p("genres-popup info")+" svelte-800fvw"),_(l,"overflow",e[8]?"hidden":""),U(t,"class","svelte-800fvw")},m(o,c){A(o,t,c),x(t,n),x(t,i),x(t,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(l,null);r||(s=[M(l,"scroll",e[26]),M(l,"mouseenter",f)],r=!0)},p(t,n){e=t,8389120&n[0]&&(u=e[23](e[128].genres,e[128]?.favoriteContents?.genres,e[128].contentCaution),a=Se(a,n,d,1,e,u,c,l,be,wi,null,ni)),256&n[0]&&_(l,"overflow",e[8]?"hidden":"")},d(e){e&&N(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,o(s)}}}function wi(e,t){let n,i,o,l,r,s=(t[135]||"N/A")+"";return{key:e,first:null,c(){n=L("span"),i=I(s),o=C(),U(n,"class",l=p("copy "+(t[136]?`${t[136]}-color`:""))+" svelte-800fvw"),U(n,"copy-value",r=t[135]||""),this.first=n},m(e,t){A(e,n,t),x(n,i),x(n,o)},p(e,o){t=e,512&o[0]&&s!==(s=(t[135]||"N/A")+"")&&D(i,s),512&o[0]&&l!==(l=p("copy "+(t[136]?`${t[136]}-color`:""))+" svelte-800fvw")&&U(n,"class",l),512&o[0]&&r!==(r=t[135]||"")&&U(n,"copy-value",r)},d(e){e&&N(n)}}}function vi(e){let t,n,i,l,r=[],s=new Map,a=e[21](e[128].tags,e[128]?.favoriteContents?.tags,e[128].contentCaution);const c=e=>e[131];for(let t=0;t<a.length;t+=1){let n=ti(e,a,t),i=c(n);s.set(i,r[t]=bi(i,n))}function u(...t){return e[51](e[128],e[129],e[130],...t)}return{c(){t=L("div"),n=L("div");for(let e=0;e<r.length;e+=1)r[e].c();U(n,"class",p("tags-info-content info")+" svelte-800fvw"),_(n,"overflow",e[8]?"hidden":""),U(t,"class","tag-info svelte-800fvw")},m(o,s){A(o,t,s),x(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null);i||(l=[M(n,"scroll",e[26]),M(n,"mouseenter",u)],i=!0)},p(t,i){e=t,2097664&i[0]&&(a=e[21](e[128].tags,e[128]?.favoriteContents?.tags,e[128].contentCaution),r=Se(r,i,c,1,e,a,s,n,be,bi,null,ti)),256&i[0]&&_(n,"overflow",e[8]?"hidden":"")},d(e){e&&N(t);for(let e=0;e<r.length;e+=1)r[e].d();i=!1,o(l)}}}function bi(e,t){let n,i,o,l,r,s=(t[131]||"N/A")+"";return{key:e,first:null,c(){n=L("span"),i=new j(!1),o=C(),i.a=o,U(n,"class",l=p("copy "+(t[132]?`${t[132]}-color`:""))+" svelte-800fvw"),U(n,"copy-value",r=Ci(t[131])||""),this.first=n},m(e,t){A(e,n,t),i.m(s,n),x(n,o)},p(e,o){t=e,512&o[0]&&s!==(s=(t[131]||"N/A")+"")&&i.p(s),512&o[0]&&l!==(l=p("copy "+(t[132]?`${t[132]}-color`:""))+" svelte-800fvw")&&U(n,"class",l),512&o[0]&&r!==(r=Ci(t[131])||"")&&U(n,"copy-value",r)},d(e){e&&N(n)}}}function ki(e){let t,n,i,l,r,s,a,c,u=Pi(e[128]?.description)+"";function d(){return e[55](e[128])}function f(...t){return e[56](e[128],...t)}return{c(){t=L("div"),n=L("h3"),n.textContent="Description",i=C(),l=L("div"),U(n,"class","svelte-800fvw"),U(l,"class","anime-description copy svelte-800fvw"),U(l,"copy-value",r=Ci(e[128]?.description)||""),U(t,"class","anime-description-wrapper svelte-800fvw"),U(t,"tabindex",s=e[128].isSeenMore?"0":"-1")},m(e,o){A(e,t,o),x(t,n),x(t,i),x(t,l),l.innerHTML=u,a||(c=[M(t,"click",d),M(t,"keydown",f)],a=!0)},p(n,i){e=n,512&i[0]&&u!==(u=Pi(e[128]?.description)+"")&&(l.innerHTML=u),512&i[0]&&r!==(r=Ci(e[128]?.description)||"")&&U(l,"copy-value",r),512&i[0]&&s!==(s=e[128].isSeenMore?"0":"-1")&&U(t,"tabindex",s)},d(e){e&&N(t),a=!1,o(c)}}}function Si(e,t){let n,i,r,s,c,u,d,f,m,y,g,w,v,b,k,S,E,T,$,P,F,O,V,B,R,H,q,W,G,Y,K,J,z,X,Q,Z,ee,te,ne,ie,oe,le,re,se,ae,ce,ue,de,fe,ge,we,ve,be,ke,Se,xe,Ee,Te,Ae,Ne,$e,Le,Ie,Ce,Pe,Me,Fe,Ue,De,Oe,Ve,je,Be,Re,He,qe,We,Ge,Ye,Ke,Je,ze,Xe,Qe,Ze,et,tt,nt,it,ot,lt,rt,st,at,ct,ut,dt,ft,pt,mt,ht,yt,gt,wt,vt,bt,kt,St,xt,Et,Tt,At=t[129],Nt=t[130],$t=(Mi(t[128]?.title)||"NA")+"",Lt=(null!=t[128].averageScore?_e(.1*t[128].averageScore,1):"NA")+"",It="/10 · "+(null!=t[128].popularity?_e(t[128].popularity,1):"NA"),Ct=Ii(t[128])+"",Pt=(t[128].userStatus||"NA")+"",Mt=(t[128].status||"NA")+"",Ft=Object.entries(t[128]?.studios||{}).length,Ut=" "+(t[15](t[128].id)||""),Dt=t[128].isSeenMore?" Anilist":" See More",Ot=t[128].trailerID&&li(),_t=(t[128].bannerImageUrl||t[128].trailerThumbnailUrl)&&ri(t);const Vt=()=>t[39](r,At,Nt),jt=()=>t[39](null,At,Nt);function Bt(){return t[40](t[128])}function Rt(...e){return t[41](t[128],...e)}const Ht=[ai,si],qt=[];function Wt(e,t){return e[12]?0:e[128].isSeenMore?1:-1}function Gt(e,t){return e[128]?.nextAiringEpisode?.airingAt?ui:ci}~($=Wt(t))&&(P=qt[$]=Ht[$](t));let Yt=Gt(t),Kt=Yt(t);function Jt(e,t){return e[128]?.season||e[128]?.year?pi:fi}let zt=Jt(t),Xt=zt(t),Qt=null!=t[128].userScore&&mi(t),Zt=Ft&&hi(t),en=t[128].genres.length&&gi(t),tn=t[128]?.tags?.length&&vi(t);function nn(){return t[53](t[128])}function on(...e){return t[54](t[128],...e)}let ln=t[128]?.description&&ki(t);function rn(){return t[58](t[128])}function sn(...e){return t[59](t[128],...e)}function an(){return t[61](t[128])}function cn(...e){return t[62](t[128],...e)}function un(...e){return t[63](t[128],...e)}function dn(...e){return t[64](t[128],...e)}function fn(){return t[65](t[128],t[129],t[130])}function pn(...e){return t[66](t[128],t[129],t[130],...e)}const mn=()=>t[67](n,At,Nt),hn=()=>t[67](null,At,Nt);return{key:e,first:null,c(){n=L("div"),i=L("div"),r=L("div"),s=L("div"),s.innerHTML='<i class="fa-solid fa-k fa-fade svelte-800fvw"></i>',c=C(),Ot&&Ot.c(),u=C(),d=L("div"),_t&&_t.c(),m=C(),y=L("div"),g=L("div"),w=L("label"),v=L("input"),b=C(),k=L("span"),S=C(),E=L("h3"),E.textContent="Auto Play",T=C(),P&&P.c(),F=C(),O=L("div"),V=L("div"),B=L("div"),R=L("a"),H=I($t),J=C(),z=L("div"),X=L("i"),Q=C(),Z=L("h3"),ee=L("b"),te=I(Lt),ne=C(),ie=I(It),oe=C(),le=I(" · "),re=new j(!1),ae=C(),ce=L("div"),Kt.c(),ue=C(),Xt.c(),de=C(),fe=L("div"),ge=L("h4"),we=L("a"),ve=L("span"),be=I(Pt),Se=C(),Qt&&Qt.c(),Ne=C(),$e=L("h4"),Le=I(Mt),Ce=C(),Pe=L("div"),Zt&&Zt.c(),Me=C(),en&&en.c(),Fe=C(),tn&&tn.c(),Ue=C(),De=L("div"),Oe=L("img"),He=C(),ln&&ln.c(),qe=C(),We=L("img"),ze=C(),Xe=L("img"),ot=C(),lt=L("div"),rt=L("button"),st=L("i"),at=C(),ct=I(Ut),ut=C(),dt=L("button"),dt.innerHTML='<i class="fa-brands fa-youtube svelte-800fvw"></i> YouTube',ft=C(),pt=L("button"),mt=L("i"),yt=C(),gt=L("img"),bt=C(),kt=I(Dt),U(s,"class","popup-header-loading svelte-800fvw"),U(d,"class","popup-img svelte-800fvw"),U(r,"class",f=p("popup-header "+(t[128].trailerID?"loader":""))+" svelte-800fvw"),U(v,"type","checkbox"),U(v,"class","autoplayToggle svelte-800fvw"),U(k,"class","slider round svelte-800fvw"),U(k,"tabindex","0"),U(w,"class","switch svelte-800fvw"),U(E,"class","autoplay-label svelte-800fvw"),U(g,"class","autoPlay-container svelte-800fvw"),U(y,"class","popup-controls svelte-800fvw"),U(R,"rel",q=t[128].animeUrl?"noopener noreferrer":""),U(R,"target",W=t[128].animeUrl?"_blank":""),U(R,"href",G=t[128].animeUrl||"javascript:void(0)"),U(R,"class",Y=p(Li(t[128])+"-color anime-title copy")+" svelte-800fvw"),U(R,"copy-value",K=Mi(t[128]?.title)||""),_(R,"overflow",t[8]?"hidden":""),U(X,"class","fa-regular fa-star svelte-800fvw"),U(ee,"class","svelte-800fvw"),re.a=null,U(Z,"class","copy svelte-800fvw"),U(Z,"copy-value",se=(null!=t[128].averageScore?_e(.1*t[128].averageScore,1):"NA")+"/10 · "+(null!=t[128].popularity?_e(t[128].popularity,1):"NA")),U(z,"class","info-rating-wrapper svelte-800fvw"),U(B,"class","anime-title-container svelte-800fvw"),_(B,"overflow",t[8]?"hidden":""),U(ce,"class","info-format svelte-800fvw"),_(ce,"overflow",t[8]?"hidden":""),U(ve,"class",ke=p(t[20](t[128].userStatus)+"-color")+" svelte-800fvw"),U(we,"rel",xe=t[128].animeUrl?"noopener noreferrer":""),U(we,"target",Ee=t[128].animeUrl?"_blank":""),U(we,"href",Te=t[128].animeUrl||"javascript:void(0)"),U(we,"class","svelte-800fvw"),U(ge,"class","copy svelte-800fvw"),U(ge,"copy-value",Ae=(t[128].userStatus||"NA")+(null!=t[128].userScore?" · "+t[128].userScore:"")),_($e,"text-align","right"),U($e,"class","copy year-season svelte-800fvw"),U($e,"copy-value",Ie=t[128].status||""),U(fe,"class","info-status svelte-800fvw"),_(fe,"overflow",t[8]?"hidden":""),U(Pe,"class","info-contents svelte-800fvw"),U(Oe,"loading","lazy"),U(Oe,"width","150px"),U(Oe,"height","210px"),a(Oe.src,Ve=t[128].coverImageUrl||t[128].bannerImageUrl||t[128].trailerThumbnailUrl||"")||U(Oe,"src",Ve),U(Oe,"alt",je=(Mi(t[128]?.title)||"")+(t[128].coverImageUrl?" Cover":t[128].bannerImageUrl?" Banner":" Thumbnail")),U(Oe,"tabindex",Be=t[128].isSeenMore?"0":"-1"),U(Oe,"class",Re=p("coverImg"+(t[128].coverImageUrl||t[128].bannerImageUrl||t[128].trailerThumbnailUrl?"":" display-none"))+" svelte-800fvw"),U(We,"loading","lazy"),U(We,"width","440px"),U(We,"height","210px"),a(We.src,Ge=t[128].bannerImageUrl||"")||U(We,"src",Ge),U(We,"alt",Ye=(Mi(t[128]?.title)||"")+" Banner"),U(We,"tabindex",Ke=t[128].isSeenMore?"0":"-1"),U(We,"class",Je=p("extra-bannerImg"+(t[128].bannerImageUrl&&t[128].coverImageUrl?"":" display-none"))+" svelte-800fvw"),U(Xe,"loading","lazy"),U(Xe,"width","440px"),U(Xe,"height","210px"),a(Xe.src,Qe=t[128].trailerThumbnailUrl||"")||U(Xe,"src",Qe),U(Xe,"alt",Ze=(Mi(t[128]?.title)||"")+" Thumbnail"),U(Xe,"tabindex",et=t[128].isSeenMore?"0":"-1"),U(Xe,"class",tt=p("extra-bannerImg"+(t[128].trailerThumbnailUrl&&(t[128].coverImageUrl||t[128].bannerImageUrl)?"":" display-none"))+" svelte-800fvw"),U(De,"class","info-profile svelte-800fvw"),U(V,"class",nt=p("popup-info"+(t[128].isSeenMore?" seenmore":""))+" svelte-800fvw"),_(V,"--windowWidth",t[5]+"px"),_(V,"--windowHeight",t[6]+"px"),U(st,"class","fa-solid fa-circle-minus hideshow svelte-800fvw"),U(rt,"class","hideshowbtn svelte-800fvw"),_(rt,"overflow",t[8]?"hidden":""),U(dt,"class","morevideos svelte-800fvw"),_(dt,"overflow",t[8]?"hidden":""),U(mt,"class",ht=p("fa-solid fa-chevron-down"+(t[128].isSeenMore?" display-none":""))+" svelte-800fvw"),U(gt,"loading","lazy"),U(gt,"class",wt=p("anilist-icon"+(t[128].isSeenMore?"":" display-none"))+" svelte-800fvw"),a(gt.src,vt="./images/Anilist-Logo.svg")||U(gt,"src","./images/Anilist-Logo.svg"),U(gt,"alt","Anilist Logo"),U(gt,"width","23px"),U(gt,"height","23px"),U(pt,"class",St=p(t[128].isSeenMore?"openanilist":"expand")+" svelte-800fvw"),_(pt,"overflow",t[8]?"hidden":""),U(lt,"class","footer svelte-800fvw"),U(O,"class","popup-body svelte-800fvw"),U(i,"class","popup-main svelte-800fvw"),U(n,"class","popup-content svelte-800fvw"),this.first=n},m(e,o){A(e,n,o),x(n,i),x(i,r),x(r,s),x(r,c),Ot&&Ot.m(r,null),x(r,u),x(r,d),_t&&_t.m(d,null),Vt(),x(i,m),x(i,y),x(y,g),x(g,w),x(w,v),v.checked=t[11],x(w,b),x(w,k),x(g,S),x(g,E),x(y,T),~$&&qt[$].m(y,null),x(i,F),x(i,O),x(O,V),x(V,B),x(B,R),x(R,H),x(B,J),x(B,z),x(z,X),x(z,Q),x(z,Z),x(Z,ee),x(ee,te),x(Z,ne),x(Z,ie),x(Z,oe),x(Z,le),re.m(Ct,Z),x(V,ae),x(V,ce),Kt.m(ce,null),x(ce,ue),Xt.m(ce,null),x(V,de),x(V,fe),x(fe,ge),x(ge,we),x(we,ve),x(ve,be),x(we,Se),Qt&&Qt.m(we,null),x(fe,Ne),x(fe,$e),x($e,Le),x(V,Ce),x(V,Pe),Zt&&Zt.m(Pe,null),x(Pe,Me),en&&en.m(Pe,null),x(Pe,Fe),tn&&tn.m(Pe,null),x(V,Ue),x(V,De),x(De,Oe),x(De,He),ln&&ln.m(De,null),x(De,qe),x(De,We),x(De,ze),x(De,Xe),x(O,ot),x(O,lt),x(lt,rt),x(rt,st),x(rt,at),x(rt,ct),x(lt,ut),x(lt,dt),x(lt,ft),x(lt,pt),x(pt,mt),x(pt,yt),x(pt,gt),x(pt,bt),x(pt,kt),mn(),xt=!0,Et||(Tt=[M(r,"click",Bt),M(r,"keydown",Rt),M(v,"change",t[42]),M(k,"keydown",t[43]),M(E,"click",t[44]),M(E,"keydown",t[45]),M(R,"scroll",t[26]),M(B,"scroll",t[26]),M(ce,"scroll",t[26]),M(fe,"scroll",t[26]),M(Oe,"error",t[52]),M(Oe,"click",nn),M(Oe,"keydown",on),M(We,"error",t[57]),M(We,"click",rn),M(We,"keydown",sn),M(Xe,"error",t[60]),M(Xe,"click",an),M(Xe,"keydown",cn),h(it=t[30].call(null,V,t[130])),M(rt,"click",(function(){l(t[16](t[128].id,t[128]?.title?.english))&&t[16](t[128].id,t[128]?.title?.english).apply(this,arguments)})),M(rt,"keydown",un),M(dt,"click",(function(){l(t[18](t[128].title))&&t[18](t[128].title).apply(this,arguments)})),M(dt,"keydown",dn),M(pt,"click",fn),M(pt,"keydown",pn)],Et=!0)},p(e,n){(t=e)[128].trailerID?Ot||(Ot=li(),Ot.c(),Ot.m(r,u)):Ot&&(Ot.d(1),Ot=null),t[128].bannerImageUrl||t[128].trailerThumbnailUrl?_t?_t.p(t,n):(_t=ri(t),_t.c(),_t.m(d,null)):_t&&(_t.d(1),_t=null),(!xt||512&n[0]&&f!==(f=p("popup-header "+(t[128].trailerID?"loader":""))+" svelte-800fvw"))&&U(r,"class",f),At===t[129]&&Nt===t[130]||(jt(),At=t[129],Nt=t[130],Vt()),2048&n[0]&&(v.checked=t[11]);let i=$;$=Wt(t),$===i?~$&&qt[$].p(t,n):(P&&(pe(),ye(qt[i],1,1,(()=>{qt[i]=null})),me()),~$?(P=qt[$],P?P.p(t,n):(P=qt[$]=Ht[$](t),P.c()),he(P,1),P.m(y,null)):P=null),(!xt||512&n[0])&&$t!==($t=(Mi(t[128]?.title)||"NA")+"")&&D(H,$t),(!xt||512&n[0]&&q!==(q=t[128].animeUrl?"noopener noreferrer":""))&&U(R,"rel",q),(!xt||512&n[0]&&W!==(W=t[128].animeUrl?"_blank":""))&&U(R,"target",W),(!xt||512&n[0]&&G!==(G=t[128].animeUrl||"javascript:void(0)"))&&U(R,"href",G),(!xt||512&n[0]&&Y!==(Y=p(Li(t[128])+"-color anime-title copy")+" svelte-800fvw"))&&U(R,"class",Y),(!xt||512&n[0]&&K!==(K=Mi(t[128]?.title)||""))&&U(R,"copy-value",K),256&n[0]&&_(R,"overflow",t[8]?"hidden":""),(!xt||512&n[0])&&Lt!==(Lt=(null!=t[128].averageScore?_e(.1*t[128].averageScore,1):"NA")+"")&&D(te,Lt),(!xt||512&n[0])&&It!==(It="/10 · "+(null!=t[128].popularity?_e(t[128].popularity,1):"NA"))&&D(ie,It),(!xt||512&n[0])&&Ct!==(Ct=Ii(t[128])+"")&&re.p(Ct),(!xt||512&n[0]&&se!==(se=(null!=t[128].averageScore?_e(.1*t[128].averageScore,1):"NA")+"/10 · "+(null!=t[128].popularity?_e(t[128].popularity,1):"NA")))&&U(Z,"copy-value",se),256&n[0]&&_(B,"overflow",t[8]?"hidden":""),Yt===(Yt=Gt(t))&&Kt?Kt.p(t,n):(Kt.d(1),Kt=Yt(t),Kt&&(Kt.c(),Kt.m(ce,ue))),zt===(zt=Jt(t))&&Xt?Xt.p(t,n):(Xt.d(1),Xt=zt(t),Xt&&(Xt.c(),Xt.m(ce,null))),256&n[0]&&_(ce,"overflow",t[8]?"hidden":""),(!xt||512&n[0])&&Pt!==(Pt=(t[128].userStatus||"NA")+"")&&D(be,Pt),(!xt||512&n[0]&&ke!==(ke=p(t[20](t[128].userStatus)+"-color")+" svelte-800fvw"))&&U(ve,"class",ke),null!=t[128].userScore?Qt?Qt.p(t,n):(Qt=mi(t),Qt.c(),Qt.m(we,null)):Qt&&(Qt.d(1),Qt=null),(!xt||512&n[0]&&xe!==(xe=t[128].animeUrl?"noopener noreferrer":""))&&U(we,"rel",xe),(!xt||512&n[0]&&Ee!==(Ee=t[128].animeUrl?"_blank":""))&&U(we,"target",Ee),(!xt||512&n[0]&&Te!==(Te=t[128].animeUrl||"javascript:void(0)"))&&U(we,"href",Te),(!xt||512&n[0]&&Ae!==(Ae=(t[128].userStatus||"NA")+(null!=t[128].userScore?" · "+t[128].userScore:"")))&&U(ge,"copy-value",Ae),(!xt||512&n[0])&&Mt!==(Mt=(t[128].status||"NA")+"")&&D(Le,Mt),(!xt||512&n[0]&&Ie!==(Ie=t[128].status||""))&&U($e,"copy-value",Ie),256&n[0]&&_(fe,"overflow",t[8]?"hidden":""),512&n[0]&&(Ft=Object.entries(t[128]?.studios||{}).length),Ft?Zt?Zt.p(t,n):(Zt=hi(t),Zt.c(),Zt.m(Pe,Me)):Zt&&(Zt.d(1),Zt=null),t[128].genres.length?en?en.p(t,n):(en=gi(t),en.c(),en.m(Pe,Fe)):en&&(en.d(1),en=null),t[128]?.tags?.length?tn?tn.p(t,n):(tn=vi(t),tn.c(),tn.m(Pe,null)):tn&&(tn.d(1),tn=null),(!xt||512&n[0]&&!a(Oe.src,Ve=t[128].coverImageUrl||t[128].bannerImageUrl||t[128].trailerThumbnailUrl||""))&&U(Oe,"src",Ve),(!xt||512&n[0]&&je!==(je=(Mi(t[128]?.title)||"")+(t[128].coverImageUrl?" Cover":t[128].bannerImageUrl?" Banner":" Thumbnail")))&&U(Oe,"alt",je),(!xt||512&n[0]&&Be!==(Be=t[128].isSeenMore?"0":"-1"))&&U(Oe,"tabindex",Be),(!xt||512&n[0]&&Re!==(Re=p("coverImg"+(t[128].coverImageUrl||t[128].bannerImageUrl||t[128].trailerThumbnailUrl?"":" display-none"))+" svelte-800fvw"))&&U(Oe,"class",Re),t[128]?.description?ln?ln.p(t,n):(ln=ki(t),ln.c(),ln.m(De,qe)):ln&&(ln.d(1),ln=null),(!xt||512&n[0]&&!a(We.src,Ge=t[128].bannerImageUrl||""))&&U(We,"src",Ge),(!xt||512&n[0]&&Ye!==(Ye=(Mi(t[128]?.title)||"")+" Banner"))&&U(We,"alt",Ye),(!xt||512&n[0]&&Ke!==(Ke=t[128].isSeenMore?"0":"-1"))&&U(We,"tabindex",Ke),(!xt||512&n[0]&&Je!==(Je=p("extra-bannerImg"+(t[128].bannerImageUrl&&t[128].coverImageUrl?"":" display-none"))+" svelte-800fvw"))&&U(We,"class",Je),(!xt||512&n[0]&&!a(Xe.src,Qe=t[128].trailerThumbnailUrl||""))&&U(Xe,"src",Qe),(!xt||512&n[0]&&Ze!==(Ze=(Mi(t[128]?.title)||"")+" Thumbnail"))&&U(Xe,"alt",Ze),(!xt||512&n[0]&&et!==(et=t[128].isSeenMore?"0":"-1"))&&U(Xe,"tabindex",et),(!xt||512&n[0]&&tt!==(tt=p("extra-bannerImg"+(t[128].trailerThumbnailUrl&&(t[128].coverImageUrl||t[128].bannerImageUrl)?"":" display-none"))+" svelte-800fvw"))&&U(Xe,"class",tt),(!xt||512&n[0]&&nt!==(nt=p("popup-info"+(t[128].isSeenMore?" seenmore":""))+" svelte-800fvw"))&&U(V,"class",nt),it&&l(it.update)&&512&n[0]&&it.update.call(null,t[130]),32&n[0]&&_(V,"--windowWidth",t[5]+"px"),64&n[0]&&_(V,"--windowHeight",t[6]+"px"),(!xt||512&n[0])&&Ut!==(Ut=" "+(t[15](t[128].id)||""))&&D(ct,Ut),256&n[0]&&_(rt,"overflow",t[8]?"hidden":""),256&n[0]&&_(dt,"overflow",t[8]?"hidden":""),(!xt||512&n[0]&&ht!==(ht=p("fa-solid fa-chevron-down"+(t[128].isSeenMore?" display-none":""))+" svelte-800fvw"))&&U(mt,"class",ht),(!xt||512&n[0]&&wt!==(wt=p("anilist-icon"+(t[128].isSeenMore?"":" display-none"))+" svelte-800fvw"))&&U(gt,"class",wt),(!xt||512&n[0])&&Dt!==(Dt=t[128].isSeenMore?" Anilist":" See More")&&D(kt,Dt),(!xt||512&n[0]&&St!==(St=p(t[128].isSeenMore?"openanilist":"expand")+" svelte-800fvw"))&&U(pt,"class",St),256&n[0]&&_(pt,"overflow",t[8]?"hidden":""),At===t[129]&&Nt===t[130]||(hn(),At=t[129],Nt=t[130],mn())},i(e){xt||(he(P),xt=!0)},o(e){ye(P),xt=!1},d(e){e&&N(n),Ot&&Ot.d(),_t&&_t.d(),jt(),~$&&qt[$].d(),Kt.d(),Xt.d(),Qt&&Qt.d(),Zt&&Zt.d(),en&&en.d(),tn&&tn.d(),ln&&ln.d(),hn(),Et=!1,o(Tt)}}}function xi(e){let t;return{c(){t=L("div"),t.innerHTML='<i class="popup-content-loading-icon fa-solid fa-k fa-fade svelte-800fvw"></i>',U(t,"class","popup-content-loading svelte-800fvw")},m(e,n){A(e,t,n)},d(e){e&&N(t)}}}function Ei(e){let t,n,i,o,l,r;return{c(){t=L("div"),n=L("div"),i=L("i"),U(i,"class","fa-solid fa-arrow-left svelte-800fvw"),U(n,"class",o=p("go-back-grid"+(e[7]>=100?" willGoBack":""))+" svelte-800fvw"),U(t,"class","go-back-grid-highlight svelte-800fvw"),_(t,"--scale",Math.max(1,.01*(e[7]??1)*2)),_(t,"--position","-"+(100-(e[7]??0))+"%")},m(e,o){A(e,t,o),x(t,n),x(n,i),r=!0},p(e,i){(!r||128&i[0]&&o!==(o=p("go-back-grid"+(e[7]>=100?" willGoBack":""))+" svelte-800fvw"))&&U(n,"class",o),128&i[0]&&_(t,"--scale",Math.max(1,.01*(e[7]??1)*2)),128&i[0]&&_(t,"--position","-"+(100-(e[7]??0))+"%")},i(e){r||(l&&l.end(1),r=!0)},o(e){l=we(t,Yt,{x:-176,duration:1e3}),r=!1},d(e){e&&N(t),e&&l&&l.end()}}}function Ti(e){let t,n,i,l,r,s,a,c;return{c(){t=L("div"),n=L("div"),i=L("div"),l=L("div"),U(l,"tabindex","0"),U(l,"class","fullPopupDescription svelte-800fvw"),U(i,"class","fullPopupDescriptionWrapper svelte-800fvw"),U(n,"class","fullPopup svelte-800fvw"),U(n,"id","fullPopup"),U(t,"class","fullPopupWrapper svelte-800fvw")},m(o,r){A(o,t,r),x(t,n),x(n,i),x(i,l),l.innerHTML=e[1],s=!0,a||(c=[M(l,"keydown",e[71]),M(l,"scroll",e[32]),M(t,"click",e[72]),M(t,"keydown",e[73]),M(t,"touchstart",e[33],{passive:!0}),M(t,"touchend",e[34],{passive:!0}),M(t,"touchcancel",e[35],{passive:!0})],a=!0)},p(e,t){(!s||2&t[0])&&(l.innerHTML=e[1])},i(e){s||(ie((()=>{s&&(r||(r=ve(l,Yt,{y:20,duration:300},!0)),r.run(1))})),s=!0)},o(e){r||(r=ve(l,Yt,{y:20,duration:300},!1)),r.run(0),s=!1},d(e){e&&N(t),e&&r&&r.end(),a=!1,o(c)}}}function Ai(e){let t,n,i,l,r,s,c,u;return{c(){t=L("div"),n=L("div"),i=L("img"),U(i,"tabindex","0"),U(i,"class","fullPopupImage svelte-800fvw"),U(i,"loading","lazy"),a(i.src,l=e[0])||U(i,"src",l),U(i,"alt","Full View"),U(n,"class","fullPopup svelte-800fvw"),U(n,"id","fullPopup"),U(t,"class","fullPopupWrapper svelte-800fvw")},m(o,l){A(o,t,l),x(t,n),x(n,i),s=!0,c||(u=[M(i,"keydown",e[74]),M(i,"error",e[75]),M(t,"click",e[76]),M(t,"keydown",e[77]),M(t,"touchstart",e[33],{passive:!0}),M(t,"touchend",e[34],{passive:!0}),M(t,"touchcancel",e[35],{passive:!0})],c=!0)},p(e,t){(!s||1&t[0]&&!a(i.src,l=e[0]))&&U(i,"src",l)},i(e){s||(ie((()=>{s&&(r||(r=ve(i,Yt,{y:20,duration:300},!0)),r.run(1))})),s=!0)},o(e){r||(r=ve(i,Yt,{y:20,duration:300},!1)),r.run(0),s=!1},d(e){e&&N(t),e&&r&&r.end(),c=!1,o(u)}}}function Ni(e){let t,n,i,l,r,s,a,c,u,d=e[9]?.length&&oi(e),f=e[10]&&e[8]&&Ei(e),p=e[1]&&Ti(e),m=e[0]&&Ai(e);return{c(){t=L("div"),n=L("div"),d&&d.c(),i=C(),f&&f.c(),l=C(),p&&p.c(),r=C(),m&&m.c(),s=P(),U(n,"id","popup-container"),U(n,"class","popup-container hide svelte-800fvw"),_(n,"--translateX",e[5]+"px"),_(n,"--translateY",e[6]+"px"),U(t,"id","popup-wrapper"),U(t,"class","popup-wrapper svelte-800fvw")},m(o,h){A(o,t,h),x(t,n),d&&d.m(n,null),e[68](n),e[70](t),A(o,i,h),f&&f.m(o,h),A(o,l,h),p&&p.m(o,h),A(o,r,h),m&&m.m(o,h),A(o,s,h),a=!0,c||(u=[M(n,"touchstart",e[27],{passive:!0}),M(n,"touchmove",e[28],{passive:!0}),M(n,"touchend",e[29],{passive:!0}),M(n,"touchcancel",e[31],{passive:!0}),M(n,"scroll",e[25]),M(t,"click",e[14]),M(t,"keydown",e[69])],c=!0)},p(e,t){e[9]?.length?d?(d.p(e,t),512&t[0]&&he(d,1)):(d=oi(e),d.c(),he(d,1),d.m(n,null)):d&&(pe(),ye(d,1,1,(()=>{d=null})),me()),32&t[0]&&_(n,"--translateX",e[5]+"px"),64&t[0]&&_(n,"--translateY",e[6]+"px"),e[10]&&e[8]?f?(f.p(e,t),1280&t[0]&&he(f,1)):(f=Ei(e),f.c(),he(f,1),f.m(l.parentNode,l)):f&&(pe(),ye(f,1,1,(()=>{f=null})),me()),e[1]?p?(p.p(e,t),2&t[0]&&he(p,1)):(p=Ti(e),p.c(),he(p,1),p.m(r.parentNode,r)):p&&(pe(),ye(p,1,1,(()=>{p=null})),me()),e[0]?m?(m.p(e,t),1&t[0]&&he(m,1)):(m=Ai(e),m.c(),he(m,1),m.m(s.parentNode,s)):m&&(pe(),ye(m,1,1,(()=>{m=null})),me())},i(e){a||(he(d),he(f),he(p),he(m),a=!0)},o(e){ye(d),ye(f),ye(p),ye(m),a=!1},d(n){n&&N(t),d&&d.d(),e[68](null),e[70](null),n&&N(i),f&&f.d(n),n&&N(l),p&&p.d(n),n&&N(r),m&&m.d(n),n&&N(s),c=!1,o(u)}}}function $i(e){"string"==typeof e&&""!==e&&window.open(e,"_blank")}function Li({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:i}){return e?.caution?.length?"red":e?.semiCaution?.length?"teal":i<t?"purple":i<n?"orange":"green"}function Ii({score:e,meanScoreAll:t,meanScoreAbove:n}){return e<t||e<n?'<i class="purple-color fa-solid fa-k"/>':'<i class="green-color fa-solid fa-k"/>'}function Ci(e){let t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}function Pi(e){let t=document.createElement("span");t.innerHTML=e;let n=t.querySelectorAll("a");return Array.from(n).forEach((e=>{e?.setAttribute("rel","noopener noreferrer"),e?.setAttribute("target","_blank")})),t.innerHTML}function Mi(e){return e?.english||e?.userPreferred||e?.romaji||e?.native||""}function Fi(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w,v,b,k,S,x,E;d(e,Je,(e=>n(36,i=e))),d(e,Mt,(e=>n(8,o=e))),d(e,it,(e=>n(9,l=e))),d(e,Lt,(e=>n(10,r=e))),d(e,lt,(e=>n(106,s=e))),d(e,ht,(e=>n(107,a=e))),d(e,Bt,(e=>n(108,c=e))),d(e,gt,(e=>n(109,u=e))),d(e,yt,(e=>n(11,f=e))),d(e,ze,(e=>n(110,p=e))),d(e,Et,(e=>n(111,h=e))),d(e,et,(e=>n(112,y=e))),d(e,xt,(e=>n(113,g=e))),d(e,ot,(e=>n(114,w=e))),d(e,Pt,(e=>n(12,v=e))),d(e,Tt,(e=>n(115,b=e))),d(e,bt,(e=>n(116,k=e))),d(e,It,(e=>n(117,S=e))),d(e,vt,(e=>n(118,x=e))),d(e,St,(e=>n(13,E=e)));let T,A,N,$,L,I,C,P,M,F,U,D,O=window.navigator.onLine,_=new Date,V=Math.max(window.visualViewport.width,window.innerWidth),j=Math.max(window.visualViewport.height,window.innerHeight),B={},R=!i&&matchMedia("(hover:hover)").matches?50:100;function H(e){let t=e.target;t.classList.contains("popup-container")||t.closest(".popup-container")||m(Lt,r=!1,r)}async function q(e,t){t=t?`<b>${t}</b>`:"this anime",y[e]?await b(`Are you sure you want to show ${t} in your recommendation list?`)&&(delete y[e],et.set(y),l.length&&w instanceof Worker&&x().then((()=>{w.postMessage({removeID:e})}))):await b(`Are you sure you want to hide ${t} in your recommendation list?`)&&(m(et,y[e]=!0,y),l.length&&w instanceof Worker&&x().then((()=>{w.postMessage({removeID:e})})))}async function W(e){let t;Pe(e)?t=e?.romaji||e?.userPreferred||e?.english||e?.native:"string"==typeof e&&(t=e),"string"==typeof t&&""!==t&&await b({title:"See Related Videos",text:"Are you sure you want see more related videos in YouTube?"})&&G(t)}async function G(e){let t;Pe(e)?t=e?.romaji||e?.userPreferred||e?.english||e?.native:"string"==typeof e&&(t=e),"string"==typeof t&&""!==t&&window.open(`https://www.youtube.com/results?search_query=${t} Anime`,"_blank")}async function Y(){if(!r)return;await ne();let e,t=A?.querySelector?.(".trailer"),n=De(A?.closest?.(".popup-content"))??-1;if(U&&clearTimeout(U),U=setTimeout((()=>{if(!r)return;let e=l?.[n]?.gridElement||T.children?.[n];r&&e instanceof Element&&!function(e,t,n=0){try{var i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),l=getComputedStyle(e).overflowX,r=getComputedStyle(e).overflowY;if("auto"===l||"scroll"===l||"auto"===r||"scroll"===r){var s=e.scrollLeft,a=e.scrollTop,c=i.top>=o.top&&i.left>=o.left&&i.bottom<=o.bottom&&i.right<=o.right;if(c||(c=(Math.max(i.top,o.top)-Math.min(i.bottom,o.bottom))*(Math.max(i.left,o.left)-Math.min(i.right,o.right))/(Math.min(i.height,window.innerHeight)*Math.min(i.width,window.innerWidth))>=n),!c)return!1;i={top:i.top-o.top+a,left:i.left-o.left+s,bottom:i.bottom-o.top+a,right:i.right-o.left+s,height:i.height,width:i.width}}var u=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth;return i.top>=0&&i.left>=0&&i.bottom<=u&&i.right<=d}catch(e){return}}(T,e,.5)&&(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",T.style.overflow="hidden",T.style.overflow="",e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),300),t instanceof Element&&(e=a?.some((({ytPlayer:e})=>e.g===t))),e){if(n>=0){N=n;let e=[[l?.[n+1],n+1],[l?.[n-1],n-1]];D&&clearTimeout(D),D=setTimeout((async()=>{r&&e.forEach((([e,t])=>{e&&Q(e,t)}))}),300)}for(let e=0;e<a.length;e++)if(a[e].ytPlayer.g===t&&1!==a[e].ytPlayer?.getPlayerState?.())if(await ne(),r&&p&&(f||2===a[e].ytPlayer?.getPlayerState?.()))Z(a[e].ytPlayer),a[e].ytPlayer?.playVideo?.();else{if(!f){let t=a?.[e]?.ytPlayer,n=t?.g;if(n&&null!=t?.getPlayerState?.()&&-1!==t?.getPlayerState?.()){let e=n?.parentElement,t=e?.querySelector?.(".popup-img");He(t,"fade-out"),qe(e,"loader"),qe(n,"display-none"),setTimeout((()=>{He(t,"display-none"),qe(t,"fade-out")}),300)}}a[e].ytPlayer?.pauseVideo?.()}else if(a[e].ytPlayer.g!==t){if(!f){let t=a?.[e]?.ytPlayer,n=t?.g;if(n&&null!=t?.getPlayerState?.()&&-1!==t?.getPlayerState?.()){let e=n?.parentElement,t=e?.querySelector?.(".popup-img");He(t,"fade-out"),qe(e,"loader"),qe(n,"display-none"),setTimeout((()=>{He(t,"display-none"),qe(t,"fade-out")}),300)}}a[e].ytPlayer?.pauseVideo?.()}}else if(a?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),n>=0){N=n;let e=[[l?.[n],n],[l?.[n+1],n+1],[l?.[n-1],n-1]];D&&clearTimeout(D),D=setTimeout((async()=>{r&&e.forEach((([e,t])=>{e&&Q(e,t)}))}),300)}}(async()=>{R=await Zn("savedYtVolume")||R})(),kt.subscribe((async e=>{if(r&&null!=e&&e>=0){await ne();let t=C?.children?.[e];t instanceof Element&&C instanceof Element&&Oe(C,t,"top")}})),et.subscribe((async e=>{Pe(e)&&await Qn(e,"hiddenEntries")})),Lt.subscribe((async e=>{if(I instanceof Element&&C instanceof Element)if(!0===e){V>=641?C.style.setProperty("--translateY",j+"px"):(C.style.setProperty("--translateX",V+"px"),L.style.setProperty("--translateX","-"+V+"px"));let e=C?.children[S??N??0];if(e instanceof Element){He(C,"noSmoothScroll"),Oe(C,e,"top","instant"),qe(C,"noSmoothScroll"),requestAnimationFrame((()=>{He(L,"willChange"),He(I,"willChange"),He(C,"willChange"),He(I,"visible"),He(C,"show"),He(L,"hide"),setTimeout((()=>{qe(L,"willChange"),qe(I,"willChange"),qe(C,"willChange")}),300)})),N=S;let t,n=[[l[S],S],[l[S+1],S+1],[l[S-1],S-1]],i=n[0][0]?.popupHeader?.querySelector?.(".trailer")||C?.children?.[S]?.querySelector?.(".trailer");for(let e=0;e<a.length;e++)if(a[e].ytPlayer.g===i&&(t=!0,p&&f)){await ne(),Z(a[e].ytPlayer),a[e].ytPlayer?.playVideo?.();break}n.forEach((([e,n],i)=>{t&&e&&0===i||e&&Q(e,n)})),m(It,S=null,S)}else requestAnimationFrame((()=>{He(L,"willChange"),He(I,"willChange"),He(C,"willChange"),He(I,"visible"),He(C,"show"),He(L,"hide"),setTimeout((()=>{qe(L,"willChange"),qe(I,"willChange"),qe(C,"willChange")}),300)}))}else!1===e&&requestAnimationFrame((()=>{He(L,"willChange"),He(I,"willChange"),He(C,"willChange"),qe(C,"show"),qe(L,"hide"),setTimeout((()=>{a.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()})),qe(I,"visible"),qe(L,"willChange"),qe(C,"willChange"),setTimeout((()=>{qe(I,"willChange")}),300)}),300)}))})),it.subscribe((async e=>{if(e instanceof Array&&e.length){P&&(P?.disconnect?.(),P=null),await ne(),P=new IntersectionObserver((()=>{if(!r)return;let e=Ue(C,".popup-header",j>360?.5:0)||Ue(C,".popup-content",0)?.getElementsByClassName("popup-header")?.[0];A=e,Y()}),{root:null,rootMargin:"100%",threshold:[.5,0]}),e.forEach((async(e,t)=>{let n=e.popupHeader||C.children?.[t]?.querySelector?.(".popup-header");n instanceof Element&&P?.observe?.(n)}));let t=l[l.length-1].popupContent||C.children?.[l.length-1];k&&t instanceof Element&&k.observe(t),Y()}else e instanceof Array&&e.length<1&&m(Lt,r=!1,r)})),yt.subscribe((async e=>{if("boolean"==typeof e&&(await Qn(e,"autoPlay"),!0===e)){await ne();let e=A?.querySelector?.(".trailer");for(let t=0;t<a.length;t++)a[t].ytPlayer.g===e&&p?(Z(a[t].ytPlayer),a[t].ytPlayer?.playVideo?.()):a[t].ytPlayer?.pauseVideo?.()}})),K((()=>{setInterval((()=>{n(2,_=new Date)}),1e3),n(3,I=I||document.getElementById("popup-wrapper")),L=document.getElementById("main-home"),n(4,C=C||I.querySelector("#popup-container")),T=document.getElementById("anime-grid"),window.addEventListener("resize",(()=>{document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||(n(5,V=Math.max(window.visualViewport.width,window.innerWidth)),n(6,j=Math.max(window.visualViewport.height,window.innerHeight)))})),document.addEventListener("keydown",(async e=>{if("Escape"!==e.key||document.fullscreenElement||(e.preventDefault(),window.backPressed?.())," "===e.key&&r){e.preventDefault();let t=A?.querySelector?.(".trailer"),n=a?.some((({ytPlayer:e})=>t===e.g&&1===e?.getPlayerState?.()));if(a.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()})),!n){await ne();for(let e=0;e<a.length;e++)if(a[e].ytPlayer.g===t&&p){Z(a[e].ytPlayer),a[e].ytPlayer?.playVideo?.();break}}}else e.ctrlKey&&"x"===e.key?.toLowerCase?.()?(e.preventDefault(),m(Lt,r=!r,r)):e.ctrlKey&&"k"===e.key?.toLowerCase?.()&&(e.preventDefault(),m(yt,f=!f,f))}))}));let J,X={};function Q(e,t){let n=e?.popupHeader||C.children?.[t]?.querySelector(".popup-header"),i=n?.querySelector?.(".trailer")||n?.querySelector?.(".trailer"),o=e?.trailerID;if(i instanceof Element&&o&&"undefined"!=typeof YT){if(a.some((({ytPlayer:e})=>e.g===i)))return;He(n,"loader");let e=n?.querySelector?.(".popup-img");if(a.length>=3){let t=0,o=-1/0;a.forEach(((e,n)=>{if(-1===e.headerIdx)return;let i=Math.abs(e.headerIdx-N);i>o&&(o=i,t=n)}));let l=a?.splice?.(t,1)?.[0]?.ytPlayer,r=l?.g?.closest?.(".popup-header");l?.destroy?.();let s=r?.querySelector?.(".popup-img");s instanceof Element&&qe(s,"display-none");let c=document.createElement("div");c.className="trailer",He(i,"display-none"),qe(e,"display-none"),n.replaceChild(c,i),He(i,"display-none"),i=n.querySelector(".trailer")}else He(i,"display-none");qe(e,"display-none"),i.setAttribute("id","yt-player"+Date.now()+Math.random());let s=new YT.Player(i,{playerVars:{cc_lang_pref:"en",cc_load_policy:1,enablejsapi:1,modestbranding:1,playsinline:1,playlist:o,rel:0},events:{onReady:e=>{!async function(e){let t=e.target,n=t?.g,i=n?.parentElement,o=i?.closest?.(".popup-content"),r=l?.[De(o)??-1];if(-1!==t.getPlayerState()&&"IFRAME"===n.tagName&&O){if(n?.setAttribute?.("loading","lazy"),!f){let e=i?.querySelector?.(".popup-img");He(e,"fade-out"),qe(i,"loader"),qe(n,"display-none"),setTimeout((()=>{He(e,"display-none"),qe(e,"fade-out")}),300)}Y(),r?.id&&delete X[r.id]}else{r?.id&&(X[r.id]=!0),m(ht,a=a.filter((e=>e.ytPlayer!==t)),a),t.destroy(),He(n,"display-none"),qe(i,"loader");let e=i?.querySelector?.(".popup-img");qe(e,"display-none")}}(e)},onStateChange:e=>{!function(e){let t=e.target;if(!t||!t?.getPlayerState)return;let n=t?.g,i=n?.parentElement,o=i?.querySelector?.(".popup-img"),s=i?.closest?.(".popup-content"),c=l?.[De(s)??-1]?.id;0===t?.getPlayerState?.()?null!=c&&(B[c]&&(clearTimeout(B[c]),B[c]=null),B[c]=setTimeout((()=>{t?.stopVideo?.(),setTimeout((()=>{A===i&&5===t?.getPlayerState?.()&&t.g&&p&&r&&f&&t?.playVideo?.()}),5e3)}),7e3)):B[c]&&(clearTimeout(B[c]),B[c]=null);1!==t?.getPlayerState?.()||!n?.classList?.contains?.("display-none")&&o?.classList?.contains?.("display-none")||(a?.forEach((({ytPlayer:e})=>e?.g!==t?.g&&e?.pauseVideo?.())),$=t,He(o,"fade-out"),qe(i,"loader"),qe(n,"display-none"),setTimeout((()=>{He(o,"display-none"),qe(o,"fade-out")}),300))}(e)},onError:e=>{!function(e){let t=e.target,n=t?.g,i=n?.parentElement,o=i?.querySelector?.(".popup-img");m(ht,a=a.filter((e=>e.ytPlayer!==t)),a),t.destroy(),He(n,"display-none"),qe(i,"loader"),qe(o,"display-none")}(e)}}}),c=`https://www.youtube.com/embed/${o}`;i.setAttribute("src",c),a.push({ytPlayer:s,headerIdx:t})}else{let e=n?.querySelector?.(".popup-img");qe(n,"loader"),qe(e,"display-none")}}function Z(e){if($?.isMuted&&$?.getVolume){let t=$?.isMuted?.(),n=$?.getVolume?.();"boolean"==typeof t&&(t?e?.mute?.():e?.unMute?.()),"number"==typeof n&&(R!==n&&(R=n,Qn(R,"savedYtVolume")),e?.setVolume?.(R))}}async function ee(e){if(await b({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,i=n.classList;t=i.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),J&&clearTimeout(J),He(t,"fa-spin"),w&&(w.terminate(),m(ot,w=null,w)),$n().then((async e=>{m(Pt,v=!1,v),J=setTimeout((()=>{qe(t,"fa-spin")}),300),m(ot,w=e.animeLoaderWorker,w),m(xt,g="",g),e?.isNew&&(m(it,l=e.finalAnimeList,l),m(et,y=e.hiddenEntries,y),m(Et,h=e.numberOfNextLoadedGrid,h)),m(lt,s=null,s)})).catch((e=>{throw e}))}}function te(e,t){const n=864e5,i=7*n,o=e=>e.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit",hour12:!0});return t>i?`${Fe(t,1)}, ${(e=>e.toLocaleDateString(void 0,{month:"short"}))(e)} ${(e=>e.toLocaleDateString(void 0,{day:"numeric"}))(e)} ${(e=>e.toLocaleDateString(void 0,{year:"numeric"}))(e)}`:t<=i&&t>n?`${Fe(t,1)}, ${(e=>e.toLocaleDateString(void 0,{weekday:"short"}))(e)}, ${o(e).toLowerCase()}`:`${Fe(t,2)}, ${o(e).toLowerCase()}`}let ie,oe,le,re,se,ae,ce,ue,de,fe,pe,me,he,ye,ge,we=!1;function ve(){new Promise((e=>{let t=document.getElementById("www-widgetapi-script");t&&t.parentElement.removeChild(t);let n=document.createElement("script");n.src="https://www.youtube.com/iframe_api?v=16",n.onerror=()=>{e()},n.onload=()=>{window?.onYouTubeIframeAPIReady?.(),e()};let i=document.getElementsByTagName("script")[0];i.parentElement.insertBefore(n,i)})).then((()=>{m(ht,a=a.filter((({ytPlayer:e})=>{if("function"!=typeof e?.playVideo||-1===e.getPlayerState()||isNaN(e.getPlayerState())){e.destroy();let t=e?.g?.closest?.(".popup-header")?.querySelector?.(".popup-img");return t instanceof Element&&qe(t,"display-none"),!1}return!0})),a),Y()}))}function be(){fe=pe=me=he=ye=ge=!1}window.returnedAppIsVisible=e=>{if(!i)return;if(m(ze,p=e,p),!r||u)return;let t=A?.querySelector?.(".trailer");if(t)if(p)for(let e=0;e<a.length;e++)a[e]?.ytPlayer.g===t&&(f||2===a[e]?.ytPlayer?.getPlayerState?.()&&we)?(Z(a[e]?.ytPlayer),a[e]?.ytPlayer?.playVideo?.()):a[e]?.ytPlayer?.pauseVideo?.();else{we=!1;for(let e=0;e<a.length;e++)a[e]?.ytPlayer.g===t&&1===a[e]?.ytPlayer?.getPlayerState?.()&&(we=!0),a[e]?.ytPlayer?.pauseVideo?.()}},document.addEventListener("visibilitychange",(()=>{if(i)return;if(m(ze,p="visible"===document.visibilityState,p),!r||u)return;let e=A?.querySelector?.(".trailer");if(e)if(p)for(let t=0;t<a.length;t++)a[t]?.ytPlayer.g===e&&(f||2===a[t]?.ytPlayer?.getPlayerState?.()&&we)?(Z(a[t]?.ytPlayer),a[t]?.ytPlayer?.playVideo?.()):a[t]?.ytPlayer?.pauseVideo?.();else{we=!1;for(let t=0;t<a.length;t++)a[t]?.ytPlayer.g===e&&1===a[t]?.ytPlayer?.getPlayerState?.()&&(we=!0),a[t]?.ytPlayer?.pauseVideo?.()}})),window.addEventListener("online",(()=>{if(i)try{JSBridge.isOnline(!0)}catch(e){}m(lt,s="Reconnected Successfully",s),u&&m(gt,u=!1,u),l?.length||m(Bt,c=!c,c),O=!0,document.querySelectorAll("script")?.forEach((e=>{e.src&&"https://www.youtube.com/iframe_api?v=16"!==e.src&&(e.src=e.src)})),document.querySelectorAll("img")?.forEach((e=>{e.naturalHeight||(e.src=e.src)})),ve()})),window.reloadYoutube=ve,window.addEventListener("offline",(()=>{if(i)try{JSBridge.isOnline(!1)}catch(e){}m(lt,s="Currently Offline...",s),O=!1})),window.checkOpenFullScreenItem=()=>M||F,window.closeFullScreenItem=()=>{M?n(0,M=null):n(1,F=null)};return e.$$.update=()=>{3&e.$$.dirty[0]|32&e.$$.dirty[1]&&(!i&&matchMedia("(hover:hover)").matches||(F||M?He(document.documentElement,"overflow-hidden"):qe(document.documentElement,"overflow-hidden")))},[M,F,_,I,C,V,j,ce,o,l,r,f,v,E,H,function(e){return y?y[e]?"Show":"Hide":"N/A"},q,W,G,ee,function(e){return Ve(e,"completed")?"green":Ve(e,"current")||Ve(e,"repeating")?"blue":Ve(e,"planning")?"orange":Ve(e,"paused")?"peach":Ve(e,"dropped")?"red":""},function(e,t,n){if(!e?.length)return e;let i=Pe(t)&&!Me(t),o=Pe(n)&&!Me(n),l={},r={};o&&(n?.caution.forEach((e=>{l[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{r[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],u=[],d={};return e.sort(((e,t)=>t?.rank-e?.rank)),e.forEach((e=>{let n=e?.name||e,f=e?.rank;if(!n)return;let p=n?.trim?.().toLowerCase?.();o&&(l[p]?(d[n]=!0,a.push({tag:`<span>${n}${f?"</span><span> "+f+"%":""}</span>`,tagColor:"red"})):r[p]&&(d[n]=!0,c.push({tag:`<span>${n}${f?"</span><span> "+f+"%":""}</span>`,tagColor:"teal"}))),i&&!d[n]&&t[p]&&(d[n]=!0,s.push({tag:e,score:t[p]})),d[n]||u.push({tag:`<span>${n}${f?"</span><span> "+f+"%":""}</span>`,tagColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>{let t=e?.tag?.name||e?.tag,n=e?.tag?.rank;return{tag:`<span>${t} (${_e(e.score)})${n?"</span><span> "+n+"%":""}</span>`,tagColor:"green"}})),a.concat(c).concat(s).concat(u)},function(e,t){if(!e?.length)return e;let n=Pe(t)&&!Me(t),i=[],o=[];return e.forEach((([e,l])=>{if(n){let n=e?.trim?.().toLowerCase?.();t[n]?i.push({studio:[e,l],score:t[n]}):o.push({studio:{studioName:e,studioUrl:l},studioColor:null})}else o.push({studio:{studioName:e,studioUrl:l},studioColor:null})})),i.sort(((e,t)=>t.score-e.score)),i=i.map((e=>({studio:{studioName:`${e.studio[0]} (${_e(e.score)})`,studioUrl:e.studio[1]},studioColor:"green"}))),i.concat(o)},function(e,t,n){if(!e?.length)return e;let i=Pe(t)&&!Me(t),o=Pe(n)&&!Me(n),l={},r={};o&&(n?.caution.forEach((e=>{l[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{r[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],u=[],d={};return e.forEach((e=>{let n=e?.trim?.().toLowerCase?.();o&&(l[n]?(d[e]=!0,a.push({genre:e,genreColor:"red"})):r[n]&&(d[e]=!0,c.push({genre:e,genreColor:"teal"}))),i&&!d[e]&&t[n]&&(d[e]=!0,s.push({genre:e,score:t[n]})),d[e]||u.push({genre:e,genreColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>({genre:`${e.genre} (${_e(e.score)})`,genreColor:"green"}))),s.concat(a).concat(c).concat(u)},function({episodes:e,format:t,duration:n,nextAiringEpisode:i}){let o="";if(t){let l,r,s;if(o=`${t}`,"number"==typeof i?.episode&&"number"==typeof i?.airingAt&&(s=new Date(1e3*i?.airingAt),r=i?.episode,s instanceof Date&&!isNaN(s)&&(l=s.getTime()-(new Date).getTime())),l>0&&"number"==typeof r&&e>r?o+=` · <span style="color:rgb(61, 180, 242);">${r}/${e} in ${te(s,l)}</span>`:l>0&&"number"==typeof r?o+=` · <span style="color:rgb(61, 180, 242);">Ep ${r} in ${te(s,l)}</span>`:l<=0&&"number"==typeof r&&e>r?o+=` · ${r}/${e}`:e>0&&(o+=` · ${e}`),n>0){let e=Fe(60*n*1e3);o+=` · ${e||""}`}}return o},function(){m(Mt,o=!1,o),n(7,ce=0)},function(){ue=!0,clearTimeout(de),de=setTimeout((()=>{ue=!1}),500)},function(e){if(ue)return;le=e.touches[0].clientX,se=e.touches[0].clientY,ie=e.touches[0].identifier;let t=e.target,n=!1;for(;t&&t!==document.body;){if(t.scrollWidth>t.clientWidth&&t.scrollLeft>0){n="popup-container"!==t.id;break}t=t.parentElement}n||(oe=!0)},function(e){if(oe){oe=!1,re=e.touches[0].clientX,ae=e.touches[0].clientY;const t=re-le,n=ae-se;Math.abs(t)>Math.abs(n)&&t>0&&m(Mt,o=!0,o)}else if(o){re=e.touches[0].clientX;const t=re-le;n(7,ce=t>0?Math.min(t/48*100,100):0)}},function(e){if(o){if(re=Array.from(e.changedTouches)?.find((e=>e.identifier===ie))?.clientX,"number"==typeof re){o&&re-le>=48&&m(Lt,r=!1,r)}ie=null,m(Mt,o=!1,o),n(7,ce=0)}else ie=null,m(Mt,o=!1,o),n(7,ce=0)},function(e,t){e?.scrollHeight-16<=(e.clientHeight||e.offsetHeight||getComputedStyles?.(e)?.height)&&!0!==l?.[t??-1]?.isSeenMore&&m(it,l[t].isSeenMore=!0,l)},function(){ie=null,m(Mt,o=!1,o),n(7,ce=0)},function(){he=!0},function(e){if(!C)return;let t=e.target,n=t;for(;n&&n!==document.body;){if(ye=t.scrollTop<1,ge=Math.abs(t.scrollHeight-t.clientHeight-t.scrollTop)<1,ye||ge)break;n=n?.parentElement}fe=e?.touches?.[0]?.identifier,pe=e?.touches?.[0]?.clientY,me=e?.touches?.[0]?.clientX},function(e){if(!he){let t=Array.from(e?.changedTouches||[])?.find((e=>e?.identifier===fe))?.clientY,i=Array.from(e?.changedTouches||[])?.find((e=>e?.identifier===fe))?.clientX,o=t-pe,l=i-me;if("number"==typeof o&&!isNaN(o)&&"number"==typeof l&&!isNaN(l)){(Math.abs(l)>Math.abs(o)||o<0&&ge||o>0&&ye)&&n(1,F=n(0,M=null))}}be()},be,i,e=>{qe(e.target,"fade-out"),He(e.target,"fade-in")},e=>{qe(e.target,"fade-in"),He(e.target,"fade-out"),He(e.target,"display-none")},function(e,t,n){z[e?"unshift":"push"]((()=>{t[n].popupHeader=e}))},e=>W(e.title),(e,t)=>"Enter"===t.key&&W(e.title),function(){f=this.checked,yt.set(f)},e=>"Enter"===e.key&&m(yt,f=!f,f),e=>{m(yt,f=!f,f)},e=>{"Enter"===e.key&&m(yt,f=!f,f)},e=>"Enter"===e.key&&ee(e),e=>G(e.title),(e,t)=>"Enter"===t.key&&G(e.title),(e,t,n,i)=>{if(!e?.hasStudioDragScroll){let e=i?.target?.closest?.(".info")||i?.target;e&&(m(it,t[n].hasStudioDragScroll=!0,l),Be(e,"x"))}},(e,t,n,i)=>{if(!e?.hasGenreDragScroll){let e=i?.target?.closest?.(".info")||i?.target;e&&(m(it,t[n].hasGenreDragScroll=!0,l),Be(e,"x"))}},(e,t,n,i)=>{if(!e?.hasTagDragScroll){let e=i?.target?.closest?.(".info")||i?.target;e&&(m(it,t[n].hasTagDragScroll=!0,l),Be(e,"x"))}},e=>{He(e.target,"display-none")},e=>{window.setShouldGoBack(!1),n(0,M=e.coverImageUrl),n(1,F=null)},(e,t)=>{window.setShouldGoBack(!1),"Enter"===t.key&&(n(0,M=e.coverImageUrl),n(1,F=null))},e=>{window.setShouldGoBack(!1),n(1,F=Pi(e?.description)),n(0,M=null)},(e,t)=>{window.setShouldGoBack(!1),"Enter"===t.key&&(n(1,F=Pi(e?.description)),n(0,M=null))},e=>{He(e.target,"display-none")},e=>{window.setShouldGoBack(!1),n(0,M=e.bannerImageUrl),n(1,F=null)},(e,t)=>{window.setShouldGoBack(!1),"Enter"===t.key&&(n(0,M=e.bannerImageUrl),n(1,F=null))},e=>{He(e.target,"display-none")},e=>{window.setShouldGoBack(!1),n(0,M=e.trailerThumbnailUrl),n(1,F=null)},(e,t)=>{window.setShouldGoBack(!1),"Enter"===t.key&&(n(0,M=e.trailerThumbnailUrl),n(1,F=null))},(e,t)=>"Enter"===t.key&&q(e.id,e?.title?.english),(e,t)=>"Enter"===t.key&&G(e.title),(e,t,n)=>{e.isSeenMore?$i(e.animeUrl):m(it,t[n].isSeenMore=!0,l)},(e,t,n,i)=>{"Enter"===i.key&&(e.isSeenMore?$i(e.animeUrl):(m(it,t[n].isSeenMore=!0,l),event.preventDefault()))},function(e,t,n){z[e?"unshift":"push"]((()=>{t[n].popupContent=e}))},function(e){z[e?"unshift":"push"]((()=>{C=e,n(4,C)}))},e=>"Enter"===e.key&&H(e),function(e){z[e?"unshift":"push"]((()=>{I=e,n(3,I)}))},e=>"Enter"===e.key&&n(1,F=n(0,M=null)),()=>n(1,F=n(0,M=null)),e=>"Enter"===e.key&&n(1,F=n(0,M=null)),e=>"Enter"===e.key&&n(1,F=n(0,M=null)),e=>{He(e.target,"display-none")},()=>n(1,F=n(0,M=null)),e=>"Enter"===e.key&&n(1,F=n(0,M=null))]}function Ui(e){let t,n,i,l,r,s,a,c,u,d,f,p,m,y,g,w,v,b,k,S,E,T,$,P,F=(e[4][e[1]]?"Show":"Hide")+" Anime";return{c(){t=L("div"),n=L("div"),i=L("div"),l=L("span"),r=L("h1"),s=I(e[0]),a=C(),c=L("div"),c.textContent="×",u=C(),d=L("span"),d.innerHTML='<h2 class="option-title svelte-h3vt5f">Information</h2>',f=C(),p=L("span"),p.innerHTML='<h2 class="option-title svelte-h3vt5f">Open in Anilist</h2>',m=C(),y=L("span"),y.innerHTML='<h2 class="option-title svelte-h3vt5f">Open in YouTube</h2>',g=C(),w=L("span"),w.innerHTML='<h2 class="option-title svelte-h3vt5f">Copy Title</h2>',v=C(),b=L("span"),k=L("h2"),S=I(F),U(r,"class","svelte-h3vt5f"),U(l,"class","anime-title svelte-h3vt5f"),U(c,"class","closing-x svelte-h3vt5f"),U(c,"tabindex","0"),U(i,"class","option-header svelte-h3vt5f"),U(d,"class","anime-option svelte-h3vt5f"),U(p,"class","anime-option svelte-h3vt5f"),U(y,"class","anime-option svelte-h3vt5f"),U(w,"class","anime-option svelte-h3vt5f"),U(k,"class","option-title svelte-h3vt5f"),U(b,"class","anime-option svelte-h3vt5f"),U(n,"class","anime-options-container svelte-h3vt5f"),U(t,"class","anime-options svelte-h3vt5f")},m(o,E){A(o,t,E),x(t,n),x(n,i),x(i,l),x(l,r),x(r,s),x(i,a),x(i,c),x(n,u),x(n,d),x(n,f),x(n,p),x(n,m),x(n,y),x(n,g),x(n,w),x(n,v),x(n,b),x(b,k),x(k,S),T=!0,$||(P=[M(c,"click",e[7]),M(c,"keydown",e[14]),M(d,"click",e[8]),M(d,"keydown",e[15]),M(p,"click",e[9]),M(p,"keydown",e[16]),M(y,"click",e[10]),M(y,"keydown",e[17]),M(w,"click",e[11]),M(w,"keydown",e[18]),M(b,"click",e[12]),M(b,"keydown",e[19]),h(e[13].call(null,t)),M(t,"click",e[7]),M(t,"touchend",e[6],{passive:!0}),M(t,"keydown",e[20])],$=!0)},p(e,t){(!T||1&t[0])&&D(s,e[0]),(!T||18&t[0])&&F!==(F=(e[4][e[1]]?"Show":"Hide")+" Anime")&&D(S,F)},i(e){T||(ie((()=>{T&&(E||(E=ve(n,Yt,{y:20,duration:300},!0)),E.run(1))})),T=!0)},o(e){E||(E=ve(n,Yt,{y:20,duration:300},!1)),E.run(0),T=!1},d(e){e&&N(t),e&&E&&E.end(),$=!1,o(P)}}}function Di(e){let t,n,i=e[2]&&!e[5]&&e[3]&&Ui(e);return{c(){i&&i.c(),t=P()},m(e,o){i&&i.m(e,o),A(e,t,o),n=!0},p(e,n){e[2]&&!e[5]&&e[3]?i?(i.p(e,n),44&n[0]&&he(i,1)):(i=Ui(e),i.c(),he(i,1),i.m(t.parentNode,t)):i&&(pe(),ye(i,1,1,(()=>{i=null})),me())},i(e){n||(he(i),n=!0)},o(e){ye(i),n=!1},d(e){i&&i.d(e),e&&N(t)}}}function Oi(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w,v;d(e,Nt,(e=>n(2,i=e))),d(e,$t,(e=>n(26,o=e))),d(e,it,(e=>n(3,l=e))),d(e,ot,(e=>n(27,r=e))),d(e,vt,(e=>n(28,s=e))),d(e,et,(e=>n(4,a=e))),d(e,Tt,(e=>n(29,c=e))),d(e,Je,(e=>n(30,u=e))),d(e,Lt,(e=>n(5,f=e))),d(e,It,(e=>n(31,p=e)));let b,k=!0;function S(e){if(k&&"keydown"!==e.type)return;let t=e.target,n=t.classList;(n.contains("closing-x")||!t.closest(".anime-options-container")&&!n.contains("anime-options-container"))&&m(Nt,i=!1,i)}function x(e){k&&"keydown"!==e.type||(m(It,p=v,p),m(Lt,f=!0,f))}function E(e){k&&"keydown"!==e.type||"string"==typeof w&&""!==w&&window.open(w,"_blank")}async function T(e){k&&"keydown"!==e.type||"string"==typeof y&&""!==y&&window.open(`https://www.youtube.com/results?search_query=${y} Anime`,"_blank")}function A(e){if((!k||"keydown"===e.type)&&h){if(u)try{JSBridge.copyToClipBoard(h)}catch(e){}else navigator?.clipboard?.writeText?.(h);m(Nt,i=!1,i)}}async function N(e){if(k&&"keydown"!==e.type)return;let t=h?`<b>${h}</b>`:"this anime";a[g]?await c(`Are you sure you want to show ${t} in your recommendation list?`)&&(delete a[g],et.set(a),l.length&&r instanceof Worker&&s().then((()=>{r.postMessage({removeID:g})})),m(Nt,i=!1,i)):await c(`Are you sure you want to hide ${t} in your recommendation list?`)&&(m(et,a[g]=!0,a),l.length&&r instanceof Worker&&s().then((()=>{r.postMessage({removeID:g})})),m(Nt,i=!1,i))}function $(){let e=l?.[o??-1];e?(n(0,h=e?.title?.english||e?.title?.userPreferred||e?.title?.romaji||e?.title?.native),y=e?.title?.romaji||e?.title?.userPreferred||e?.title?.english||e?.title?.native,n(1,g=e.id),w=e.animeUrl,v=o):m(Nt,i=!1,i)}Nt.subscribe((e=>{!0===e?(k=!0,b=setTimeout((()=>{k=!1}),500)):(b&&clearTimeout(b),k=!1)})),it.subscribe((()=>{i&&$()}));return[h,g,i,l,a,f,function(e){if(k)return;let t=e.target,n=t.classList;t.closest(".anime-options-container")||n.contains("anime-options-container")||m(Nt,i=!1,i)},S,x,E,T,A,N,$,e=>"Enter"===e.key&&S(e),e=>"Enter"===e.key&&x(e),e=>"Enter"===e.key&&E(e),e=>"Enter"===e.key&&T(e),e=>"Enter"===e.key&&A(e),e=>"Enter"===e.key&&N(e),e=>"Enter"===e.key&&S(e)]}function _i(t){let n,i,l,r,s,c,u,d,f,m,h,y,g,w,v,b,k,S=(t[0]||"Your Anilist Username")+"";return{c(){n=L("div"),i=L("nav"),l=L("div"),r=L("i"),s=C(),c=L("div"),u=L("input"),d=C(),f=L("div"),m=I(S),h=C(),y=L("div"),g=L("img"),U(r,"class",p("goback fa-solid fa-arrow-left")+" svelte-ggiq0b"),U(r,"tabindex","0"),U(l,"class","go-back-container svelte-ggiq0b"),U(u,"id","usernameInput"),U(u,"type","search"),U(u,"enterkeyhint","search"),U(u,"autocomplete","off"),U(u,"placeholder","Your Anilist Username"),U(u,"class","svelte-ggiq0b"),U(f,"class",p("usernameText")+" svelte-ggiq0b"),U(c,"class","input-search svelte-ggiq0b"),U(g,"class","logo-icon svelte-ggiq0b"),a(g.src,w="./images/Kanshi-Logo.webp")||U(g,"src","./images/Kanshi-Logo.webp"),U(g,"alt","Kanshi Logo"),U(g,"tabindex","0"),U(g,"width","30px"),U(g,"height","30px"),U(y,"class","logo-icon-container svelte-ggiq0b"),U(i,"id","nav"),U(i,"class",v=p("nav "+(t[3]||t[4]?"popupvisible":t[1]===document?.activeElement?"inputfocused":""))+" svelte-ggiq0b"),U(n,"class","nav-container svelte-ggiq0b")},m(e,o){A(e,n,o),x(n,i),x(i,l),x(l,r),x(i,s),x(i,c),x(c,u),O(u,t[0]),t[15](u),x(c,d),x(c,f),x(f,m),x(i,h),x(i,y),x(y,g),t[18](i),b||(k=[M(r,"keydown",t[12]),M(l,"click",t[8]),M(u,"keydown",t[13]),M(u,"focusin",t[11]),M(u,"focusout",t[11]),M(u,"input",t[14]),M(f,"click",t[7]),M(f,"keydown",t[16]),M(g,"keydown",t[17]),M(y,"pointerdown",t[9]),M(y,"pointerup",t[10]),M(y,"pointercancel",t[10]),M(n,"keydown",t[19]),M(n,"click",t[6])],b=!0)},p(e,t){1&t[0]&&u.value!==e[0]&&O(u,e[0]),1&t[0]&&S!==(S=(e[0]||"Your Anilist Username")+"")&&D(m,S),26&t[0]&&v!==(v=p("nav "+(e[3]||e[4]?"popupvisible":e[1]===document?.activeElement?"inputfocused":""))+" svelte-ggiq0b")&&U(i,"class",v)},i:e,o:e,d(e){e&&N(n),t[15](null),t[18](null),b=!1,o(k)}}}function Vi(e,t,n){let i,o,l,r,s,a,c,u,f;d(e,Tt,(e=>n(25,i=e))),d(e,wt,(e=>n(26,o=e))),d(e,Lt,(e=>n(3,l=e))),d(e,At,(e=>n(4,r=e))),d(e,lt,(e=>n(27,s=e))),d(e,Ze,(e=>n(28,a=e))),d(e,st,(e=>n(29,c=e))),d(e,it,(e=>n(30,u=e))),d(e,gt,(e=>n(31,f=e)));let p,h,y,g,w,v,b=[],k="",S=!1;async function x(e){if(f)return await async function(){return await i({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}(),void T();let t=e.target,o=t.classList;if("Enter"===e.key||"click"===e.type&&(o.contains("searchBtn")||t?.closest?.(".searchBtn"))){if(!k)return;if(k!==a){if(!navigator.onLine)return i({isAlert:!0,title:"Currently Offline",text:"It seems that you're currently offline and unable to update."});(async()=>{a?await i(`Currently connected to ${a}, do you want to change account?`)?(m(At,r=!1,r),l||(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(it,u=null,u)),m(lt,s="Getting User Entries",s),m(st,c=!0,c),On({username:k}).then((({newusername:e})=>{m(st,c=!1,c),e&&(Ye("username",e),n(0,k=m(Ze,a=e||"",a)),Vt.update((e=>!e)))})).catch((e=>{m(lt,s="Something went wrong...",s),console.error(e)}))):T():await i(`Are you sure you want to connect to ${k}?`)?(m(At,r=!1,r),l||(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(it,u=null,u)),m(lt,s="Getting User Entries",s),m(st,c=!0,c),await On({username:k}).then((({newusername:e})=>{m(st,c=!1,c),e&&(Ye("username",e),n(0,k=m(Ze,a=e||"",a))),Vt.update((e=>!e))})).catch((e=>{m(lt,s="Something went wrong...",s),console.error(e)}))):T()})()}else g?.blur?.(),S=!1}}function E(e){if(v)return void(v=!1);let t=e.target.classList;return t.contains("nav")||t.contains("logo-icon")?S&&!t.contains("logo-icon")?(g?.blur?.(),void(S=!1)):void m(At,r=!r,r):void 0}async function T(){g?.focus?.()}function A(){g===document.activeElement||S?(g?.blur?.(),S=!1):r?m(At,r=!r,r):l&&m(Lt,l=!1,l)}var N;K((()=>{n(2,y=y||document?.getElementById("nav")),n(1,g=g||document?.getElementById("usernameInput")),p=p||document?.getElementById("anime-grid"),h=h||document?.getElementById("popup-container"),b.push(Ze.subscribe((e=>{n(0,k=e||"")})))})),N=()=>{b.forEach((e=>e()))},Y().$$.on_destroy.push(N);return e.$$.update=()=>{3&e.$$.dirty[0]&&k&&g?.setCustomValidity?.("")},[k,g,y,l,r,x,E,T,A,function(){w&&clearTimeout(w),w=setTimeout((()=>{v=!0,l?(h.style.overflow="hidden",h.style.overflow="",h?.children?.[0]?.scrollIntoView?.({container:h,behavior:"smooth",block:"start",inline:"nearest"})):o?(p.style.overflow="hidden",p.style.overflow="",p?.children?.[0]?.scrollIntoView?.({container:p,behavior:"smooth",block:"nearest",inline:"start"})):(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",window.scrollTo({top:-9999,behavior:"smooth"}))}),500)},function(){w&&clearTimeout(w),v&&(w=setTimeout((()=>{v=!1}),50))},function(e){"focusin"===e.type?(S=!0,He(y,"inputfocused")):setTimeout((()=>{qe(y,"inputfocused"),S=!1}),100)},e=>"Enter"===e.key&&A(),e=>"Enter"===e.key&&x(e),function(){k=this.value,n(0,k)},function(e){z[e?"unshift":"push"]((()=>{g=e,n(1,g)}))},e=>"Enter"===e.key&&T(),e=>{"Enter"===e.key?(e.stopPropagation(),m(At,r=!r,r)):"Escape"!==e.key&&e.stopPropagation()},function(e){z[e?"unshift":"push"]((()=>{y=e,n(2,y)}))},e=>"Enter"===e.key&&E(e)]}function ji(e){let t,n,i,l,r,s,a,c,u,d,f,m,h,y,g,w,v,b,k,S,E,T,$,P,F,D,O,_,V,j,B=e[1]&&Bi(e),R=e[1]&&Ri(e),H=e[1]&&Hi(e);return{c(){t=L("div"),n=L("div"),i=L("button"),i.textContent="Update List",r=C(),s=L("button"),s.textContent="Show All Hidden Entries",c=C(),u=L("button"),u.textContent="Import Data",f=C(),m=L("button"),m.textContent="Export Data",y=C(),B&&B.c(),g=C(),w=L("button"),v=I("Auto Update"),S=C(),R&&R.c(),E=C(),T=L("button"),T.textContent="Create an Anilist Account",P=C(),H&&H.c(),F=C(),D=L("button"),D.textContent="Reload",U(i,"class","button svelte-kn0y4f"),U(s,"class","button svelte-kn0y4f"),U(u,"class","button svelte-kn0y4f"),U(m,"class","button svelte-kn0y4f"),U(w,"class",b=p("button "+(e[5]?"selected":""))+" svelte-kn0y4f"),U(T,"class","button svelte-kn0y4f"),U(D,"class","button svelte-kn0y4f"),U(n,"class","menu svelte-kn0y4f"),U(t,"class","menu-container svelte-kn0y4f")},m(o,l){A(o,t,l),x(t,n),x(n,i),x(n,r),x(n,s),x(n,c),x(n,u),x(n,f),x(n,m),x(n,y),B&&B.m(n,null),x(n,g),x(n,w),x(w,v),x(n,S),R&&R.m(n,null),x(n,E),x(n,T),x(n,P),H&&H.m(n,null),x(n,F),x(n,D),_=!0,V||(j=[M(i,"click",e[9]),M(i,"keydown",e[23]),M(s,"click",e[14]),M(s,"keydown",e[24]),M(u,"click",e[6]),M(u,"keydown",e[25]),M(m,"click",e[8]),M(m,"keydown",e[26]),M(w,"click",e[10]),M(w,"keydown",e[28]),M(T,"click",e[15]),M(T,"keydown",e[30]),M(D,"keydown",e[36]),M(D,"click",e[19]),M(t,"click",e[12]),M(t,"touchend",e[13],{passive:!0}),M(t,"keydown",e[37])],V=!0)},p(e,t){e[1]?B?(B.p(e,t),2&t[0]&&he(B,1)):(B=Bi(e),B.c(),he(B,1),B.m(n,g)):B&&(pe(),ye(B,1,1,(()=>{B=null})),me()),(!_||32&t[0]&&b!==(b=p("button "+(e[5]?"selected":""))+" svelte-kn0y4f"))&&U(w,"class",b),e[1]?R?(R.p(e,t),2&t[0]&&he(R,1)):(R=Ri(e),R.c(),he(R,1),R.m(n,E)):R&&(pe(),ye(R,1,1,(()=>{R=null})),me()),e[1]?H?(H.p(e,t),2&t[0]&&he(H,1)):(H=Hi(e),H.c(),he(H,1),H.m(n,F)):H&&(pe(),ye(H,1,1,(()=>{H=null})),me())},i(e){_||(ie((()=>{_&&(l||(l=ve(i,Yt,{x:50,duration:300},!0)),l.run(1))})),ie((()=>{_&&(a||(a=ve(s,Yt,{x:50,duration:300},!0)),a.run(1))})),ie((()=>{_&&(d||(d=ve(u,Yt,{x:50,duration:300},!0)),d.run(1))})),ie((()=>{_&&(h||(h=ve(m,Yt,{x:50,duration:300},!0)),h.run(1))})),he(B),ie((()=>{_&&(k||(k=ve(w,Yt,{x:50,duration:300},!0)),k.run(1))})),he(R),ie((()=>{_&&($||($=ve(T,Yt,{x:50,duration:300},!0)),$.run(1))})),he(H),ie((()=>{_&&(O||(O=ve(D,Yt,{x:50,duration:300},!0)),O.run(1))})),_=!0)},o(e){l||(l=ve(i,Yt,{x:50,duration:300},!1)),l.run(0),a||(a=ve(s,Yt,{x:50,duration:300},!1)),a.run(0),d||(d=ve(u,Yt,{x:50,duration:300},!1)),d.run(0),h||(h=ve(m,Yt,{x:50,duration:300},!1)),h.run(0),ye(B),k||(k=ve(w,Yt,{x:50,duration:300},!1)),k.run(0),ye(R),$||($=ve(T,Yt,{x:50,duration:300},!1)),$.run(0),ye(H),O||(O=ve(D,Yt,{x:50,duration:300},!1)),O.run(0),_=!1},d(e){e&&N(t),e&&l&&l.end(),e&&a&&a.end(),e&&d&&d.end(),e&&h&&h.end(),B&&B.d(),e&&k&&k.end(),R&&R.d(),e&&$&&$.end(),H&&H.d(),e&&O&&O.end(),V=!1,o(j)}}}function Bi(e){let t,n,i,l,r,s,a=(e[4]?"Change":"Set")+" Export Folder";return{c(){t=L("button"),n=I(a),U(t,"class","button svelte-kn0y4f")},m(i,o){A(i,t,o),x(t,n),l=!0,r||(s=[M(t,"click",Wi),M(t,"keydown",e[27])],r=!0)},p(e,t){(!l||16&t[0])&&a!==(a=(e[4]?"Change":"Set")+" Export Folder")&&D(n,a)},i(e){l||(ie((()=>{l&&(i||(i=ve(t,Yt,{x:50,duration:300},!0)),i.run(1))})),l=!0)},o(e){i||(i=ve(t,Yt,{x:50,duration:300},!1)),i.run(0),l=!1},d(e){e&&N(t),e&&i&&i.end(),r=!1,o(s)}}}function Ri(e){let t,n,i,l,r,s,a;return{c(){t=L("button"),n=I("Auto Export"),U(t,"class",i=p("button "+(e[3]?"selected":""))+" svelte-kn0y4f")},m(i,o){A(i,t,o),x(t,n),r=!0,s||(a=[M(t,"click",e[11]),M(t,"keydown",e[29])],s=!0)},p(e,n){(!r||8&n[0]&&i!==(i=p("button "+(e[3]?"selected":""))+" svelte-kn0y4f"))&&U(t,"class",i)},i(e){r||(ie((()=>{r&&(l||(l=ve(t,Yt,{x:50,duration:300},!0)),l.run(1))})),r=!0)},o(e){l||(l=ve(t,Yt,{x:50,duration:300},!1)),l.run(0),r=!1},d(e){e&&N(t),e&&l&&l.end(),s=!1,o(a)}}}function Hi(t){let n,i,l,r,s,a,c,u,d,f,p,m,h,y,g,w=!window.location.protocol.startsWith("file:"),v=w&&function(t){let n,i,l,r,s;return{c(){n=L("button"),n.textContent="Check for Updates",U(n,"class","button svelte-kn0y4f")},m(e,i){A(e,n,i),l=!0,r||(s=[M(n,"keydown",t[32]),M(n,"click",t[18])],r=!0)},p:e,i(e){l||(ie((()=>{l&&(i||(i=ve(n,Yt,{x:50,duration:300},!0)),i.run(1))})),l=!0)},o(e){i||(i=ve(n,Yt,{x:50,duration:300},!1)),i.run(0),l=!1},d(e){e&&N(n),e&&i&&i.end(),r=!1,o(s)}}}(t);return{c(){n=L("button"),n.textContent="Show Recent Releases",l=C(),v&&v.c(),r=C(),s=L("button"),s.textContent="Switch App Mode",c=C(),u=L("button"),u.textContent="Clear Cache",f=C(),p=L("button"),p.textContent="Refresh",U(n,"class","button svelte-kn0y4f"),U(s,"class","button svelte-kn0y4f"),U(u,"class","button svelte-kn0y4f"),U(p,"class","button svelte-kn0y4f")},m(e,i){A(e,n,i),A(e,l,i),v&&v.m(e,i),A(e,r,i),A(e,s,i),A(e,c,i),A(e,u,i),A(e,f,i),A(e,p,i),h=!0,y||(g=[M(n,"keydown",t[31]),M(n,"click",t[16]),M(s,"keydown",t[33]),M(s,"click",t[17]),M(u,"keydown",t[34]),M(u,"click",t[21]),M(p,"keydown",t[35]),M(p,"click",t[20])],y=!0)},p(e,t){w&&v.p(e,t)},i(e){h||(ie((()=>{h&&(i||(i=ve(n,Yt,{x:50,duration:300},!0)),i.run(1))})),he(v),ie((()=>{h&&(a||(a=ve(s,Yt,{x:50,duration:300},!0)),a.run(1))})),ie((()=>{h&&(d||(d=ve(u,Yt,{x:50,duration:300},!0)),d.run(1))})),ie((()=>{h&&(m||(m=ve(p,Yt,{x:50,duration:300},!0)),m.run(1))})),h=!0)},o(e){i||(i=ve(n,Yt,{x:50,duration:300},!1)),i.run(0),ye(v),a||(a=ve(s,Yt,{x:50,duration:300},!1)),a.run(0),d||(d=ve(u,Yt,{x:50,duration:300},!1)),d.run(0),m||(m=ve(p,Yt,{x:50,duration:300},!1)),m.run(0),h=!1},d(e){e&&N(n),e&&i&&i.end(),e&&N(l),v&&v.d(e),e&&N(r),e&&N(s),e&&a&&a.end(),e&&N(c),e&&N(u),e&&d&&d.end(),e&&N(f),e&&N(p),e&&m&&m.end(),y=!1,o(g)}}}function qi(e){let t,n,i,o,l,r,s=e[2]&&ji(e);return{c(){t=L("input"),n=C(),s&&s.c(),i=P(),U(t,"type","file"),U(t,"accept",".json"),_(t,"display","none")},m(a,c){A(a,t,c),e[22](t),A(a,n,c),s&&s.m(a,c),A(a,i,c),o=!0,l||(r=M(t,"change",e[7]),l=!0)},p(e,t){e[2]?s?(s.p(e,t),4&t[0]&&he(s,1)):(s=ji(e),s.c(),he(s,1),s.m(i.parentNode,i)):s&&(pe(),ye(s,1,1,(()=>{s=null})),me())},i(e){o||(he(s),o=!0)},o(e){ye(s),o=!1},d(o){o&&N(t),e[22](null),o&&N(n),s&&s.d(o),o&&N(i),l=!1,r()}}}function Wi(){try{JSBridge.chooseExportFolder()}catch(e){}}function Gi(e,t,n){let i,o,l,r,s,a,c,f,p,h,y,g,w,v,b,k;async function S(){return g?D():k instanceof Element?void(await i({text:"Are you sure you want to import your Data?"})&&k.click()):m(lt,c="Something went wrong...",c)}async function x(){return g?D():!v&&o?Wi():void(await i("Are you sure you want to export your data?")&&(m(At,a=!1,a),_t.update((e=>!e))))}async function E(){return g?D():navigator.onLine?void(await i("Are you sure you want to update your list?")&&(m(At,a=!1,a),Ot.update((e=>!e)))):i({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to update."})}async function T(){await i(`Are you sure you want to ${b?"disable":"enable"} auto-update?`)&&m(at,b=!b,b)}async function A(){if(!v&&o)return Wi();await i(`Are you sure you want to ${w?"disable":"enable"} auto-export?`)&&m(ft,w=!w,w)}function N(e){let t=e.target.classList;t.contains("button")||!matchMedia("(pointer:fine)").matches&&t.contains("menu-container")||m(At,a=!a,a)}async function $(){if(g)return D();if(Me(y))i({isAlert:!0,text:"There is currently no hidden entries."});else if(await i("Are you sure you want to show all hidden anime entries?")){h&&(h.terminate(),m(ot,h=null,h)),p||m(it,f=null,f),m(lt,c="Updating List",c),m(At,a=!1,a);let e=s?.filterSelection?.findIndex?.((({filterSelectionName:e})=>"Anime Filter"===e)),t=s?.filterSelection?.[e??-1]?.filters?.Checkbox?.findIndex?.((({filName:e})=>"hidden anime"===e));e>=0&&t>=0&&m(tt,s.filterSelection[e??-1].filters.Checkbox[t??-1].isSelected=!1,s),r?.["Anime Filter"]&&m(nt,r["Anime Filter"]=r["Anime Filter"].filter((({optionName:e,filterType:t})=>"hidden"!==e&&"checkbox"!==t)),r),await Qn(s,"filterOptions"),await Qn(r,"activeTagFilters"),await Qn({},"hiddenEntries"),jt.update((e=>!e))}}async function L(){await i("Are you sure want to sign-up an anilist account?")&&window.open("https://anilist.co/signup","_blank")}function I(){if(o)try{JSBridge.showRecentReleases()}catch(e){}}function C(){if(o)try{JSBridge.switchApp()}catch(e){}}function P(){if(!navigator.onLine)return i({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to check for updates."});if(o)try{JSBridge.checkAppID(l,!0)}catch(e){}}async function M(){await i("Are you sure want to reload the resources?")&&(document.querySelectorAll("script")?.forEach((e=>{e.src&&"https://www.youtube.com/iframe_api?v=16"!==e.src&&(e.src=e.src)})),document.querySelectorAll("img")?.forEach((e=>{e.naturalHeight||(e.src=e.src)})),window.reloadYoutube?.())}async function F(){if(o&&await i("Are you sure want to refresh the app?"))try{JSBridge.refreshWeb()}catch(e){}}async function U(){if(o&&await i("Are you sure want to clear the cache?"))try{JSBridge.clearCache()}catch(e){}}function D(){i({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}d(e,Tt,(e=>n(38,i=e))),d(e,Je,(e=>n(1,o=e))),d(e,Ke,(e=>n(39,l=e))),d(e,nt,(e=>n(40,r=e))),d(e,tt,(e=>n(41,s=e))),d(e,At,(e=>n(2,a=e))),d(e,lt,(e=>n(42,c=e))),d(e,it,(e=>n(43,f=e))),d(e,Lt,(e=>n(44,p=e))),d(e,ot,(e=>n(45,h=e))),d(e,et,(e=>n(46,y=e))),d(e,gt,(e=>n(47,g=e))),d(e,ft,(e=>n(3,w=e))),d(e,dt,(e=>n(4,v=e))),d(e,at,(e=>n(5,b=e))),window.setExportPathAvailability=async(e=!0)=>{m(dt,v=e,v),Ye("exportPathIsAvailable",e),await Qn(e,"exportPathIsAvailable")};return[k,o,a,w,v,b,S,async function(){if(!(k instanceof Element))return m(lt,c="Something went wrong...",c);let e=k.files?.[0];if(e){let o=e.name;await i(`File ${o?"named ["+o+"] ":""}has been detected, do you want to continue the import?`)?(await Qn(!0,"shouldProcessRecommendation"),m(At,a=!1,a),p||(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow="",window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(it,f=null,f)),(t={importedFile:e},new Promise(((e,n)=>{if(!u(gt)){if(Nn)return;zn(),rt.set(!0)}Bn&&Bn.terminate(),Xe.set(0),kn("./webapi/worker/importUserData.js").then((i=>{Bn=new Worker(i),jn&&clearTimeout(jn),Bn.postMessage(t),Bn.onmessage=({data:t})=>{t?.hasOwnProperty("progress")?t?.progress>=0&&t?.progress<=100&&Xe.set(t.progress):void 0!==t?.error?(rt.set(!1),Ht.update((e=>!e)),window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),Xe.set(100),n(t?.error||"Something went wrong...")):t?.hasOwnProperty("status")?(An=!0,lt.set(t.status)):"string"==typeof t?.importedUsername?Ze.set(t.importedUsername):Pe(t?.importedHiddenEntries)?et.set(t?.importedHiddenEntries):t?.importedlastRunnedAutoUpdateDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoUpdateDate)?ut.set(t.importedlastRunnedAutoUpdateDate):t?.importedlastRunnedAutoExportDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoExportDate)?mt.set(t.importedlastRunnedAutoExportDate):void 0!==t?.updateFilters?(rt.set(!1),Jn().then((e=>{nt.set(e.activeTagFilters),tt.set(e.filterOptions)}))):void 0!==t?.updateRecommendationList?(rt.set(!1),Vt.update((e=>!e))):(rt.set(!1),Ot.update((e=>!e)),An=!1,jn=setTimeout((()=>{Bn.terminate()}),Tn),Xe.set(100),e(t))},Bn.onerror=e=>{rt.set(!1),window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),Ht.update((e=>!e)),Xe.set(100),n(e||"Something went wrong...")}})).catch((e=>{Xe.set(100),rt.set(!1),Ht.update((e=>!e)),Xn(),n(e)}))}))).then((()=>{k instanceof Element&&n(0,k.value=null,k)})).catch((e=>{m(lt,c=e||"Something went wrong...",c),n(0,k.value=null,k),Vt.update((e=>!e))}))):k instanceof Element&&n(0,k.value=null,k)}else k instanceof Element&&n(0,k.value=null,k);var t},x,E,T,A,N,function(e){let t=e.target.classList;t?.contains?.("menu-container")&&m(At,a=!a,a)},$,L,I,C,P,M,F,U,function(e){z[e?"unshift":"push"]((()=>{k=e,n(0,k)}))},e=>"Enter"===e.key&&E(),e=>"Enter"===e.key&&$(),e=>"Enter"===e.key&&S(),e=>"Enter"===e.key&&x(),e=>"Enter"===e.key&&Wi(),e=>"Enter"===e.key&&T(),e=>"Enter"===e.key&&A(),e=>"Enter"===e.key&&L(),e=>"Enter"===e.key&&I(),e=>"Enter"===e.key&&P(),e=>"Enter"===e.key&&C(),e=>"Enter"===e.key&&U(),e=>"Enter"===e.key&&F(),e=>"Enter"===e.key&&M(),e=>"Enter"===e.key&&N(e)]}function Yi(e,t,n){const i=e.slice();return i[98]=t[n].sortName,i[100]=n,i}function Ki(e,t,n){const i=e.slice();return i[101]=t[n].optionName,i[102]=t[n].optionIdx,i[103]=t[n].selected,i[104]=t[n].changeType,i[105]=t[n].filterType,i[106]=t[n].categIdx,i[107]=t[n].optionValue,i[108]=t[n].optionType,i}function Ji(e,t,n){const i=e.slice();return i[125]=t[n],i}function zi(e,t,n){const i=e.slice();return i[111]=t[n],i[112]=t,i[113]=n,i}function Xi(e,t,n){const i=e.slice();return i[114]=t[n],i[116]=n,i}function Qi(e,t,n){const i=e.slice();return i[117]=t[n],i[118]=t,i[119]=n,i}function Zi(e,t,n){const i=e.slice();return i[120]=t[n],i[121]=t,i[122]=n,i}function eo(e,t,n){const i=e.slice();return i[123]=t[n],i[102]=n,i}function to(e,t,n){const i=e.slice();return i[128]=t[n].filterSelectionName,i[129]=t[n].isSelected,i}function no(t){let n;return{c(){n=L("div"),U(n,"class","skeleton shimmer svelte-i2liyt")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function io(e){let t,n,i,o=(e[8]?.filterSelection?.filter?.(qo)?.[0]?.filterSelectionName||"")+"";return{c(){t=L("span"),n=L("h2"),i=I(o),U(n,"class","svelte-i2liyt"),U(t,"class","svelte-i2liyt")},m(e,o){A(e,t,o),x(t,n),x(n,i)},p(e,t){256&t[0]&&o!==(o=(e[8]?.filterSelection?.filter?.(qo)?.[0]?.filterSelectionName||"")+"")&&D(i,o)},d(e){e&&N(t)}}}function oo(e){let t,n,i,o;function l(e,t){return e[12]?so:e[14]||e[10]?lo:ro}let r=l(e),s=r(e);return{c(){t=L("span"),n=L("h2"),s.c(),U(n,"class","svelte-i2liyt"),U(t,"class","data-status svelte-i2liyt")},m(e,i){A(e,t,i),x(t,n),s.m(n,null),o=!0},p(e,t){r===(r=l(e))&&s?s.p(e,t):(s.d(1),s=r(e),s&&(s.c(),s.m(n,null)))},i(e){o||(i&&i.end(1),o=!0)},o(e){i=we(t,Gt,{duration:300}),o=!1},d(e){e&&N(t),s.d(),e&&i&&i.end()}}}function lo(t){let n;return{c(){n=I("")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function ro(t){let n;return{c(){n=I("No Anilist Username Found")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function so(e){let t;return{c(){t=I(e[12])},m(e,n){A(e,t,n)},p(e,n){4096&n[0]&&D(t,e[12])},d(e){e&&N(t)}}}function ao(e){let t,n,i,l,r,s,a,c,u,d,f,m,h=[],y=new Map,g=e[8]?.filterSelection||[];const w=e=>e[128];for(let t=0;t<g.length;t+=1){let n=to(e,g,t),i=w(n);y.set(i,h[t]=co(i,n))}return{c(){t=L("div"),n=L("div"),i=L("h2"),i.textContent="Filters",l=C(),r=L("div"),s=I("×"),c=C(),u=L("div");for(let e=0;e<h.length;e+=1)h[e].c();U(i,"class","svelte-i2liyt"),U(r,"class","closing-x svelte-i2liyt"),U(r,"tabindex",a=e[3]&&e[1]<=425?"0":""),U(n,"class","header svelte-i2liyt"),U(u,"class","options svelte-i2liyt"),U(t,"class",d=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-i2liyt")},m(o,a){A(o,t,a),x(t,n),x(n,i),x(n,l),x(n,r),x(r,s),x(t,c),x(t,u);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(u,null);f||(m=[M(r,"keydown",e[40]),M(r,"click",e[19])],f=!0)},p(e,n){10&n[0]&&a!==(a=e[3]&&e[1]<=425?"0":"")&&U(r,"tabindex",a),262400&n[0]&&(g=e[8]?.filterSelection||[],h=Se(h,n,w,1,e,g,y,u,be,co,null,to)),8&n[0]&&d!==(d=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-i2liyt")&&U(t,"class",d)},d(e){e&&N(t);for(let e=0;e<h.length;e+=1)h[e].d();f=!1,o(m)}}}function co(e,t){let n,i,r,s,a,c,u=(t[128]||"")+"";function d(...e){return t[41](t[128],...e)}return{key:e,first:null,c(){n=L("div"),i=L("h3"),r=I(u),s=C(),U(i,"class","svelte-i2liyt"),_(i,"color",t[129]?"#3db4f2":"inherit"),U(n,"class","option svelte-i2liyt"),this.first=n},m(e,o){A(e,n,o),x(n,i),x(i,r),x(n,s),a||(c=[M(n,"click",(function(){l(t[18](t[128]))&&t[18](t[128]).apply(this,arguments)})),M(n,"keydown",d)],a=!0)},p(e,n){t=e,256&n[0]&&u!==(u=(t[128]||"")+"")&&D(r,u),256&n[0]&&_(i,"color",t[129]?"#3db4f2":"inherit")},d(e){e&&N(n),a=!1,o(c)}}}function uo(t){let n,i=Array(10),o=[];for(let e=0;e<i.length;e+=1)o[e]=po(Ji(t,i,e));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=P()},m(e,t){for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(e,t);A(e,n,t)},p:e,d(e){$(o,e),e&&N(n)}}}function fo(e){let t,n=[],i=new Map,o=e[8]?.filterSelection||[];const l=e=>e[111].filterSelectionName;for(let t=0;t<o.length;t+=1){let r=zi(e,o,t),s=l(r);i.set(s,n[t]=Io(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=P()},m(e,i){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,i);A(e,t,i)},p(e,r){32638279&r[0]|8&r[1]&&(o=e[8]?.filterSelection||[],n=Se(n,r,l,1,e,o,i,t.parentNode,be,Io,t,zi))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&N(t)}}}function po(t){let n;return{c(){n=L("div"),n.innerHTML='<div class="filter-name skeleton shimmer svelte-i2liyt"></div> \n                    <div class="select skeleton shimmer svelte-i2liyt"></div> \n                ',U(n,"class","filter-select svelte-i2liyt")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function mo(t){let n;return{c(){n=L("i"),U(n,"class","icon fa-solid fa-angle-down svelte-i2liyt")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function ho(e){let t,n,i;function r(...t){return e[44](e[122],...t)}return{c(){t=L("i"),U(t,"class","icon fa-solid fa-angle-up svelte-i2liyt")},m(o,s){A(o,t,s),n||(i=[M(t,"keydown",r),M(t,"click",(function(){l(e[21](e[122]))&&e[21](e[122]).apply(this,arguments)}))],n=!0)},p(t,n){e=t},d(e){e&&N(t),n=!1,o(i)}}}function yo(t){let n;return{c(){n=L("div"),n.innerHTML='<h3 class="svelte-i2liyt">No Results</h3>',U(n,"class","option svelte-i2liyt")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function go(e){let t,n=[],i=new Map,o=e[120].options||[];const l=e=>e[111].filterSelectionName+e[120].filName+e[123].optionName;for(let t=0;t<o.length;t+=1){let r=eo(e,o,t),s=l(r);i.set(s,n[t]=So(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=P()},m(e,i){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,i);A(e,t,i)},p(e,r){4194560&r[0]&&(o=e[120].options||[],n=Se(n,r,l,1,e,o,i,t.parentNode,be,So,t,eo))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&N(t)}}}function wo(t){let n;return{c(){n=L("i"),U(n,"class","fa-regular fa-circle-xmark async-element svelte-i2liyt"),_(n,"--optionColor","#e85d75")},m(e,t){A(e,n,t)},p:e,d(e){e&&N(n)}}}function vo(e){let t;function n(e,t){return"Content Caution"===e[111].filterSelectionName?ko:bo}let i=n(e),o=i(e);return{c(){o.c(),t=P()},m(e,n){o.m(e,n),A(e,t,n)},p(e,l){i!==(i=n(e))&&(o.d(1),o=i(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&N(t)}}}function bo(e){let t;return{c(){t=L("i"),U(t,"class","fa-regular fa-circle-check async-element svelte-i2liyt"),_(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&N(t)}}}function ko(e){let t;return{c(){t=L("i"),U(t,"class","fa-regular fa-circle-xmark async-element svelte-i2liyt"),_(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&N(t)}}}function So(e,t){let n,i,r,s,a,c,u,d=(t[123].optionName||"")+"";function f(e,t){return"included"===e[123].selected?vo:"excluded"===e[123].selected&&"read"!==e[120].changeType?wo:void 0}let m=f(t),h=m&&m(t);function y(...e){return t[49](t[123],t[120],t[102],t[122],t[111],...e)}return{key:e,first:null,c(){n=L("div"),i=L("h3"),r=I(d),s=C(),h&&h.c(),U(i,"class","svelte-i2liyt"),U(n,"class",a=p("option "+(Ro(t[123].optionName,t[120].optKeyword)?"":"disable-interaction"))+" svelte-i2liyt"),this.first=n},m(e,o){A(e,n,o),x(n,i),x(i,r),x(n,s),h&&h.m(n,null),c||(u=[M(n,"click",(function(){l(t[22](t[123].optionName,t[120].filName,t[102],t[122],t[120].changeType,t[111].filterSelectionName))&&t[22](t[123].optionName,t[120].filName,t[102],t[122],t[120].changeType,t[111].filterSelectionName).apply(this,arguments)})),M(n,"keydown",y)],c=!0)},p(e,i){t=e,256&i[0]&&d!==(d=(t[123].optionName||"")+"")&&D(r,d),m===(m=f(t))&&h?h.p(t,i):(h&&h.d(1),h=m&&m(t),h&&(h.c(),h.m(n,null))),256&i[0]&&a!==(a=p("option "+(Ro(t[123].optionName,t[120].optKeyword)?"":"disable-interaction"))+" svelte-i2liyt")&&U(n,"class",a)},d(e){e&&N(n),h&&h.d(),c=!1,o(u)}}}function xo(e,t){let n,i,r,s,a,c,u,d,f,m,h,y,g,w,v,b,k,S,E,T,$,P,V,j,B,R,H,q,W,G,Y,K,J=(t[120].filName||"")+"",z=t[120].filName+"",X=`${t[2]}px`;function Q(...e){return t[37](t[120],...e)}function Z(){t[43].call(d,t[113],t[122])}function ee(e,t){return e[120].selected&&e[120].options.length&&!e[0]?ho:mo}let te=ee(t),ne=te(t);function ie(...e){return t[45](t[122],...e)}function oe(...e){return t[46](t[122],...e)}function le(...e){return t[47](t[122],...e)}function re(){t[48].call(V,t[113],t[122])}function se(e,t){return 256&t[0]&&(H=null),null==H&&(H=!!e[120].options?.filter?.(Q)?.length),H?go:yo}let ae=se(t,[-1,-1,-1,-1,-1]),ce=ae(t);return{key:e,first:null,c(){n=L("div"),i=L("div"),r=L("h2"),s=I(J),a=C(),c=L("div"),u=L("div"),d=L("input"),m=C(),ne.c(),y=C(),g=L("div"),w=L("div"),v=L("div"),b=L("h2"),k=I(z),S=C(),E=L("div"),T=I("×"),P=C(),V=L("input"),B=C(),R=L("div"),ce.c(),U(r,"class","svelte-i2liyt"),U(i,"class","filter-name svelte-i2liyt"),U(d,"placeholder","Any"),U(d,"type","search"),U(d,"enterkeyhint","search"),U(d,"autocomplete","off"),U(d,"class","value-input svelte-i2liyt"),d.disabled=f=!t[6]||t[1]<=425||!t[111].isSelected,U(u,"class","value-wrap svelte-i2liyt"),U(c,"class","select svelte-i2liyt"),U(c,"tabindex",h=t[6]&&t[1]<=425&&t[111].isSelected?"0":""),U(b,"class","svelte-i2liyt"),U(E,"class","closing-x svelte-i2liyt"),U(E,"tabindex",$=t[6]&&t[120].selected?"0":""),U(v,"class","header svelte-i2liyt"),U(V,"placeholder","Any"),U(V,"type","search"),U(V,"enterkeyhint","search"),U(V,"autocomplete","off"),V.disabled=j=!t[6]||!t[111].isSelected||!t[120].selected,U(V,"class","svelte-i2liyt"),U(R,"class","options svelte-i2liyt"),U(w,"class",q=p("options-wrap-filter-info "+(t[120].options.length&&!0===t[120].selected&&!t[0]?"":"hide"))+" svelte-i2liyt"),U(g,"class",W=p("options-wrap "+(t[120].options.length&&!0===t[120].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-i2liyt"),_(g,"--maxFilterSelectionHeight",X),U(n,"class",G=p("filter-select "+(t[111].isSelected?"":"disable-interaction"))+" svelte-i2liyt"),this.first=n},m(e,o){A(e,n,o),x(n,i),x(i,r),x(r,s),x(n,a),x(n,c),x(c,u),x(u,d),O(d,t[8].filterSelection[t[113]].filters.Dropdown[t[122]].optKeyword),x(c,m),ne.m(c,null),x(n,y),x(n,g),x(g,w),x(w,v),x(v,b),x(b,k),x(v,S),x(v,E),x(E,T),x(w,P),x(w,V),O(V,t[8].filterSelection[t[113]].filters.Dropdown[t[122]].optKeyword),x(w,B),x(w,R),ce.m(R,null),Y||(K=[M(d,"input",Z),M(c,"keydown",ie),M(c,"click",oe),M(E,"keydown",le),M(E,"click",(function(){l(t[21](t[122]))&&t[21](t[122]).apply(this,arguments)})),M(V,"input",re),M(R,"wheel",F(Wo),{passive:!0}),M(g,"wheel",F(Go),{passive:!0})],Y=!0)},p(e,i){t=e,256&i[0]&&J!==(J=(t[120].filName||"")+"")&&D(s,J),322&i[0]&&f!==(f=!t[6]||t[1]<=425||!t[111].isSelected)&&(d.disabled=f),256&i[0]&&d.value!==t[8].filterSelection[t[113]].filters.Dropdown[t[122]].optKeyword&&O(d,t[8].filterSelection[t[113]].filters.Dropdown[t[122]].optKeyword),te===(te=ee(t))&&ne?ne.p(t,i):(ne.d(1),ne=te(t),ne&&(ne.c(),ne.m(c,null))),322&i[0]&&h!==(h=t[6]&&t[1]<=425&&t[111].isSelected?"0":"")&&U(c,"tabindex",h),256&i[0]&&z!==(z=t[120].filName+"")&&D(k,z),320&i[0]&&$!==($=t[6]&&t[120].selected?"0":"")&&U(E,"tabindex",$),320&i[0]&&j!==(j=!t[6]||!t[111].isSelected||!t[120].selected)&&(V.disabled=j),256&i[0]&&V.value!==t[8].filterSelection[t[113]].filters.Dropdown[t[122]].optKeyword&&O(V,t[8].filterSelection[t[113]].filters.Dropdown[t[122]].optKeyword),ae===(ae=se(t,i))&&ce?ce.p(t,i):(ce.d(1),ce=ae(t),ce&&(ce.c(),ce.m(R,null))),257&i[0]&&q!==(q=p("options-wrap-filter-info "+(t[120].options.length&&!0===t[120].selected&&!t[0]?"":"hide"))+" svelte-i2liyt")&&U(w,"class",q),257&i[0]&&W!==(W=p("options-wrap "+(t[120].options.length&&!0===t[120].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-i2liyt")&&U(g,"class",W),4&i[0]&&X!==(X=`${t[2]}px`)&&_(g,"--maxFilterSelectionHeight",X),256&i[0]&&G!==(G=p("filter-select "+(t[111].isSelected?"":"disable-interaction"))+" svelte-i2liyt")&&U(n,"class",G)},d(e){e&&N(n),ne.d(),ce.d(),Y=!1,o(K)}}}function Eo(e){let t,n,i,l,r,s,a,c,u,d=(e[117].filName||"")+"";function f(e,t){return e[10]?Ao:To}let p=f(e),m=p(e);function h(...t){return e[53](e[117],e[119],e[111],...t)}function y(...t){return e[54](e[117],e[119],e[111],...t)}return{c(){t=L("div"),n=L("div"),i=C(),l=L("div"),m.c(),r=C(),s=L("div"),a=I(d),U(n,"class","svelte-i2liyt"),_(n,"visibility","none"),U(s,"class","checkbox-label svelte-i2liyt"),U(l,"class","checkbox-wrap svelte-i2liyt"),U(t,"class","filter-checkbox svelte-i2liyt")},m(e,o){A(e,t,o),x(t,n),x(t,i),x(t,l),m.m(l,null),x(l,r),x(l,s),x(s,a),c||(u=[M(l,"click",h),M(l,"keydown",y)],c=!0)},p(t,n){p===(p=f(e=t))&&m?m.p(e,n):(m.d(1),m=p(e),m&&(m.c(),m.m(l,r))),256&n[0]&&d!==(d=(e[117].filName||"")+"")&&D(a,d)},d(e){e&&N(t),m.d(),c=!1,o(u)}}}function To(e){let t,n,i,l;function r(...t){return e[51](e[117],e[119],e[111],...t)}function s(){e[52].call(t,e[118],e[119])}return{c(){t=L("input"),U(t,"type","checkbox"),U(t,"class","checkbox svelte-i2liyt"),t.disabled=n=!e[6]},m(n,o){A(n,t,o),t.checked=e[117].isSelected,i||(l=[M(t,"change",r),M(t,"change",s)],i=!0)},p(i,o){e=i,64&o[0]&&n!==(n=!e[6])&&(t.disabled=n),256&o[0]&&(t.checked=e[117].isSelected)},d(e){e&&N(t),i=!1,o(l)}}}function Ao(e){let t,n,i,o,l;return{c(){t=L("input"),U(t,"type","checkbox"),U(t,"class","checkbox svelte-i2liyt"),t.checked=n=e[117].isSelected,t.disabled=i=!e[6]},m(n,i){A(n,t,i),o||(l=M(t,"change",e[50]),o=!0)},p(e,o){256&o[0]&&n!==(n=e[117].isSelected)&&(t.checked=n),64&o[0]&&i!==(i=!e[6])&&(t.disabled=i)},d(e){e&&N(t),o=!1,l()}}}function No(e,t){let n,i,o=t[111].isSelected&&Eo(t);return{key:e,first:null,c(){n=P(),o&&o.c(),i=P(),this.first=n},m(e,t){A(e,n,t),o&&o.m(e,t),A(e,i,t)},p(e,n){(t=e)[111].isSelected?o?o.p(t,n):(o=Eo(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(e){e&&N(n),o&&o.d(e),e&&N(i)}}}function $o(e){let t,n,i,o,l,r,s,a,c,u,d,f,p,m=(e[114].filName||"")+"";function h(...t){return e[55](e[116],e[114],e[111],...t)}return{c(){t=L("div"),n=L("div"),i=L("h2"),o=I(m),l=C(),r=L("div"),s=L("input"),d=C(),U(i,"class","svelte-i2liyt"),U(n,"class","filter-input-number-name svelte-i2liyt"),U(s,"class","value-input-number svelte-i2liyt"),U(s,"type","text"),U(s,"placeholder",a="scoring system"===e[114].filName?"Default: User Scoring":e[17].includes(e[114].filName)?">123 or 123":null!==e[114].defaultValue?"Default: "+e[114].defaultValue:"123"),s.value=c=e[114].numberValue||"",s.disabled=u=!e[6],U(r,"class","value-input-number-wrap svelte-i2liyt"),U(t,"class","filter-input-number svelte-i2liyt"),_(t,"display",e[111].isSelected?"":"none")},m(e,a){A(e,t,a),x(t,n),x(n,i),x(i,o),x(t,l),x(t,r),x(r,s),x(t,d),f||(p=M(s,"input",h),f=!0)},p(n,i){e=n,256&i[0]&&m!==(m=(e[114].filName||"")+"")&&D(o,m),256&i[0]&&a!==(a="scoring system"===e[114].filName?"Default: User Scoring":e[17].includes(e[114].filName)?">123 or 123":null!==e[114].defaultValue?"Default: "+e[114].defaultValue:"123")&&U(s,"placeholder",a),256&i[0]&&c!==(c=e[114].numberValue||"")&&s.value!==c&&(s.value=c),64&i[0]&&u!==(u=!e[6])&&(s.disabled=u),256&i[0]&&_(t,"display",e[111].isSelected?"":"none")},d(e){e&&N(t),f=!1,p()}}}function Lo(e,t){let n,i,o=t[111].isSelected&&$o(t);return{key:e,first:null,c(){n=P(),o&&o.c(),i=P(),this.first=n},m(e,t){A(e,n,t),o&&o.m(e,t),A(e,i,t)},p(e,n){(t=e)[111].isSelected?o?o.p(t,n):(o=$o(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(e){e&&N(n),o&&o.d(e),e&&N(i)}}}function Io(e,t){let n,i,o,l,r=[],s=new Map,a=[],c=new Map,u=[],d=new Map,f=t[111].filters.Dropdown||[];const p=e=>e[111].filterSelectionName+e[120].filName;for(let e=0;e<f.length;e+=1){let n=Zi(t,f,e),i=p(n);s.set(i,r[e]=xo(i,n))}let m=t[111].filters.Checkbox||[];const h=e=>e[111].filterSelectionName+e[117].filName;for(let e=0;e<m.length;e+=1){let n=Qi(t,m,e),i=h(n);c.set(i,a[e]=No(i,n))}let y=t[111].filters["Input Number"]||[];const g=e=>e[111].filterSelectionName+e[114].filName;for(let e=0;e<y.length;e+=1){let n=Xi(t,y,e),i=g(n);d.set(i,u[e]=Lo(i,n))}return{key:e,first:null,c(){n=P();for(let e=0;e<r.length;e+=1)r[e].c();i=C();for(let e=0;e<a.length;e+=1)a[e].c();o=C();for(let e=0;e<u.length;e+=1)u[e].c();l=P(),this.first=n},m(e,t){A(e,n,t);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,t);A(e,i,t);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,t);A(e,o,t);for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(e,t);A(e,l,t)},p(e,n){t=e,7340359&n[0]&&(f=t[111].filters.Dropdown||[],r=Se(r,n,p,1,t,f,s,i.parentNode,be,xo,i,Zi)),8389952&n[0]|8&n[1]&&(m=t[111].filters.Checkbox||[],a=Se(a,n,h,1,t,m,c,o.parentNode,be,No,o,Qi)),16908608&n[0]&&(y=t[111].filters["Input Number"]||[],u=Se(u,n,g,1,t,y,d,l.parentNode,be,Lo,l,Xi))},d(e){e&&N(n);for(let t=0;t<r.length;t+=1)r[t].d(e);e&&N(i);for(let t=0;t<a.length;t+=1)a[t].d(e);e&&N(o);for(let t=0;t<u.length;t+=1)u[t].d(e);e&&N(l)}}}function Co(t){let n,i,l;return{c(){n=L("div"),n.innerHTML='<i class="fa-solid fa-ban svelte-i2liyt"></i>',U(n,"tabindex","0"),U(n,"class","empty-tagFilter svelte-i2liyt"),U(n,"title","Remove Filters")},m(e,o){A(e,n,o),i||(l=[M(n,"click",t[27]),M(n,"keydown",t[57])],i=!0)},p:e,d(e){e&&N(n),i=!1,o(l)}}}function Po(t){let n,i,l;return{c(){n=L("div"),n.innerHTML='<i class="fa-solid fa-ban svelte-i2liyt"></i>',U(n,"tabindex","0"),U(n,"class","empty-tagFilter svelte-i2liyt"),U(n,"title","Remove Filters")},m(e,o){A(e,n,o),i||(l=[M(n,"click",t[27]),M(n,"keydown",t[58])],i=!0)},p:e,d(e){e&&N(n),i=!1,o(l)}}}function Mo(e){let t,n,i=(e[101]||"")+"";return{c(){t=L("h3"),n=I(i),U(t,"class","svelte-i2liyt")},m(e,i){A(e,t,i),x(t,n)},p(e,t){2304&t[0]&&i!==(i=(e[101]||"")+"")&&D(n,i)},d(e){e&&N(t)}}}function Fo(e){let t,n,i=(e[108]+": "+e[101]||"")+"";return{c(){t=L("h3"),n=I(i),U(t,"class","svelte-i2liyt")},m(e,i){A(e,t,i),x(t,n)},p(e,t){2304&t[0]&&i!==(i=(e[108]+": "+e[101]||"")+"")&&D(n,i)},d(e){e&&N(t)}}}function Uo(e){let t,n,i=(e[101]+": "+e[107]||"")+"";return{c(){t=L("h3"),n=I(i),U(t,"class","svelte-i2liyt")},m(e,i){A(e,t,i),x(t,n)},p(e,t){2304&t[0]&&i!==(i=(e[101]+": "+e[107]||"")+"")&&D(n,i)},d(e){e&&N(t)}}}function Do(e,t){let n,i,l,r,s,a,c,u;function d(e,t){return"input number"===e[105]?Uo:e[108]?Fo:Mo}let f=d(t),p=f(t);function m(...e){return t[59](t[102],t[101],t[105],t[106],t[108],...e)}function h(...e){return t[60](t[102],t[101],t[105],t[106],t[108],...e)}function y(...e){return t[61](t[102],t[101],t[105],t[106],t[104],t[108],t[107],...e)}function g(...e){return t[62](t[102],t[101],t[105],t[106],t[104],t[108],t[107],...e)}return{key:e,first:null,c(){n=L("div"),p.c(),i=C(),l=L("i"),r=C(),U(l,"class","fa-solid fa-xmark svelte-i2liyt"),U(l,"tabindex","0"),U(n,"class","activeTagFilter svelte-i2liyt"),U(n,"tabindex","0"),_(n,"--activeTagFilterColor","included"===t[103]?"#5f9ea0":"read"===t[104]?"#000":"#e85d75"),this.first=n},m(e,t){var o;A(e,n,t),p.m(n,null),x(n,i),x(n,l),x(n,r),a=!0,c||(u=[M(l,"click",(o=m,function(e){return e.preventDefault(),o.call(this,e)})),M(l,"keydown",h),M(n,"click",y),M(n,"keydown",g)],c=!0)},p(e,o){f===(f=d(t=e))&&p?p.p(t,o):(p.d(1),p=f(t),p&&(p.c(),p.m(n,i))),2304&o[0]&&_(n,"--activeTagFilterColor","included"===t[103]?"#5f9ea0":"read"===t[104]?"#000":"#e85d75")},i(e){a||(ie((()=>{a&&(s||(s=ve(n,Yt,{x:-10,duration:300},!0)),s.run(1))})),a=!0)},o(e){s||(s=ve(n,Yt,{x:-10,duration:300},!1)),s.run(0),a=!1},d(e){e&&N(n),p.d(),e&&s&&s.end(),c=!1,o(u)}}}function Oo(e){let t,n,i,l,r,s,a,c;return{c(){t=L("div"),n=L("div"),i=L("i"),r=C(),s=L("div"),U(i,"class",l=p("icon fa-solid fa-arrows-"+(e[9]??Ge("gridFullView")??!e[16]?"up-down":"left-right"))+" svelte-i2liyt"),U(n,"tabindex","0"),U(n,"class","changeGridView svelte-i2liyt"),U(s,"class","sortFilter skeleton shimmer svelte-i2liyt"),U(t,"class","last-filter-option svelte-i2liyt")},m(o,l){A(o,t,l),x(t,n),x(n,i),x(t,r),x(t,s),a||(c=[M(n,"click",e[31]),M(n,"keydown",e[69])],a=!0)},p(e,t){66048&t[0]&&l!==(l=p("icon fa-solid fa-arrows-"+(e[9]??Ge("gridFullView")??!e[16]?"up-down":"left-right"))+" svelte-i2liyt")&&U(i,"class",l)},d(e){e&&N(t),a=!1,o(c)}}}function _o(e){let t,n,i,l,r,s,a,c,u,d,f,m,h,y,g,w,v,b,k,S,E,T,$,P,F,O,V,j,B=(e[8]?.sortFilter?.[e[8]?.sortFilter.findIndex(Jo)]?.sortName||"")+"",R=[],H=new Map,q=`${e[2]}px`,W=e[8]?.sortFilter||[];const G=e=>e[98]+e[100];for(let t=0;t<W.length;t+=1){let n=Yi(e,W,t),i=G(n);H.set(i,R[t]=jo(i,n))}return{c(){t=L("div"),n=L("div"),i=L("i"),r=C(),s=L("div"),a=L("i"),d=C(),f=L("h2"),m=I(B),y=C(),g=L("div"),w=L("div"),v=L("div"),b=L("h2"),b.textContent="Sort By",k=C(),S=L("div"),E=I("×"),$=C(),P=L("div");for(let e=0;e<R.length;e+=1)R[e].c();U(i,"class",l=p("icon fa-solid fa-arrows-"+(e[9]??Ge("gridFullView")??!e[16]?"up-down":"left-right"))+" svelte-i2liyt"),U(n,"tabindex","0"),U(n,"class","changeGridView svelte-i2liyt"),U(a,"tabindex",c=e[4]?"":"0"),U(a,"class",u=p("fa-duotone fa-sort-"+("asc"===e[8]?.sortFilter?.[e[8]?.sortFilter?.findIndex(Ko)]?.sortType?"up":"down"))+" svelte-i2liyt"),U(f,"tabindex",h=e[4]?"":"0"),U(f,"class","svelte-i2liyt"),U(b,"class","svelte-i2liyt"),U(S,"class","closing-x svelte-i2liyt"),U(S,"tabindex",T=e[4]&&e[1]<=425?"0":""),U(v,"class","header svelte-i2liyt"),U(P,"class","options svelte-i2liyt"),U(w,"class",F=p("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-i2liyt"),U(g,"class",O=p("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-i2liyt"),_(g,"--maxFilterSelectionHeight",q),U(s,"class","sortFilter svelte-i2liyt"),U(t,"class","last-filter-option svelte-i2liyt")},m(o,l){A(o,t,l),x(t,n),x(n,i),x(t,r),x(t,s),x(s,a),x(s,d),x(s,f),x(f,m),x(s,y),x(s,g),x(g,w),x(w,v),x(v,b),x(v,k),x(v,S),x(S,E),x(w,$),x(w,P);for(let e=0;e<R.length;e+=1)R[e]&&R[e].m(P,null);V||(j=[M(n,"click",e[31]),M(n,"keydown",e[64]),M(a,"click",e[30]),M(a,"keydown",e[65]),M(f,"click",e[28]),M(f,"keydown",e[66]),M(S,"keydown",e[67]),M(S,"click",e[28])],V=!0)},p(e,t){66048&t[0]&&l!==(l=p("icon fa-solid fa-arrows-"+(e[9]??Ge("gridFullView")??!e[16]?"up-down":"left-right"))+" svelte-i2liyt")&&U(i,"class",l),16&t[0]&&c!==(c=e[4]?"":"0")&&U(a,"tabindex",c),256&t[0]&&u!==(u=p("fa-duotone fa-sort-"+("asc"===e[8]?.sortFilter?.[e[8]?.sortFilter?.findIndex(Ko)]?.sortType?"up":"down"))+" svelte-i2liyt")&&U(a,"class",u),256&t[0]&&B!==(B=(e[8]?.sortFilter?.[e[8]?.sortFilter.findIndex(Jo)]?.sortName||"")+"")&&D(m,B),16&t[0]&&h!==(h=e[4]?"":"0")&&U(f,"tabindex",h),18&t[0]&&T!==(T=e[4]&&e[1]<=425?"0":"")&&U(S,"tabindex",T),536871168&t[0]&&(W=e[8]?.sortFilter||[],R=Se(R,t,G,1,e,W,H,P,be,jo,null,Yi)),16&t[0]&&F!==(F=p("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-i2liyt")&&U(w,"class",F),16&t[0]&&O!==(O=p("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-i2liyt")&&U(g,"class",O),4&t[0]&&q!==(q=`${e[2]}px`)&&_(g,"--maxFilterSelectionHeight",q)},d(e){e&&N(t);for(let e=0;e<R.length;e+=1)R[e].d();V=!1,o(j)}}}function Vo(e){let t,n;return{c(){t=L("i"),U(t,"class",n=p("fa-duotone fa-sort-"+("asc"===e[8]?.sortFilter?.[e[8]?.sortFilter?.findIndex(zo)].sortType?"up":"down"))+" svelte-i2liyt")},m(e,n){A(e,t,n)},p(e,i){256&i[0]&&n!==(n=p("fa-duotone fa-sort-"+("asc"===e[8]?.sortFilter?.[e[8]?.sortFilter?.findIndex(zo)].sortType?"up":"down"))+" svelte-i2liyt")&&U(t,"class",n)},d(e){e&&N(t)}}}function jo(e,t){let n,i,r,s,a,c,u,d=(t[98]||"")+"",f=t[8]?.sortFilter?.[t[8]?.sortFilter?.findIndex(Ho)].sortName===t[98]&&t[98],p=f&&Vo(t);function m(...e){return t[68](t[98],...e)}return{key:e,first:null,c(){n=L("div"),i=L("h3"),r=I(d),s=C(),p&&p.c(),a=C(),U(i,"class","svelte-i2liyt"),U(n,"class","option svelte-i2liyt"),this.first=n},m(e,o){A(e,n,o),x(n,i),x(i,r),x(n,s),p&&p.m(n,null),x(n,a),c||(u=[M(n,"click",(function(){l(t[29](t[98]))&&t[29](t[98]).apply(this,arguments)})),M(n,"keydown",m)],c=!0)},p(e,i){t=e,256&i[0]&&d!==(d=(t[98]||"")+"")&&D(r,d),256&i[0]&&(f=t[8]?.sortFilter?.[t[8]?.sortFilter?.findIndex(Ho)].sortName===t[98]&&t[98]),f?p?p.p(t,i):(p=Vo(t),p.c(),p.m(n,a)):p&&(p.d(1),p=null)},d(e){e&&N(n),p&&p.d(),c=!1,o(u)}}}function Bo(e){let t,n,i,l,r,s,a,c,u,d,m,h,y,g,w,v,b,k,S,E,T,$,I,P,F,D,V,j,B,R,H,q,W,G,Y=`${e[2]}px`,K=[],J=new Map;function z(e,t){return e[8]?io:no}let X=z(e),Q=X(e),Z=(e[12]||!e[14])&&oo(e),ee=e[8]&&ao(e);function te(e,t){return e[8]?fo:uo}let ne=te(e),ie=ne(e),oe=!e[5]&&Co(e),le=e[5]&&Po(e),re=e[11]?.[e[8]?.filterSelection?.[e[8]?.filterSelection?.findIndex(Yo)]?.filterSelectionName]||[];const se=e=>e[101]+e[102]+(e[108]??"");for(let t=0;t<re.length;t+=1){let n=Ki(e,re,t),i=se(n);J.set(i,K[t]=Do(i,n))}function ae(e,t){return e[8]?_o:Oo}let ce=ae(e),ue=ce(e);const de=e[36].default,fe=function(e,t,n,i){if(e){const o=f(e,t,n,i);return e[0](o)}}(de,e,e[35],null);return{c(){t=L("main"),n=L("div"),Q.c(),i=C(),Z&&Z.c(),l=C(),r=L("div"),s=L("input"),a=C(),c=L("div"),u=L("i"),m=C(),h=L("div"),ee&&ee.c(),g=C(),w=L("div"),v=L("i"),b=C(),k=L("div"),ie.c(),E=C(),T=L("div"),oe&&oe.c(),$=C(),I=L("div"),le&&le.c(),P=C();for(let e=0;e<K.length;e+=1)K[e].c();F=C(),D=L("div"),V=L("i"),R=C(),ue.c(),H=C(),fe&&fe.c(),U(n,"class","home-status svelte-i2liyt"),U(s,"id","input-search"),U(s,"class","input-search svelte-i2liyt"),U(s,"type","search"),U(s,"enterkeyhint","search"),U(s,"autocomplete","off"),U(s,"placeholder","Search"),U(u,"class","input-search-wrap-icon fa-solid fa-sliders svelte-i2liyt"),U(u,"tabindex",d=e[3]?"":"0"),U(h,"class",y=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-i2liyt"),_(h,"--maxFilterSelectionHeight",Y),U(c,"class","filterType svelte-i2liyt"),U(v,"class",p("showFilterOptions fa-solid fa-filter")+" svelte-i2liyt"),U(v,"tabindex","0"),U(w,"class","showFilterOptions-container svelte-i2liyt"),U(r,"class","input-search-wrap svelte-i2liyt"),U(k,"class",S=p("filters "+(e[6]?"":"disable-interaction")+(e[15]?" hasWheel":""))+" svelte-i2liyt"),U(k,"id","filters"),_(k,"--maxPaddingHeight",e[2]+65+"px"),U(I,"id","tagFilters"),U(I,"class","tagFilters svelte-i2liyt"),_(I,"max-height",e[5]?"200px":"30px"),U(V,"class",j=p("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-i2liyt"),U(D,"tabindex","0"),U(D,"class","showHideActiveFilters svelte-i2liyt"),U(T,"class",B=p("activeFilters"+(e[5]?" seenMore":""))+" svelte-i2liyt"),U(t,"id","main-home"),U(t,"class","svelte-i2liyt"),_(t,"--filters-space",e[6]?"80px":"")},m(o,d){A(o,t,d),x(t,n),Q.m(n,null),x(n,i),Z&&Z.m(n,null),x(t,l),x(t,r),x(r,s),O(s,e[13]),x(r,a),x(r,c),x(c,u),x(c,m),x(c,h),ee&&ee.m(h,null),x(r,g),x(r,w),x(w,v),x(t,b),x(t,k),ie.m(k,null),x(t,E),x(t,T),oe&&oe.m(T,null),x(T,$),x(T,I),le&&le.m(I,null),x(I,P);for(let e=0;e<K.length;e+=1)K[e]&&K[e].m(I,null);x(T,F),x(T,D),x(D,V),x(t,R),ue.m(t,null),x(t,H),fe&&fe.m(t,null),q=!0,W||(G=[M(s,"input",e[38]),M(u,"click",e[19]),M(u,"keydown",e[39]),M(v,"click",e[32]),M(v,"keydown",e[42]),M(k,"wheel",e[56]),M(D,"click",e[33]),M(D,"keydown",e[63])],W=!0)},p(e,o){X===(X=z(e))&&Q?Q.p(e,o):(Q.d(1),Q=X(e),Q&&(Q.c(),Q.m(n,i))),e[12]||!e[14]?Z?(Z.p(e,o),20480&o[0]&&he(Z,1)):(Z=oo(e),Z.c(),he(Z,1),Z.m(n,null)):Z&&(pe(),ye(Z,1,1,(()=>{Z=null})),me()),8192&o[0]&&s.value!==e[13]&&O(s,e[13]),(!q||8&o[0]&&d!==(d=e[3]?"":"0"))&&U(u,"tabindex",d),e[8]?ee?ee.p(e,o):(ee=ao(e),ee.c(),ee.m(h,null)):ee&&(ee.d(1),ee=null),(!q||8&o[0]&&y!==(y=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-i2liyt"))&&U(h,"class",y),4&o[0]&&Y!==(Y=`${e[2]}px`)&&_(h,"--maxFilterSelectionHeight",Y),ne===(ne=te(e))&&ie?ie.p(e,o):(ie.d(1),ie=ne(e),ie&&(ie.c(),ie.m(k,null))),(!q||32832&o[0]&&S!==(S=p("filters "+(e[6]?"":"disable-interaction")+(e[15]?" hasWheel":""))+" svelte-i2liyt"))&&U(k,"class",S),4&o[0]&&_(k,"--maxPaddingHeight",e[2]+65+"px"),e[5]?oe&&(oe.d(1),oe=null):oe?oe.p(e,o):(oe=Co(e),oe.c(),oe.m(T,$)),e[5]?le?le.p(e,o):(le=Po(e),le.c(),le.m(I,P)):le&&(le.d(1),le=null),100665600&o[0]&&(re=e[11]?.[e[8]?.filterSelection?.[e[8]?.filterSelection?.findIndex(Yo)]?.filterSelectionName]||[],pe(),K=Se(K,o,se,1,e,re,J,I,ke,Do,null,Ki),me()),32&o[0]&&_(I,"max-height",e[5]?"200px":"30px"),(!q||32&o[0]&&j!==(j=p("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-i2liyt"))&&U(V,"class",j),(!q||32&o[0]&&B!==(B=p("activeFilters"+(e[5]?" seenMore":""))+" svelte-i2liyt"))&&U(T,"class",B),ce===(ce=ae(e))&&ue?ue.p(e,o):(ue.d(1),ue=ce(e),ue&&(ue.c(),ue.m(t,H))),fe&&fe.p&&(!q||16&o[1])&&function(e,t,n,i,o,l){if(o){const r=f(t,n,i,l);e.p(r,o)}}(fe,de,e,e[35],q?function(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|o[i];return e}return t.dirty|o}return t.dirty}(de,e[35],o,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[35]),null),64&o[0]&&_(t,"--filters-space",e[6]?"80px":"")},i(e){if(!q){he(Z);for(let e=0;e<re.length;e+=1)he(K[e]);he(fe,e),q=!0}},o(e){ye(Z);for(let e=0;e<K.length;e+=1)ye(K[e]);ye(fe,e),q=!1},d(e){e&&N(t),Q.d(),Z&&Z.d(),ee&&ee.d(),ie.d(),oe&&oe.d(),le&&le.d();for(let e=0;e<K.length;e+=1)K[e].d();ue.d(),fe&&fe.d(e),W=!1,o(G)}}}function Ro(e,t){if("string"==typeof e&&"string"==typeof t)return e.toLowerCase().includes(t.trim().toLowerCase())}const Ho=({sortType:e})=>"none"!==e,qo=({isSelected:e})=>e,Wo=()=>{},Go=()=>{},Yo=({isSelected:e})=>e,Ko=({sortType:e})=>"none"!==e,Jo=({sortType:e})=>"none"!==e,zo=({sortType:e})=>"none"!==e;function Xo(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w,v,b;d(e,Tt,(e=>n(78,i=e))),d(e,tt,(e=>n(8,o=e))),d(e,ot,(e=>n(79,l=e))),d(e,vt,(e=>n(80,r=e))),d(e,it,(e=>n(81,s=e))),d(e,wt,(e=>n(9,a=e))),d(e,gt,(e=>n(10,c=e))),d(e,nt,(e=>n(11,u=e))),d(e,lt,(e=>n(12,f=e))),d(e,Et,(e=>n(82,p=e))),d(e,et,(e=>n(83,h=e))),d(e,xt,(e=>n(13,y=e))),d(e,rt,(e=>n(84,g=e))),d(e,Ze,(e=>n(14,w=e))),d(e,Qe,(e=>n(15,v=e))),d(e,Je,(e=>n(16,b=e)));let k,S,x,E,T,A,N,$,{$$slots:L={},$$scope:I}=t,C=!0,P=Math.max(window.visualViewport.width,window.innerWidth),M=Math.max(window.visualViewport.height,window.innerHeight),F=.3*M,U=!1,D=!1,O=["Algorithm Filter"],_=["sort","Anime Filter","Content Caution"],V=["weighted score","score","average score","user score","popularity"],j=!1,B=!1;async function R(e){c||(O.includes(e)?(j=!0,m(lt,f="Updating List",f),async function(){await Qn(!0,"shouldProcessRecommendation"),Cn({filterOptions:o,activeTagFilters:u}).then((async()=>{await Qn(!1,"shouldProcessRecommendation"),Rt.update((e=>!e)),H()})).catch((e=>{throw H(),e}))}()):_.includes(e)?(B=!0,m(lt,f="Updating List",f),H()):B||j||g||(await Qn(o,"filterOptions"),await Qn(u,"activeTagFilters")))}function H(){l&&(l.terminate(),m(ot,l=null,l)),$n({filterOptions:o,activeTagFilters:u}).then((async e=>{j=B=!1,m(ot,l=e.animeLoaderWorker,l),m(xt,y="",y),e?.isNew&&(m(it,s=e.finalAnimeList,s),m(et,h=e.hiddenEntries,h),m(Et,p=e.numberOfNextLoadedGrid,p)),m(lt,f=null,f)})).catch((e=>{throw e}))}async function q(){let e=document.getElementById("tagFilters");await ne(),e instanceof Element&&(e.scrollTop=0)}function W(){M=Math.max(window.visualViewport.height,window.innerHeight),n(2,F=.3*M),n(1,P=Math.max(window.visualViewport.width,window.innerWidth))}async function G(e){if(c)return me();let t=o?.filterSelection.findIndex((({isSelected:e})=>e)),i=o?.filterSelection?.[t].filterSelectionName;if(i!==e){n(4,x=!1),s?.length>36&&!a&&await pe(),o?.filterSelection?.[t].filters.Dropdown.forEach((e=>{e.selected=!1})),m(tt,o.filterSelection[t]=o?.filterSelection?.[t],o),S=null,m(tt,o.filterSelection[t].isSelected=!1,o);let i=o?.filterSelection?.findIndex((({filterSelectionName:t})=>t===e));m(tt,o.filterSelection[i].isSelected=!0,o),async function(){let e=document.getElementById("filters");await ne(),e instanceof Element&&(e.scrollLeft=0)}(),q(),R()}E instanceof Element&&E.closest(".filterType")&&(qe(E,"highlight"),E=null),n(3,k=!1)}function Y(e){if(c&&(o?.filterSelection?.length??0)<1)return me();let t=e.target,i=t.classList,l=t.closest(".filterType"),r=t.closest(".options-wrap");!i.contains("filterType")&&!l||k?r&&!i.contains("closing-x")||i.contains("options-wrap")||(E instanceof Element&&E.closest(".filterType")&&(qe(E,"highlight"),E=null),n(3,k=!1)):n(3,k=!0)}function J(){T&&clearTimeout(T),A=!0,T=setTimeout((()=>{A=!1}),300)}function z(e,t){if(A&&"mouse"===e.pointerType)return;let i=e.target,l=i.closest(".filter-select");if(l===S)return;let r=o?.filterSelection?.findIndex((({isSelected:e})=>e));if(S instanceof Element){let e=Array.from(S.parentElement.children).filter((e=>!e.classList.contains("disable-interaction"))).indexOf(S);if(i.classList.contains("icon")&&!i.classList.contains("fa-angle-down")&&o?.filterSelection?.[r].filters.Dropdown[e].selected)return;m(tt,o.filterSelection[r].filters.Dropdown[e].selected=!1,o)}C&&n(0,C=!1),E instanceof Element&&E.closest(".filter-select")&&(qe(E,"highlight"),E=null),m(tt,o.filterSelection[r].filters.Dropdown[t].selected=!0,o),S=l}function X(e){let t=o?.filterSelection?.findIndex((({isSelected:e})=>e));m(tt,o.filterSelection[t].filters.Dropdown[e].selected=!1,o),E instanceof Element&&E.closest(".filter-select")&&(qe(E,"highlight"),E=null),S=null}async function Q(e){if(o?.filterSelection?.length<1||!o)return;let t=e.target,i=t.classList;if(i.contains("options-wrap")&&"fixed"===getComputedStyle(t).position){E instanceof Element&&(qe(E,"highlight"),E=null),n(3,k=!1),n(4,x=!1);let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(tt,o.filterSelection[e]=o?.filterSelection?.[e],o),S=null}else if(!i.contains("options-wrap")&&!t.closest(".options-wrap")&&!i.contains("async-element")){let e=t.closest(".filterType");i.contains("filterType")||e||(E instanceof Element&&E.closest(".filterType")&&(qe(E,"highlight"),E=null),n(3,k=!1));let l=t.closest(".sortFilter");i.contains("sortFilter")||l||(E instanceof Element&&E.closest(".sortFilter")&&(qe(E,"highlight"),E=null),n(4,x=!1));let r=t.closest(".select");if(!i.contains("select")&&!i.contains("fa-angle-down")&&!r){E instanceof Element&&E.closest(".filter-select")&&(qe(E,"highlight"),E=null);let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(tt,o.filterSelection[e]=o?.filterSelection?.[e],o),S=null}}}function Z(e,t,n,i,l,r){if(c)return me();let s=o?.filterSelection?.findIndex((({isSelected:e})=>e)),a=o?.filterSelection?.[s].filterSelectionName,d=o?.filterSelection?.[s].filters.Dropdown[i].options[n].selected;"none"===d||!0===d||"read"===l&&"included"!==d?(m(tt,o.filterSelection[s].filters.Dropdown[i].options[n].selected="included",o),m(nt,u[a]=u[a].filter((i=>i.optionName+i.optionIdx+i.optionType!==e+n+t)),u),u[a].unshift({optionName:e,optionType:t,optionIdx:n,categIdx:i,selected:"included",changeType:l,filterType:"dropdown"}),nt.set(u)):"included"===d?"read"===l?(m(tt,o.filterSelection[s].filters.Dropdown[i].options[n].selected="none",o),m(nt,u[a]=u[a].filter((o=>!(o.optionIdx===n&&o.optionName===e&&"dropdown"===o.filterType&&o.categIdx===i&&(!o.optionType||o.optionType===t)))),u)):(m(tt,o.filterSelection[s].filters.Dropdown[i].options[n].selected="excluded",o),m(nt,u[a]=u[a].map((o=>(o.optionIdx===n&&o.optionName===e&&"dropdown"===o.filterType&&o.categIdx===i&&"included"===o.selected&&o.optionType===t&&(o.selected="excluded"),o))),u)):(m(tt,o.filterSelection[s].filters.Dropdown[i].options[n].selected="none",o),m(nt,u[a]=u[a].filter((o=>!(o.optionIdx===n&&o.optionName===e&&"dropdown"===o.filterType&&o.categIdx===i&&o.optionType===t))),u)),R(r)}function ee(e,t,n,i){let l=e.target.classList,r=e.which||e.keyCode||0;if(l.contains("checkbox")&&"click"===e.type||l.contains("checkbox")&&13!==r&&"keydown"===e.type||A&&"mouse"===e.pointerType)return;if(c)return void(l.contains("checkbox")||me());let s=o?.filterSelection?.findIndex((({isSelected:e})=>e)),a=o?.filterSelection?.[s].filterSelectionName,d=o?.filterSelection?.[s].filters.Checkbox[n].isSelected;d?m(nt,u[a]=u[a].filter((e=>!(e.optionIdx===n&&e.optionName===t&&"checkbox"===e.filterType&&"included"===e.selected))),u):(m(nt,u[a]=u[a].filter((e=>e.optionName+e.optionIdx!==t+n)),u),u[a].unshift({optionName:t,optionIdx:n,filterType:"checkbox",selected:"included",changeType:"read"}),nt.set(u)),m(tt,o.filterSelection[s].filters.Checkbox[n].isSelected=!o?.filterSelection?.[s].filters.Checkbox[n].isSelected,o),R(i)}function te(e,t,n,i,l,r,s){if(c)return me();let a=o?.filterSelection?.findIndex((({isSelected:e})=>e)),d=o?.filterSelection?.[a].filterSelectionName,f=o?.filterSelection?.[a].filters["Input Number"][n].numberValue;if(V.includes(i)&&/^(>=|<=|<|>).*($)/.test(t)){let c=t.split(/(<=|>=|<|>)/).filter((e=>e));if(t!==f&&c.length<=2){let p,h,y=t.split(/(<=|>=|<|>)/).filter((e=>e));if(c[0].includes(">")||c[0].includes("<")?(p=c[0],h=c[1]):(p=c[1],h=c[0]),y[0].includes(">")||y[0].includes("<")?(y[0],y[1]):(y[1],y[0]),t!==f&&(!isNaN(h)&&(parseFloat(h)>=r||"number"!=typeof r)&&(parseFloat(h)<=l||"number"!=typeof l)||!h)){if(h){let e=u[d].findIndex((e=>e.optionName===i&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(nt,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==i+n)),u),u[d].unshift({optionName:i,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(u[d].splice(e,1),m(nt,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==i+n)),u),u[d].unshift({optionName:i,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),nt.set(u)}else m(nt,u[d]=u[d].filter((e=>!(e.optionIdx===n&&e.optionName===i&&e.optionValue===f&&"input number"===e.filterType))),u);m(tt,o.filterSelection[a].filters["Input Number"][n].numberValue=t,o),R(s)}else je(e.target,f)}else{let t=u[d].findIndex((e=>e.optionName===i&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));t>=0&&m(nt,u[d][t].selected="included",u),je(e.target,f)}}else if(t!==f&&(!isNaN(t)&&(parseFloat(t)>=r||"number"!=typeof r)&&(parseFloat(t)<=l||"number"!=typeof l)||""===t)){if(""===t)m(nt,u[d]=u[d].filter((e=>!(e.optionIdx===n&&e.optionName===i&&e.optionValue===f&&"input number"===e.filterType))),u);else{let e=u[d].findIndex((e=>e.optionName===i&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(nt,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==i+n)),u),u[d].unshift({optionName:i,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(u[d].splice(e,1),m(nt,u[d]=u[d].filter((e=>e.optionName+e.optionIdx!==i+n)),u),u[d].unshift({optionName:i,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),nt.set(u)}m(tt,o.filterSelection[a].filters["Input Number"][n].numberValue=t,o),R(s)}else elementIdx>=0&&m(nt,u[d][elementIdx].selected="included",u),je(e.target,f)}function ie(e,t,n,i,l,r,s,a){if(c)return me();let d=o?.filterSelection?.findIndex((({isSelected:e})=>e)),f=o?.filterSelection?.[d].filterSelectionName;if("input number"===i){let e=u[f].findIndex((e=>e.optionName===n&&e.optionValue===a&&e.optionIdx===t&&"input number"===e.filterType));if(e>=0){let t=u[f][e].selected;m(nt,u[f][e].selected="included"===t?"excluded":"included",u)}}else if("checkbox"===i){let e=u[f].findIndex((e=>e.optionIdx===t&&e.optionName===n&&e.filterType===i)),l=u?.[f]?.[e]?.selected;"included"===l?(m(nt,u[f][e].selected="excluded",u),m(tt,o.filterSelection[d].filters.Checkbox[t].isSelected=!1,o)):"excluded"===l&&(m(nt,u[f][e].selected="included",u),m(tt,o.filterSelection[d].filters.Checkbox[t].isSelected=!0,o))}else if("dropdown"===i){let e=o?.filterSelection?.[d].filters.Dropdown[l].options[t].selected;"included"===e?(m(tt,o.filterSelection[d].filters.Dropdown[l].options[t].selected="excluded",o),m(nt,u[f]=u[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"included"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="excluded"),e))),u)):"excluded"===e&&(m(tt,o.filterSelection[d].filters.Dropdown[l].options[t].selected="included",o),m(nt,u[f]=u[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"excluded"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="included"),e))),u))}R(f)}function oe(e,t,n,i,l,r){if(c)return me();let s=o?.filterSelection?.findIndex((({isSelected:e})=>e)),a=o?.filterSelection?.[s].filterSelectionName;m(tt,"checkbox"===i?o.filterSelection[s].filters.Checkbox[t].isSelected=!1:"input number"===i?o.filterSelection[s].filters["Input Number"][t].numberValue="":o.filterSelection[s].filters.Dropdown[l].options[t].selected="none",o),m(nt,u[a]=u[a].filter((e=>!(e.optionName===n&&e.optionIdx===t&&e.filterType===i&&(!e.optionType||e.optionType===r)))),u),R(a)}async function le(e){if(c)return me();let t=o?.filterSelection?.findIndex((({isSelected:e})=>e)),n=o?.filterSelection?.[t].filterSelectionName,l=u?.[n]?.length;l&&await i("Do you want to remove all filters?")&&(o?.filterSelection?.[t].filters["Input Number"].forEach((e=>{e.numberValue=""})),o?.filterSelection?.[t].filters.Checkbox.forEach((e=>{e.isSelected=!1})),o?.filterSelection?.[t].filters.Dropdown.forEach((({options:e},n)=>{e.forEach((({selected:e},i)=>{m(tt,o.filterSelection[t].filters.Dropdown[n].options[i].selected="none",o)}))})),m(tt,o.filterSelection[t]=o?.filterSelection?.[t],o),m(nt,u[n]=[],u),R(n))}function re(e){let t=e.target,i=t.classList,o=t.closest(".sortFilter"),l=t.closest(".options-wrap");!i.contains("sortFilter")&&!o||x?l&&!i.contains("closing-x")||i.contains("options-wrap")||(E instanceof Element&&E.closest(".sortFilter")&&(qe(E,"highlight"),E=null),n(4,x=!1)):n(4,x=!0)}function se(e){if(c)return me();let{sortName:t,sortType:i}=o?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],l=o?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));if(t===e){let e="desc"===i?"asc":"desc";m(tt,o.sortFilter[l].sortType=e,o)}else if(t!==e){m(tt,o.sortFilter[l].sortType="none",o);let t=o?.sortFilter?.findIndex((({sortName:t})=>t===e));m(tt,o.sortFilter[t].sortType="desc",o)}R("sort"),E instanceof Element&&E.closest(".sortFilter")&&(qe(E,"highlight"),E=null),n(4,x=!1)}function ae(){if(c)return me();let{sortType:e}=o?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],t=o?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));m(tt,o.sortFilter[t].sortType="desc"===e?"asc":"desc",o),R("sort")}function ce(e){let t=e.which||e.keyCode||0;if(38==t||40==t){var i=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(i?.closest?.(".filterType")||i?.closest?.(".sortFilter")||i?.closest?.(".filter-select"))if(e.preventDefault(),E instanceof Element&&E?.closest?.(".options")?.children?.length){let e,n,i,o,l=E.closest(".options"),r=Array.from(l.querySelectorAll(".option")),s=r.indexOf(E);for(let l=0;l<r.length;l++)if(!r[l].classList.contains("disable-interaction"))if(38===t){if(o=r[l],l<s)n=r[l];else if(n){e=n;break}}else if(i||(i=r[l]),l>s){e=r[l];break}let a=!1;e instanceof Element||(i instanceof Element?(e=i,a=!0):o instanceof Element&&(e=o,a=!0)),e instanceof Element&&(qe(E,"highlight"),E=e,He(E,"highlight"),E.scrollIntoView({behavior:a?"auto":"smooth",container:l,block:"center",inline:"nearest"}))}else{let e=i.querySelectorAll(".option:not(.disable-interaction)");E=e[0],E instanceof Element&&(He(E,"highlight"),E.scrollIntoView({behavior:"smooth",container:parent,block:"center",inline:"nearest"}))}}else if(13===t){if(E instanceof Element){let e=new KeyboardEvent("keydown",{key:"Enter"});E.dispatchEvent(e)}}else{i=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(i?.closest?.(".filter-select")&&9!==t||i instanceof Element&&"fixed"===getComputedStyle(i).position)return;let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));n(3,k=null),n(4,x=null),o?.filterSelection?.length>0&&(o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(tt,o.filterSelection[e]=o?.filterSelection?.[e],o)),S=null,E instanceof Element&&(qe(E,"highlight"),E=null)}}async function ue(){m(wt,a=!a,a),Hn(a,"gridFullView")}async function de(e=null){s?.length>36&&!a&&await pe(),n(6,D="boolean"==typeof e?e:!D)}async function fe(e=null){s?.length>36&&!a&&await pe(),n(5,U="boolean"==typeof e?e:!U),q()}function pe(){return new Promise((e=>{l instanceof Worker&&(m(it,s=null,s),r().then((()=>{l.postMessage({reload:!0})}))),N={resolve:e}}))}function me(){i({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}Dt.subscribe((e=>{"boolean"==typeof e&&N?.resolve?.()})),window.checkOpenDropdown=()=>(S||k||x)&&Math.max(window.visualViewport.width,window.innerWidth)<=425,window.closeDropdown=function(){E instanceof Element&&(qe(E,"highlight"),E=null),n(3,k=!1),n(4,x=!1);let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(tt,o.filterSelection[e]=o?.filterSelection?.[e],o),S=null},K((()=>{let e=document.getElementById("filters");e.addEventListener("scroll",J),Be(e,"x"),document.addEventListener("keydown",ce),window.addEventListener("resize",W),window.addEventListener("click",Q)}));return e.$$set=e=>{"$$scope"in e&&n(35,I=e.$$scope)},[C,P,F,k,x,U,D,$,o,a,c,u,f,y,w,v,b,V,G,Y,z,X,Z,ee,te,ie,oe,le,re,se,ae,ue,de,fe,me,I,L,(e,{optionName:t})=>Ro(t,e.optKeyword)||""===e.optKeyword,function(){y=this.value,xt.set(y)},e=>"Enter"===e.key&&Y(e),e=>"Enter"===e.key&&Y(e),(e,t)=>"Enter"===t.key&&G(e),e=>"Enter"===e.key&&de(e),function(e,t){o.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,tt.set(o)},(e,t)=>"Enter"===t.key&&X(e),(e,t)=>("Enter"===t.key||"ArrowDown"===t.key||"ArrowUp"===t.key)&&z(t,e),(e,t)=>z(t,e),(e,t)=>"Enter"===t.key&&X(e),function(e,t){o.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,tt.set(o)},(e,t,n,i,o,l)=>"Enter"===l.key&&Z(e.optionName,t.filName,n,i,t.changeType,o.filterSelectionName),e=>{e.target.checked=!1,me()},(e,t,n,i)=>ee(i,e.filName,t,n.filterSelectionName),function(e,t){e[t].isSelected=this.checked},(e,t,n,i)=>ee(i,e.filName,t,n.filterSelectionName),(e,t,n,i)=>"Enter"===i.key&&ee(i,e.filName,t,n.filterSelectionName),(e,t,n,i)=>te(i,i.target.value,e,t.filName,t.maxValue,t.minValue,n.filterSelectionName),e=>{if(function(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),e.stopPropagation(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}(e,"filters"),(a??Ge("gridFullView")??!b)&&!$&&e.deltaY<0){n(7,$=!0);let e=0;document.documentElement.scrollTop=e,n(7,$=!1)}},e=>"Enter"===e.key&&le(),e=>"Enter"===e.key&&le(),(e,t,n,i,o,l)=>oe(0,e,t,n,i,o),(e,t,n,i,o,l)=>"Enter"===l.key&&oe(0,e,t,n,i,o),(e,t,n,i,o,l,r,s)=>ie(0,e,t,n,i,0,l,r),(e,t,n,i,o,l,r,s)=>"Enter"===s.key&&ie(0,e,t,n,i,0,l,r),e=>"Enter"===e.key&&fe(),e=>"Enter"===e.key&&ue(),e=>"Enter"===e.key&&ae(),e=>"Enter"===e.key&&re(e),e=>"Enter"===e.key&&re(e),(e,t)=>"Enter"===t.key&&se(e),e=>"Enter"===e.key&&ue()]}function Qo(e){let t,n,i,l,r,s,a,c,u,d,f,p,m,h,y,g,w,v=!e[1]&&Zo(e);return{c(){t=L("div"),n=L("div"),i=L("div"),l=L("div"),r=L("h2"),s=I(e[2]),a=C(),c=L("h2"),u=C(),d=L("div"),v&&v.c(),f=C(),p=L("button"),m=I(e[4]),U(r,"class","confirm-title svelte-1mystf5"),U(c,"class","confirm-text svelte-1mystf5"),U(l,"class","confirm-info-container svelte-1mystf5"),U(p,"class","button svelte-1mystf5"),U(d,"class","confirm-button-container svelte-1mystf5"),U(i,"class","confirm-container svelte-1mystf5"),U(n,"class","confirm-wrapper svelte-1mystf5"),_(n,"--height",e[7]?"calc(100% + 1px)":"100%"),U(t,"class","confirm svelte-1mystf5")},m(o,h){A(o,t,h),x(t,n),x(n,i),x(i,l),x(l,r),x(r,s),x(l,a),x(l,c),c.innerHTML=e[3],x(i,u),x(i,d),v&&v.m(d,null),x(d,f),x(d,p),x(p,m),e[12](p),y=!0,g||(w=[M(p,"click",e[8]),M(p,"keydown",e[13]),M(t,"click",e[10]),M(t,"touchend",e[10],{passive:!0}),M(t,"keydown",e[14])],g=!0)},p(e,t){(!y||4&t)&&D(s,e[2]),(!y||8&t)&&(c.innerHTML=e[3]),e[1]?v&&(v.d(1),v=null):v?v.p(e,t):(v=Zo(e),v.c(),v.m(d,f)),(!y||16&t)&&D(m,e[4]),128&t&&_(n,"--height",e[7]?"calc(100% + 1px)":"100%")},i(e){y||(ie((()=>{y&&(h||(h=ve(i,Yt,{y:20,duration:300},!0)),h.run(1))})),y=!0)},o(e){h||(h=ve(i,Yt,{y:20,duration:300},!1)),h.run(0),y=!1},d(n){n&&N(t),v&&v.d(),e[12](null),n&&h&&h.end(),g=!1,o(w)}}}function Zo(e){let t,n,i,l;return{c(){t=L("button"),n=I(e[5]),U(t,"class","button svelte-1mystf5")},m(o,r){A(o,t,r),x(t,n),i||(l=[M(t,"click",e[9]),M(t,"keydown",e[11])],i=!0)},p(e,t){32&t&&D(n,e[5])},d(e){e&&N(t),i=!1,o(l)}}}function el(e){let t,n,i=e[0]&&Qo(e);return{c(){i&&i.c(),t=P()},m(e,o){i&&i.m(e,o),A(e,t,o),n=!0},p(e,[n]){e[0]?i?(i.p(e,n),1&n&&he(i,1)):(i=Qo(e),i.c(),he(i,1),i.m(t.parentNode,t)):i&&(pe(),ye(i,1,1,(()=>{i=null})),me())},i(e){n||(he(i),n=!0)},o(e){ye(i),n=!1},d(e){i&&i.d(e),e&&N(t)}}}function tl(e,t,n){let i;d(e,Lt,(e=>n(7,i=e)));const o=function(){const e=Y();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const l=V(t,n,{cancelable:i});return o.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}();let l,r,{showConfirm:s=!1}=t,{isAlert:a=!1}=t,{confirmTitle:c="Confirmation"}=t,{confirmText:u="Do you want to continue?"}=t,{confirmLabel:f="OK"}=t,{cancelLabel:p="CANCEL"}=t,m=!1;function h(e){m&&"keydown"!==e.type||(n(0,s=!1),o("confirmed"))}function y(e){m&&"keydown"!==e.type||(n(0,s=!1),o("cancelled"))}function g(e){if(m&&"keydown"!==e.type)return;let t=e.target,n=t.classList;t.closest(".confirm-container")||n.contains("confirm-container")||y(e)}var w;w=()=>{s?(m=!0,r=setTimeout((()=>{m=!1}),500),l?.focus?.()):(r&&clearTimeout(r),m=!1)},Y().$$.after_update.push(w);return e.$$set=e=>{"showConfirm"in e&&n(0,s=e.showConfirm),"isAlert"in e&&n(1,a=e.isAlert),"confirmTitle"in e&&n(2,c=e.confirmTitle),"confirmText"in e&&n(3,u=e.confirmText),"confirmLabel"in e&&n(4,f=e.confirmLabel),"cancelLabel"in e&&n(5,p=e.cancelLabel)},[s,a,c,u,f,p,l,i,h,y,g,e=>"Enter"===e.key&&y(e),function(e){z[e?"unshift":"push"]((()=>{l=e,n(6,l)}))},e=>"Enter"===e.key&&h(e),e=>"Enter"===e.key&&g(e)]}var nl={Fixed:{Navigator:class extends Ne{constructor(e){super(),Ae(this,e,Vi,_i,r,{},null,[-1,-1])}},Menu:class extends Ne{constructor(e){super(),Ae(this,e,Gi,qi,r,{},null,[-1,-1])}}},Anime:{AnimeGrid:class extends Ne{constructor(e){super(),Ae(this,e,vn,mn,r,{},null,[-1,-1])}},Fixed:{AnimePopup:class extends Ne{constructor(e){super(),Ae(this,e,Fi,Ni,r,{},null,[-1,-1,-1,-1,-1])}},AnimeOptionsPopup:class extends Ne{constructor(e){super(),Ae(this,e,Oi,Di,r,{},null,[-1,-1])}}}},Others:{Search:class extends Ne{constructor(e){super(),Ae(this,e,Xo,Bo,r,{},null,[-1,-1,-1,-1,-1])}},Confirm:class extends Ne{constructor(e){super(),Ae(this,e,tl,el,r,{showConfirm:0,isAlert:1,confirmTitle:2,confirmText:3,confirmLabel:4,cancelLabel:5})}}}},il="@vercel/analytics",ol="1.0.1",ll=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function rl(e="auto"){window.vam="auto"!==e?e:function(){try{const e=process.env.NODE_ENV;if("development"===e||"test"===e)return"development"}catch(e){}return"production"}()}function sl(){return"development"===(window.vam||"production")}function al(e={debug:!0}){var t;if("undefined"==typeof window)return;rl(e.mode),ll(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=sl()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${n}"]`))return;const i=document.createElement("script");i.src=n,i.defer=!0,i.setAttribute("data-sdkn",il),i.setAttribute("data-sdkv",ol),sl()&&!1===e.debug&&i.setAttribute("data-debug","false"),document.head.appendChild(i)}function cl(e){let t,n,i,o,l;return{c(){t=L("div"),U(t,"class","progress svelte-1jnkk2b"),_(t,"--progress","-"+(100-e[6])+"%")},m(e,n){A(e,t,n),i=!0,o||(l=M(t,"outrostart",pl),o=!0)},p(e,n){64&n[0]&&_(t,"--progress","-"+(100-e[6])+"%")},i(e){i||(n&&n.end(1),i=!0)},o(e){n=we(t,Gt,{duration:0,delay:400}),i=!1},d(e){e&&N(t),e&&n&&n.end(),o=!1,l()}}}function ul(e){let t,n;return t=new nl.Anime.AnimeGrid({}),{c(){xe(t.$$.fragment)},m(e,i){Ee(t,e,i),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function dl(t){let n,i,l,r,s;return{c(){n=L("div"),n.innerHTML='<i class="list-update-icon fa-solid fa-arrows-rotate svelte-1jnkk2b"></i> \n\t\t\t<h3 class="list-update-label svelte-1jnkk2b">List Update</h3>',U(n,"class","list-update-container svelte-1jnkk2b"),U(n,"tabindex","0")},m(e,i){A(e,n,i),l=!0,r||(s=[M(n,"click",t[10]),M(n,"keydown",t[11])],r=!0)},p:e,i(e){l||(ie((()=>{l&&(i||(i=ve(n,Yt,{x:50,duration:300},!0)),i.run(1))})),l=!0)},o(e){i||(i=ve(n,Yt,{x:50,duration:300},!1)),i.run(0),l=!1},d(e){e&&N(n),e&&i&&i.end(),r=!1,o(s)}}}function fl(e){let t,n,i,o,l,r,s,a,c,u,d,f,p,m,h,y,g=e[6]>0&&e[6]<100&&cl(e);i=new nl.Fixed.Navigator({}),l=new nl.Fixed.Menu({}),a=new nl.Others.Search({props:{$$slots:{default:[ul]},$$scope:{ctx:e}}}),u=new nl.Anime.Fixed.AnimePopup({}),f=new nl.Anime.Fixed.AnimeOptionsPopup({}),m=new nl.Others.Confirm({props:{showConfirm:e[0],isAlert:e[1],confirmTitle:e[2],confirmText:e[3],confirmLabel:e[4],cancelLabel:e[5]}}),m.$on("confirmed",e[8]),m.$on("cancelled",e[9]);let w=e[7]&&dl(e);return{c(){t=L("main"),g&&g.c(),n=C(),xe(i.$$.fragment),o=C(),xe(l.$$.fragment),r=C(),s=L("div"),xe(a.$$.fragment),c=C(),xe(u.$$.fragment),d=C(),xe(f.$$.fragment),p=C(),xe(m.$$.fragment),h=C(),w&&w.c(),U(s,"class","home svelte-1jnkk2b"),U(s,"id","home"),U(t,"class","svelte-1jnkk2b")},m(e,v){A(e,t,v),g&&g.m(t,null),x(t,n),Ee(i,t,null),x(t,o),Ee(l,t,null),x(t,r),x(t,s),Ee(a,s,null),x(s,c),Ee(u,s,null),x(t,d),Ee(f,t,null),x(t,p),Ee(m,t,null),x(t,h),w&&w.m(t,null),y=!0},p(e,i){e[6]>0&&e[6]<100?g?(g.p(e,i),64&i[0]&&he(g,1)):(g=cl(e),g.c(),he(g,1),g.m(t,n)):g&&(pe(),ye(g,1,1,(()=>{g=null})),me());const o={};2&i[2]&&(o.$$scope={dirty:i,ctx:e}),a.$set(o);const l={};1&i[0]&&(l.showConfirm=e[0]),2&i[0]&&(l.isAlert=e[1]),4&i[0]&&(l.confirmTitle=e[2]),8&i[0]&&(l.confirmText=e[3]),16&i[0]&&(l.confirmLabel=e[4]),32&i[0]&&(l.cancelLabel=e[5]),m.$set(l),e[7]?w?(w.p(e,i),128&i[0]&&he(w,1)):(w=dl(e),w.c(),he(w,1),w.m(t,null)):w&&(pe(),ye(w,1,1,(()=>{w=null})),me())},i(e){y||(he(g),he(i.$$.fragment,e),he(l.$$.fragment,e),he(a.$$.fragment,e),he(u.$$.fragment,e),he(f.$$.fragment,e),he(m.$$.fragment,e),he(w),y=!0)},o(e){ye(g),ye(i.$$.fragment,e),ye(l.$$.fragment,e),ye(a.$$.fragment,e),ye(u.$$.fragment,e),ye(f.$$.fragment,e),ye(m.$$.fragment,e),ye(w),y=!1},d(e){e&&N(t),g&&g.d(),Te(i),Te(l),Te(a),Te(u),Te(f),Te(m),w&&w.d()}}}const pl=e=>{e.target.style.setProperty("--progress","0%")};function ml(e,t,n){let i,o,l,r,s,a,c,u,f,p,h,y,g,w,v,b,k,S,x,E,T,A,N,$,L,I,C,P,M,F,U,D,O;d(e,Tt,(e=>n(24,i=e))),d(e,lt,(e=>n(25,o=e))),d(e,Et,(e=>n(26,l=e))),d(e,et,(e=>n(27,r=e))),d(e,it,(e=>n(28,s=e))),d(e,xt,(e=>n(29,a=e))),d(e,ot,(e=>n(30,c=e))),d(e,Pt,(e=>n(7,u=e))),d(e,Ft,(e=>n(31,f=e))),d(e,Je,(e=>n(32,p=e))),d(e,Ct,(e=>n(33,h=e))),d(e,wt,(e=>n(34,y=e))),d(e,Nt,(e=>n(35,g=e))),d(e,Lt,(e=>n(36,w=e))),d(e,At,(e=>n(37,v=e))),d(e,st,(e=>n(38,b=e))),d(e,ct,(e=>n(39,k=e))),d(e,pt,(e=>n(40,S=e))),d(e,gt,(e=>n(41,x=e))),d(e,Qe,(e=>n(42,E=e))),d(e,at,(e=>n(43,T=e))),d(e,ft,(e=>n(44,A=e))),d(e,Ut,(e=>n(45,N=e))),d(e,mt,(e=>n(46,$=e))),d(e,ut,(e=>n(47,L=e))),d(e,yt,(e=>n(48,I=e))),d(e,tt,(e=>n(49,C=e))),d(e,nt,(e=>n(50,P=e))),d(e,Ze,(e=>n(51,M=e))),d(e,dt,(e=>n(52,F=e))),d(e,Ke,(e=>n(53,U=e))),m(Je,p=(()=>{try{return JSBridge.exportJSON,!0}catch(e){return!1}})(),p),al(),window.onload=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),"https://kanshi.vercel.app"===window.location.origin?e("config","G-F5E8XNQS20"):e("config","G-PPMY92TJCE")};const _=new Function;window.onYouTubeIframeAPIReady=_;let V=[];m(lt,o="Getting Existing Data",o);let j=setInterval((()=>{o||m(lt,o="Please Wait...",o)}),300);function B(e=!1){e||q()&&T?(m(st,b=!0,b),On().then((()=>{m(st,b=!1,b),Fn().finally((()=>{R()}))})).catch((e=>{R(),m(st,b=!1,b),m(lt,o="Something went wrong...",o),console.error(e)}))):R()}function R(){A&&W()&&Vn()}new Promise((async e=>{if(m(Ke,U=await Le(),U),p&&navigator.onLine)try{U&&JSBridge.checkAppID(U,!1)}catch(e){window.updateAppAlert?.()}let t=await Zn("gridFullView")??!p;"boolean"==typeof t&&(Ye("gridFullView",t),m(wt,y=t,y)),e()})).then((()=>{p||(async()=>{m(dt,F=await Zn("exportPathIsAvailable"),F),"boolean"==typeof F&&Ye("exportPathIsAvailable",F)})(),V.push(new Promise((async(e,t)=>{let n=await Zn("lastAnimeUpdate"),i=!(n instanceof Date&&!isNaN(n));if(!i){await Zn("animeEntriesIsEmpty")&&(i=!0)}var o;i?(m(it,s=null,s),new Promise(((e,t)=>{Wn=setInterval((()=>{lt.set("Getting Anime Entries")}),300),Xe.set(0),kn("./webapi/worker/getAnimeEntries.js").then((n=>{Xe.set(25),Wn&&(clearInterval(Wn),Wn=null);let i=new Worker(n);qn&&clearTimeout(qn),i.postMessage(o),i.onmessage=({data:t})=>{t?.hasOwnProperty("status")?(An=!0,lt.set(t.status)):(Xe.set(100),An=!1,Bt.update((e=>!e)),qn=setTimeout((()=>{i.terminate()}),Tn),e(t))},i.onerror=e=>{Xe.set(100),t(e)}})).catch((e=>{Xe.set(100),Wn&&(clearInterval(Wn),Wn=null),lt.set(null),Xn(),t(e)}))})).then((()=>{e()})).catch((async()=>{t()}))):e()}))),V.push(new Promise((async e=>{let t=await Zn("username");t&&(Ye("username",t),m(Ze,M=t,M)),e()}))),V.push(new Promise((async e=>{Jn().then((t=>{m(nt,P=t.activeTagFilters,P),m(tt,C=t.filterOptions,C),e()})).catch((()=>{reject()}))}))),V.push(new Promise((async e=>{let t=await Zn("autoPlay");"boolean"==typeof t&&(Ye("autoPlay",t),m(yt,I=t,I)),m(ut,L=await Zn("lastRunnedAutoUpdateDate"),L),m(mt,$=await Zn("lastRunnedAutoExportDate"),$),m(at,T=await Zn("autoUpdate")??!1,T),Ye("autoUpdate",T),m(ft,A=await Zn("autoExport")??!1,A),Ye("autoExport",A),e()}))),Promise.all(V).then((async()=>{let e=await Zn("shouldProcessRecommendation");if(!e){await Zn("recommendedAnimeListLength")<1&&(e=!0)}new Promise((async t=>{e?Cn().then((async()=>{await Qn(!1,"shouldProcessRecommendation"),t(!1)})).catch((e=>{throw e})):t(!0)})).then((e=>{$n({loadSaved:e}).then((async e=>{m(ot,c=e.animeLoaderWorker,c),m(xt,a="",a),e?.isNew&&(m(it,s=e.finalAnimeList,s),m(et,r=e.hiddenEntries,r),m(Et,l=e.numberOfNextLoadedGrid,l),m(lt,o=null,o),B(!0),m(gt,x=!1,x))})).catch((e=>{throw e}))}))})).catch((async e=>{B(!0),m(gt,x=!1,x),m(lt,o="Something went wrong...",o),i?.(p?{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}:{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."}),console.error(e)}))})),gt.subscribe((async e=>{!1===e&&clearInterval(j)})),it.subscribe((async e=>{x&&e?.length>0&&!1!==x&&m(gt,x=!1,x)})),jt.subscribe((async e=>{"boolean"!=typeof e||x||(m(Pt,u=!1,u),c&&(c.terminate(),m(ot,c=null,c)),$n().then((async e=>{m(ot,c=e.animeLoaderWorker,c),m(xt,a="",a),e?.isNew&&(m(it,s=e.finalAnimeList,s),m(et,r=e.hiddenEntries,r),m(Et,l=e.numberOfNextLoadedGrid,l)),m(lt,o=null,o)})).catch((e=>{throw e})))})),Vt.subscribe((async e=>{"boolean"!=typeof e||x||(await Qn(!0,"shouldProcessRecommendation"),m(Pt,u=!1,u),Cn().then((async()=>{await Qn(!1,"shouldProcessRecommendation"),Rt.update((e=>!e)),jt.update((e=>!e))})).catch((e=>{throw jt.update((e=>!e)),e})))})),Bt.subscribe((async e=>{"boolean"!=typeof e||x||(await Qn(!0,"shouldProcessRecommendation"),Cn().then((async()=>{await Qn(!1,"shouldProcessRecommendation"),Rt.update((e=>!e)),Ht.update((e=>!e))})).catch((e=>{throw Ht.update((e=>!e)),e})))})),Ht.subscribe((async e=>{"boolean"!=typeof e||x||((w||(y?O.scrollLeft>500:document.documentElement.scrollTop>Math.max(0,O?.offsetTop-55)))&&s?.length?m(Pt,u=!0,u):(c&&(c.terminate(),m(ot,c=null,c)),$n().then((async e=>{m(ot,c=e.animeLoaderWorker,c),m(xt,a="",a),e?.isNew&&(m(it,s=e.finalAnimeList,s),m(et,r=e.hiddenEntries,r),m(Et,l=e.numberOfNextLoadedGrid,l)),m(lt,o=null,o)})).catch((e=>{throw e}))))})),Rt.subscribe((async e=>{"boolean"!=typeof e||x||Jn()}));let H=36e5;function q(){let e=!1;return L?L instanceof Date&&!isNaN(L)&&(new Date).getTime()-L.getTime()>H&&(e=!0):e=!0,e}function W(){let e=!1;return $?$ instanceof Date&&!isNaN($)&&(new Date).getTime()-$.getTime()>H&&(e=!0):e=!0,e}at.subscribe((async e=>{if(!0===e)if(Qn(!0,"autoUpdate"),q())B(),k&&clearInterval(k),m(ct,k=setInterval((()=>{T&&B()}),H),k);else{let e=H-((new Date).getTime()-L?.getTime())||0;setTimeout((()=>{!1!==T&&(B(),k&&clearInterval(k),m(ct,k=setInterval((()=>{T&&B()}),H),k))}),e)}else!1===e&&(k&&clearInterval(k),Qn(!1,"autoUpdate"))})),Ot.subscribe((e=>{"boolean"==typeof e&&!x&&navigator.onLine&&(m(st,b=!0,b),On().then((()=>{m(st,b=!1,b),Fn()})).catch((e=>{m(st,b=!1,b),m(lt,o="Something went wrong...",o),console.error(e)})))})),ft.subscribe((async e=>{if(!0===e)if(Qn(!0,"autoExport"),W())B(),S&&clearInterval(S),m(pt,S=setInterval((()=>{A&&B()}),H),S);else{let e=H-((new Date).getTime()-$?.getTime())||0;setTimeout((()=>{!1!==A&&(B(),S&&clearInterval(S),m(pt,S=setInterval((()=>{A&&B()}),H),S))}),e)}else!1===e&&(S&&clearInterval(S),Qn(!1,"autoExport"))})),_t.subscribe((e=>{"boolean"!=typeof e||x||Vn()})),qt.subscribe((e=>{"boolean"==typeof e&&(f||m(Ft,f=!0,f),N&&clearTimeout(N),m(Ut,N=setTimeout((()=>{m(Ft,f=!1,f)}),500),N))})),document.addEventListener("visibilitychange",(()=>{x||p||"visible"!==document.visibilityState||(b&&(q()||W())?(B(),A&&!S&&ft.update((e=>e)),T&&!k&&at.update((e=>e))):b||(m(st,b=!0,b),On({visibilityChange:!0}).then((()=>m(st,b=!1,b)))))}));let G=!1;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");let Y=()=>{m(Qe,E=!0,E),window.removeEventListener("wheel",Y,{passive:!0})};window.addEventListener("wheel",Y,{passive:!0}),window.checkEntries=()=>{x||(b&&(q()||W())?(B(),S||ft.update((e=>e)),k||at.update((e=>e))):b||(m(st,b=!0,b),On({visibilityChange:!0}).then((()=>m(st,b=!1,b)))))},window.addEventListener("popstate",(()=>{window.backPressed()}));let J,z,X,Q,Z=!1;window.backPressed=()=>{if(h&&!p)window.history.go(-1);else{if(p||window.history.pushState("visited",""),G)return ce(),n(0,G=!1),void(Z=!1);if(D&&D===document?.activeElement&&Math.max(window.visualViewport.width,window.innerWidth)<=750)return D?.focus?.(),D?.blur?.(),void(Z=!1);if(v)return m(At,v=!1,v),void(Z=!1);if(window.checkOpenFullScreenItem?.())return window.closeFullScreenItem?.(),void(Z=!1);if(w)return m(Lt,w=!1,w),void(Z=!1);if(g)return m(Nt,g=!1,g),void(Z=!1);if(window.checkOpenDropdown?.())return window.closeDropdown?.(),void(Z=!1);if(!Z)return Z=!0,void(y?(O.style.overflow="hidden",O.style.overflow="",O?.children?.[0]?.scrollIntoView?.({container:O,behavior:"smooth",block:"nearest",inline:"start"})):(!p&&matchMedia("(hover:hover)").matches||(document.documentElement.style.overflow="hidden",document.documentElement.style.overflow=""),window.scrollTo({top:-9999,behavior:"smooth"})));y?(O.style.overflow="hidden",O.scrollLeft=0,clearTimeout(J),J=setTimeout((()=>{O.style.overflow=""}),100)):(!p&&matchMedia("(hover:hover)").matches||(document.documentElement.style.overflow="hidden"),document.documentElement.scrollTop=0,document.body.scrollTop=0,window.scrollY=0,!p&&matchMedia("(hover:hover)").matches||(clearTimeout(J),J=setTimeout((()=>{document.documentElement.style.overflow=""}),100)));try{JSBridge.willExit()}catch(e){}window.setShouldGoBack(!0),Z=!1}},wt.subscribe((async e=>{await ne(),e?O?.scrollLeft>500&&window.setShouldGoBack(!1):document.documentElement.scrollTop>Math.max(0,O?.offsetTop-55)&&window.setShouldGoBack(!1)})),Lt.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),At.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>Math.max(0,O?.offsetTop-55)&&!Z&&window.setShouldGoBack(!1),qt.update((e=>!e))})),K((()=>{D=document.getElementById("usernameInput"),O=document.getElementById("anime-grid"),O?.addEventListener("scroll",(()=>{O.scrollLeft>Math.max(0,O?.offsetTop-55)&&!Z&&window.setShouldGoBack(!1),y&&qt.update((e=>!e))})),document.getElementById("popup-container").addEventListener("scroll",(()=>{qt.update((e=>!e))}))})),window.setShouldGoBack=e=>{if(e||(Z=!1),p)try{JSBridge.setShouldGoBack(e)}catch(e){}else"visited"!==window.history.state&&window.history.pushState("visited",""),m(Ct,h=e,h)},window.copyToClipBoard=e=>{if(p)try{JSBridge.copyToClipBoard(e)}catch(e){}else navigator?.clipboard?.writeText?.(e)},Mt.subscribe((()=>{clearTimeout(X),z=!0,X=setTimeout((()=>{z=!1}),500)}));let ee,te,ie,oe,le,re,se,ae=!1;function ce(){re?.resolve?.(!1),re=n(1,ee=n(2,te=n(3,ie=n(4,oe=n(5,le=void 0))))),n(0,G=!1)}async function ue(e){if(await i({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,i=n.classList;t=i.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),se&&clearTimeout(se),He(t,"fa-spin"),c&&(c.terminate(),m(ot,c=null,c)),$n().then((async e=>{m(Pt,u=!1,u),se=setTimeout((()=>{qe(t,"fa-spin")}),300),m(ot,c=e.animeLoaderWorker,c),m(xt,a="",a),e?.isNew&&(m(it,s=e.finalAnimeList,s),m(et,r=e.hiddenEntries,r),m(Et,l=e.numberOfNextLoadedGrid,l)),m(lt,o=null,o)})).catch((e=>{throw e}))}}document.addEventListener("pointerdown",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ae=!0,Q&&clearTimeout(Q),Q=setTimeout((()=>{let e=t.getAttribute("copy-value");e&&!f&&ae&&!z&&(t.style.pointerEvents="none",setTimeout((()=>{t.style.pointerEvents=""}),500),window.copyToClipBoard(e))}),500))})),document.addEventListener("pointerup",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ae=!1,Q&&clearTimeout(Q))})),document.addEventListener("pointercancel",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ae=!1,Q&&clearTimeout(Q))})),m(Tt,i=window.confirmPromise=async e=>new Promise((t=>{n(1,ee=e?.isAlert||!1),n(2,te=e?.title||(ee?"Heads Up":"Confirmation")),n(3,ie=("string"==typeof e?e:e?.text)||"Are you sure you want to continue"),n(4,oe=e?.confirmLabel||"OK"),n(5,le=e?.cancelLabel||"CANCEL"),n(0,G=!0),re={resolve:t}})),i),window.updateAppAlert=async()=>{if(await(i?.({title:"New updates are available",text:"You may want to download the new version.",confirmLabel:"DOWNLOAD"})))try{JSBridge.downloadUpdate()}catch(e){window.open("https://github.com/u-Kuro/Kanshi.Anime-Recommendation/raw/main/Kanshi.apk","_blank")}};let de,fe=0,pe=performance.now();Xe.subscribe((e=>{(e>=100||e<=0||performance.now()-pe>300)&&(cancelAnimationFrame(de),de=requestAnimationFrame((()=>{n(6,fe=e)})),pe=performance.now())}));return[G,ee,te,ie,oe,le,fe,u,function(){re?.resolve?.(!0),re=n(1,ee=n(2,te=n(3,ie=n(4,oe=n(5,le=void 0))))),n(0,G=!1)},ce,ue,e=>"Enter"===e.key&&ue(e)]}var hl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};window.FontAwesomeKitConfig={asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrl:"https://ka-f.fontawesome.com",baseUrlKit:"https://kit.fontawesome.com",detectConflictsUntil:null,iconUploads:{},id:76794169,license:"free",method:"css",minify:{enabled:!0},token:"5a5fa257cb",v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},v5FontFaceShim:{enabled:!0},version:"6.2.0"},function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)),i}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){var n,o;n=e,o=i[t],t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n=t&&t.addOn||"",i=(n=t&&t.baseFilename||e.license+n,t&&t.minify?".min":""),o=t&&t.fileSuffix||e.method;return t=t&&t.subdir||e.method,e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/"+t+"/"+n+i+"."+o}function l(e,t){t="."+Array.prototype.join.call(t||["fa"],",."),t=e.querySelectorAll(t),Array.prototype.forEach.call(t,(function(t){var n=t.getAttribute("title"),i=(t.setAttribute("aria-hidden","true"),!t.nextElementSibling||!t.nextElementSibling.classList.contains("sr-only"));n&&i&&((i=e.createElement("span")).innerHTML=n,i.classList.add("sr-only"),t.parentNode.insertBefore(i,t.nextSibling))}))}function r(){}var s,a=void 0!==hl&&void 0!==hl.process&&"function"==typeof hl.process.emit,c="undefined"==typeof setImmediate?setTimeout:setImmediate,u=[];function d(){for(var e=0;e<u.length;e++)u[e][0](u[e][1]);s=!(u=[])}function f(e,t){u.push([e,t]),s||(s=!0,c(d,0))}function p(e){var t=(n=e.owner)._state,n=n._data,i=e[t],o=e.then;if("function"==typeof i){t="fulfilled";try{n=i(n)}catch(e){g(o,e)}}m(o,n)||("fulfilled"===t&&h(o,n),"rejected"===t&&g(o,n))}function m(t,n){var i;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===e(n))){var o=n.then;if("function"==typeof o)return o.call(n,(function(e){i||(i=!0,(n===e?y:h)(t,e))}),(function(e){i||(i=!0,g(t,e))})),1}}catch(o){return i||g(t,o),1}}function h(e,t){e!==t&&m(e,t)||y(e,t)}function y(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(v,e))}function g(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(b,e))}function w(e){e._then=e._then.forEach(p)}function v(e){e._state="fulfilled",w(e)}function b(e){e._state="rejected",w(e),!e._handled&&a&&hl.process.emit("unhandledRejection",e._data,e)}function k(e){hl.process.emit("rejectionHandled",e)}function S(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof S==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[];var t=e,n=this;function i(e){g(n,e)}try{t((function(e){h(n,e)}),i)}catch(t){i(t)}}S.prototype={constructor:S,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(r),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&a&&f(k,this)),"fulfilled"===this._state||"rejected"===this._state?f(p,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},S.all=function(e){if(Array.isArray(e))return new S((function(t,n){for(var i,o=[],l=0,r=0;r<e.length;r++)(i=e[r])&&"function"==typeof i.then?i.then(function(e){return l++,function(n){o[e]=n,--l||t(o)}}(r),n):o[r]=i;l||t(o)}));throw new TypeError("You must pass an array to Promise.all().")},S.race=function(e){if(Array.isArray(e))return new S((function(t,n){for(var i,o=0;o<e.length;o++)(i=e[o])&&"function"==typeof i.then?i.then(t,n):t(i)}));throw new TypeError("You must pass an array to Promise.race().")},S.resolve=function(t){return t&&"object"===e(t)&&t.constructor===S?t:new S((function(e){e(t)}))},S.reject=function(e){return new S((function(t,n){n(e)}))};var x,E,T,A,N="function"==typeof Promise?Promise:S;function $(e,t){var n=t.fetch,i=t.XMLHttpRequest,o=(t=t.token,e);return"URLSearchParams"in window?(o=new URL(e)).searchParams.set("token",t):o=o+"?token="+encodeURIComponent(t),o=o.toString(),new N((function(e,t){var l;"function"==typeof n?n(o,{mode:"cors",cache:"default"}).then((function(e){if(e.ok)return e.text();throw new Error("")})).then((function(t){e(t)})).catch(t):"function"==typeof i?((l=new i).addEventListener("loadend",(function(){this.responseText?e(this.responseText):t(new Error(""))})),["abort","error","timeout"].map((function(e){l.addEventListener(e,(function(){t(new Error(""))}))})),l.open("GET",o),l.send()):t(new Error(""))}))}function L(e,t,n){var o=e;return[[/(url\("?)\.\.\/\.\.\/\.\./g,function(e,n){return"".concat(n).concat(t)}],[/(url\("?)\.\.\/webfonts/g,function(e,i){return"".concat(i).concat(t,"/releases/v").concat(n,"/webfonts")}],[/(url\("?)https:\/\/kit-free([^.])*\.fontawesome\.com/g,function(e,n){return"".concat(n).concat(t)}]].forEach((function(e){t=2,e=function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,l=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}return n}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?i(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t=e[0];e=e[1],o=o.replace(t,e)})),o}function I(e,t,i){i=2<arguments.length&&void 0!==i?i:function(){};var r=t.document||r,s=(r=l.bind(l,r,["fa","fab","fas","far","fal","fad","fak"]),0<Object.keys(e.iconUploads||{}).length);return e.autoA11y.enabled&&i(r),i=[{id:"fa-main",addOn:void 0}],e.v4shim&&e.v4shim.enabled&&i.push({id:"fa-v4-shims",addOn:"-v4-shims"}),e.v5FontFaceShim&&e.v5FontFaceShim.enabled&&i.push({id:"fa-v5-font-face",addOn:"-v5-font-face"}),e.v4FontFaceShim&&e.v4FontFaceShim.enabled&&i.push({id:"fa-v4-font-face",addOn:"-v4-font-face"}),s&&i.push({id:"fa-kit-upload",customCss:!0}),r=i.map((function(i){return new N((function(l,r){$(i.customCss?e.baseUrlKit+"/"+e.token+"/"+e.id+"/kit-upload.css":o(e,{addOn:i.addOn,minify:e.minify.enabled}),t).then((function(o){var r,s,a;l((r=n(n({},t),{},{baseUrl:e.baseUrl,version:e.version,id:i.id,contentFilter:function(e,t){return L(e,t.baseUrl,t.version)}}),s=r.contentFilter||function(e,t){return e},a=document.createElement("style"),s=document.createTextNode(s(o,r)),a.appendChild(s),a.media="all",r.id&&a.setAttribute("id",r.id),r&&r.detectingConflicts&&r.detectionIgnoreAttr&&a.setAttributeNode(document.createAttribute(r.detectionIgnoreAttr)),a))})).catch(r)}))})),N.all(r)}function C(e,t){t.autoA11y=e.autoA11y.enabled,"pro"===e.license&&(t.autoFetchSvg=!0,t.fetchSvgFrom=e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/svgs",t.fetchUploadedSvgFrom=e.uploadsUrl);var i=[];return e.v4shim.enabled&&i.push(new N((function(i,l){$(o(e,{addOn:"-v4-shims",minify:e.minify.enabled}),t).then((function(e){i(P(e,n(n({},t),{},{id:"fa-v4-shims"})))})).catch(l)}))),i.push(new N((function(i,l){$(o(e,{minify:e.minify.enabled}),t).then((function(e){var o,l,r;e=P(e,n(n({},t),{},{id:"fa-main"})),i((l=(o=t)&&void 0!==o.autoFetchSvg?o.autoFetchSvg:void 0,void 0!==(r=o&&void 0!==o.autoA11y?o.autoA11y:void 0)&&e.setAttribute("data-auto-a11y",r?"true":"false"),l&&(e.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),e.setAttribute("data-fetch-svg-from",o.fetchSvgFrom),e.setAttribute("data-fetch-uploaded-svg-from",o.fetchUploadedSvgFrom)),e))})).catch(l)}))),N.all(i)}function P(e,t){var n=document.createElement("SCRIPT");return e=document.createTextNode(e),n.appendChild(e),n.referrerPolicy="strict-origin",t.id&&n.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),n}function M(e){var t,n=[],i=document,o=(i.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);o||i.addEventListener("DOMContentLoaded",t=function(){for(i.removeEventListener("DOMContentLoaded",t),o=1;t=n.shift();)t()}),o?setTimeout(e,0):n.push(e)}try{window.FontAwesomeKitConfig&&(x=window.FontAwesomeKitConfig,E={detectingConflicts:x.detectConflictsUntil&&new Date<=new Date(x.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",fetch:window.fetch,token:x.token,XMLHttpRequest:window.XMLHttpRequest,document:document},T=document.currentScript,A=T?T.parentElement:document.head,function(e,t){return t=1<arguments.length&&void 0!==t?t:{},"js"===(e=0<arguments.length&&void 0!==e?e:{}).method?C(e,t):"css"===e.method?I(e,t,(function(e){M(e),"undefined"!=typeof MutationObserver&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})})):void 0}(x,E).then((function(e){e.map((function(e){try{A.insertBefore(e,T?T.nextSibling:null)}catch(t){A.appendChild(e)}})),E.detectingConflicts&&T&&M((function(){T.setAttributeNode(document.createAttribute(E.detectionIgnoreAttr)),e=x,n=E,t=document.createElement("script"),n.detectionIgnoreAttr&&t.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),t.src=o(e,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:e.minify.enabled});var e,t,n=t;document.body.appendChild(n)}))})).catch((function(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))})))}catch(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))}}();return new class extends Ne{constructor(e){super(),Ae(this,e,ml,fl,r,{},null,[-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
