var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function c(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function a(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function d(e){return null==e?"":e}function f(e,t,n){return e.set(n),t}function p(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const m="undefined"!=typeof window;let h=m?()=>window.performance.now():()=>Date.now(),y=m?e=>requestAnimationFrame(e):e;const v=new Set;function g(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&y(g)}function w(e){let t;return 0===v.size&&y(g),{promise:new Promise((n=>{v.add(t={c:e,f:n})})),abort(){v.delete(t)}}}function b(e,t){e.appendChild(t)}function k(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function S(e){const t=A("style");return function(e,t){b(e.head||e,t),t.sheet}(k(e),t),t.sheet}function x(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function q(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function A(e){return document.createElement(e)}function N(e){return document.createTextNode(e)}function T(){return N(" ")}function $(){return N("")}function I(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function C(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function L(e,t){t=""+t,e.data!==t&&(e.data=t)}function F(e,t){e.value=null==t?"":t}function D(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function M(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}const j=new Map;let P,O=0;function _(e,t,n,o,i,r,l,s=0){const c=16.666/o;let a="{\n";for(let e=0;e<=1;e+=c){const o=t+(n-t)*r(e);a+=100*e+`%{${l(o,1-o)}}\n`}const u=a+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,f=k(e),{stylesheet:p,rules:m}=j.get(f)||function(e,t){const n={stylesheet:S(t),rules:{}};return j.set(e,n),n}(f,e);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${i}ms 1 both`,O+=1,d}function U(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),O-=i,O||y((()=>{O||(j.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&E(t)})),j.clear())})))}function R(e){P=e}function B(){if(!P)throw new Error("Function called outside component initialization");return P}function V(e){B().$$.on_mount.push(e)}const H=[],W=[];let z=[];const K=[],Y=Promise.resolve();let G=!1;function J(){G||(G=!0,Y.then(ne))}function X(){return J(),Y}function Q(e){z.push(e)}const Z=new Set;let ee,te=0;function ne(){if(0!==te)return;const e=P;do{try{for(;te<H.length;){const e=H[te];te++,R(e),oe(e.$$)}}catch(e){throw H.length=0,te=0,e}for(R(null),H.length=0,te=0;W.length;)W.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];Z.has(t)||(Z.add(t),t())}z.length=0}while(H.length);for(;K.length;)K.pop()();G=!1,Z.clear(),R(e)}function oe(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}function ie(){return ee||(ee=Promise.resolve(),ee.then((()=>{ee=null}))),ee}function re(e,t,n){e.dispatchEvent(M(`${t?"intro":"outro"}${n}`))}const le=new Set;let se;function ce(){se={r:0,c:[],p:se}}function ae(){se.r||i(se.c),se=se.p}function ue(e,t){e&&e.i&&(le.delete(e),e.i(t))}function de(e,t,n,o){if(e&&e.o){if(le.has(e))return;le.add(e),se.c.push((()=>{le.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const fe={duration:0};function pe(n,o,l,s){const c={direction:"both"};let a=o(n,l,c),u=s?0:1,d=null,f=null,p=null;function m(){p&&U(n,p)}function y(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(o){const{delay:r=0,duration:l=300,easing:s=t,tick:c=e,css:v}=a||fe,g={start:h()+r,b:o};o||(g.group=se,se.r+=1),d||f?f=g:(v&&(m(),p=_(n,u,o,l,r,s,v)),o&&c(0,1),d=y(g,l),Q((()=>re(n,o,"start"))),w((e=>{if(f&&e>f.start&&(d=y(f,l),f=null,re(n,d.b,"start"),v&&(m(),p=_(n,u,d.b,d.duration,0,s,a.css))),d)if(e>=d.end)c(u=d.b,1-u),re(n,d.b,"end"),f||(d.b?m():--d.group.r||i(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),c(u,1-u)}return!(!d&&!f)})))}return{run(e){r(a)?ie().then((()=>{a=a(c),v(e)})):v(e)},end(){m(),d=f=null}}}function me(e,t){e.d(1),t.delete(e.key)}function he(e,t){de(e,1,1,(()=>{t.delete(e.key)}))}function ye(e,t,n,o,r,l,s,c,a,u,d,f){let p=e.length,m=l.length,h=p;const y={};for(;h--;)y[e[h].key]=h;const v=[],g=new Map,w=new Map,b=[];for(h=m;h--;){const e=f(r,l,h),i=n(e);let c=s.get(i);c?o&&b.push((()=>c.p(e,t))):(c=u(i,e),c.c()),g.set(i,v[h]=c),i in y&&w.set(i,Math.abs(h-y[i]))}const k=new Set,S=new Set;function x(e){ue(e,1),e.m(c,d),s.set(e.key,e),d=e.first,m--}for(;p&&m;){const t=v[m-1],n=e[p-1],o=t.key,i=n.key;t===n?(d=t.first,p--,m--):g.has(i)?!s.has(o)||k.has(o)?x(t):S.has(i)?p--:w.get(o)>w.get(i)?(S.add(o),x(t)):(k.add(i),p--):(a(n,s),p--)}for(;p--;){const t=e[p];g.has(t.key)||a(t,s)}for(;m;)x(v[m-1]);return i(b),v}function ve(e){e&&e.c()}function ge(e,t,o,l){const{fragment:s,after_update:c}=e.$$;s&&s.m(t,o),l||Q((()=>{const t=e.$$.on_mount.map(n).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),c.forEach(Q)}function we(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];z.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),z=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(t,n,r,l,s,c,a,u=[-1]){const d=P;R(t);const f=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=r?r(t,n.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(H.push(e),J(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(E)}else f.fragment&&f.fragment.c();n.intro&&ue(t.$$.fragment),ge(t,n.target,n.anchor,n.customElement),ne()}R(d)}class ke{$destroy(){we(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Se=[];function xe(t,n=e){let o;const i=new Set;function r(e){if(l(t,e)&&(t=e,o)){const e=!Se.length;for(const e of i)e[1](),Se.push(e,t);if(e){for(let e=0;e<Se.length;e+=2)Se[e][0](Se[e+1]);Se.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(l,s=e){const c=[l,s];return i.add(c),1===i.size&&(o=n(r)||e),l(t),()=>{i.delete(c),0===i.size&&o&&(o(),o=null)}}}}const Ee=xe(null),qe=xe(!0),Ae=xe(null),Ne=xe(null),Te=xe(null),$e=xe(null),Ie=xe(null),Ce=xe(null),Le=xe(null),Fe=xe(null),De=xe(null),Me=xe(null),je=xe(null),Pe=xe(null),Oe=xe(null),_e=xe(null),Ue=xe([]),Re=xe(null),Be=xe(!0),Ve=xe(null),He=xe(null),We=xe(!1),ze=xe(""),Ke=xe(null),Ye=xe(!1),Ge=xe(!1),Je=xe(null),Xe=xe(!1),Qe=xe(null),Ze=xe(!0),et=xe(null),tt=xe(null),nt=xe(null),ot=xe(null),it=xe(null),rt=xe(null),lt=xe(null),st=xe(null),ct=xe(null),at=e=>"[object Object]"===Object.prototype.toString.call(e);function ut(e,t,n=.5){try{"string"==typeof e&&(e=document.querySelector(parentSelector));var o=e.querySelectorAll(t),i=null,r=0;return o.forEach((t=>{var o=e.getBoundingClientRect(),l=t.getBoundingClientRect(),s=(Math.min(l.bottom,o.bottom)-Math.max(l.top,o.top))/l.height;s>=n&&s>r&&(r=s,i=t)})),i}catch(e){return}}const dt=(e,t)=>{try{return Array.from(e.parentElement.children).indexOf(e)}catch(e){return}},ft=(e,t,n="top",o,i=0)=>{try{let r;if(e===window)r=t.offsetTop;else if("string"==typeof e&&(e=document.querySelector(e)),"string"==typeof t&&(t=document.querySelector(t)),"bottom"===n)r=t.offsetTop+t.offsetHeight-e.offsetHeight;else{let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();r=n.top-o.top+e.scrollTop}e===window?"smooth"===o?window.scrollTo({top:r+i,behavior:"smooth"}):window.scrollTo({top:r+i}):"smooth"===o?e.scrollBy({top:r+i,behavior:"smooth"}):e.scrollTop=r+i}catch(e){return}},pt=(e,t=2)=>{if("number"==typeof e){const n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:0,notation:"compact",compactDisplay:"short"});return Math.abs(e)>=1e3?n.format(e):Math.abs(e)<.01?e.toExponential(0):e.toFixed(t)||e.toLocaleString("en-US",{maximumFractionDigits:t})}return null},mt=(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),ht=(e,t)=>{let n=Math.max(e.selectionStart-1||0,0);e.value=t,e.setSelectionRange(n,n)},yt=()=>{try{return JSBridge.exportJSON,!0}catch(e){return!1}};let vt;function gt(e,t,n){const o=e.slice();return o[25]=t[n],o}function wt(e,t,n){const o=e.slice();return o[25]=t[n],o}function bt(e,t,n){const o=e.slice();return o[28]=t[n],o[29]=t,o[30]=n,o}function kt(t){let n;return{c(){n=A("div"),n.textContent="No Results",C(n,"class","empty svelte-k2sp4z")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function St(t){let n,o=Array(10),i=[];for(let e=0;e<o.length;e+=1)i[e]=Et(gt(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=$()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);x(e,n,t)},p:e,d(e){q(i,e),e&&E(n)}}}function xt(e){let t,n,o=[],i=new Map,r=e[3]||[];const l=e=>e[28].id;for(let t=0;t<r.length;t+=1){let n=bt(e,r,t),s=l(n);i.set(s,o[t]=Nt(s,n))}let s=e[3]?.length&&!e[2]&&Tt(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T(),s&&s.c(),n=$()},m(e,i){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,i);x(e,t,i),s&&s.m(e,i),x(e,n,i)},p(e,c){2027&c[0]&&(r=e[3]||[],o=ye(o,c,l,1,e,r,i,t.parentNode,me,Nt,t,bt)),e[3]?.length&&!e[2]?s?s.p(e,c):(s=Tt(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&E(t),s&&s.d(e),e&&E(n)}}}function Et(t){let n;return{c(){n=A("div"),n.innerHTML='<div class="shimmer svelte-k2sp4z"></div> \n                    <span class="image-grid__card-title svelte-k2sp4z"><span class="title skeleton shimmer svelte-k2sp4z"></span> \n                        <span class="brief-info skeleton shimmer svelte-k2sp4z"></span></span> \n                ',C(n,"class","image-grid__card skeleton svelte-k2sp4z")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function qt(e){let t,n=(pt(e[28].weightedScore)||"N/A")+"";return{c(){t=N(n)},m(e,n){x(e,t,n)},p(e,o){8&o[0]&&n!==(n=(pt(e[28].weightedScore)||"N/A")+"")&&L(t,n)},d(e){e&&E(t)}}}function At(e){let t,n=(e[9](e[28])||"N/A")+"";return{c(){t=N(n)},m(e,n){x(e,t,n)},p(e,o){8&o[0]&&n!==(n=(e[9](e[28])||"N/A")+"")&&L(t,n)},d(e){e&&E(t)}}}function Nt(e,t){let n,o,l,s,a,u,f,p,m,h,y,v,g,w,k,S,q,$,F,M,j,P,O,_,U=(t[28].title||"N/A")+"",R=`${t[28].format||"N/A"}${t[28].episodes?" ["+t[28].episodes+"]":""}`,B=t[29],V=t[30];function H(...e){return t[11](t[30],...e)}function W(e,t){return e[1]?At:qt}let z=W(t),K=z(t);const Y=()=>t[12](n,B,V),G=()=>t[12](null,B,V);return{key:e,first:null,c(){n=A("div"),o=A("div"),l=A("img"),a=T(),u=A("span"),f=A("span"),p=N(U),m=T(),h=A("span"),y=A("div"),v=A("i"),w=T(),k=N(R),S=T(),q=A("div"),$=A("i"),M=T(),K.c(),C(l,"class","image-grid__card-thumb svelte-k2sp4z"),C(l,"alt","anime-cover"),c(l.src,s=t[28].coverImageUrl||"")||C(l,"src",s),D(l,"opacity","0"),C(o,"class","shimmer svelte-k2sp4z"),C(f,"class","title svelte-k2sp4z"),C(v,"class",g=d(`${t[10](t[28].userStatus)}-color fa-solid fa-circle`)+" svelte-k2sp4z"),C(y,"class","brief-info svelte-k2sp4z"),C($,"class",F=d(`${Ct(t[28])}-color fa-solid fa-star`)+" svelte-k2sp4z"),C(q,"class","brief-info svelte-k2sp4z"),C(h,"class","brief-info svelte-k2sp4z"),C(u,"class","image-grid__card-title copy svelte-k2sp4z"),C(u,"copy-value",j=t[28].title||""),C(n,"class","image-grid__card svelte-k2sp4z"),C(n,"title",P=t[8](t[28])),D(n,"--content-visibility",t[0]||"visible"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,l),b(n,a),b(n,u),b(u,f),b(f,p),b(u,m),b(u,h),b(h,y),b(y,v),b(y,w),b(y,k),b(h,S),b(h,q),b(q,$),b(q,M),K.m(q,null),Y(),O||(_=[I(l,"load",Lt),I(l,"click",(function(){r(t[5](t[30]))&&t[5](t[30]).apply(this,arguments)})),I(l,"pointerdown",(function(){r(t[6](t[30]))&&t[6](t[30]).apply(this,arguments)})),I(l,"pointerup",t[7]),I(l,"pointercancel",t[7]),I(l,"keydown",H)],O=!0)},p(e,o){t=e,8&o[0]&&!c(l.src,s=t[28].coverImageUrl||"")&&C(l,"src",s),8&o[0]&&U!==(U=(t[28].title||"N/A")+"")&&L(p,U),8&o[0]&&g!==(g=d(`${t[10](t[28].userStatus)}-color fa-solid fa-circle`)+" svelte-k2sp4z")&&C(v,"class",g),8&o[0]&&R!==(R=`${t[28].format||"N/A"}${t[28].episodes?" ["+t[28].episodes+"]":""}`)&&L(k,R),8&o[0]&&F!==(F=d(`${Ct(t[28])}-color fa-solid fa-star`)+" svelte-k2sp4z")&&C($,"class",F),z===(z=W(t))&&K?K.p(t,o):(K.d(1),K=z(t),K&&(K.c(),K.m(q,null))),8&o[0]&&j!==(j=t[28].title||"")&&C(u,"copy-value",j),8&o[0]&&P!==(P=t[8](t[28]))&&C(n,"title",P),B===t[29]&&V===t[30]||(G(),B=t[29],V=t[30],Y()),1&o[0]&&D(n,"--content-visibility",t[0]||"visible")},d(e){e&&E(n),K.d(),G(),O=!1,i(_)}}}function Tt(t){let n,o=Array(6),i=[];for(let e=0;e<o.length;e+=1)i[e]=$t(wt(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=$()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);x(e,n,t)},p:e,d(e){q(i,e),e&&E(n)}}}function $t(t){let n;return{c(){n=A("div"),n.innerHTML='<div class="shimmer svelte-k2sp4z"></div> \n                        <span class="image-grid__card-title svelte-k2sp4z"><span class="title skeleton shimmer svelte-k2sp4z"></span> \n                            <span class="brief-info skeleton shimmer svelte-k2sp4z"></span></span> \n                    ',C(n,"class","image-grid__card skeleton svelte-k2sp4z")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function It(t){let n,o;function i(e,t){return e[3]?.length?xt:!e[3]||e[4]?St:kt}let r=i(t),l=r(t);return{c(){n=A("main"),o=A("div"),l.c(),C(o,"id","anime-grid"),C(o,"class","image-grid svelte-k2sp4z"),C(n,"class","svelte-k2sp4z")},m(e,t){x(e,n,t),b(n,o),l.m(o,null)},p(e,t){r===(r=i(e))&&l?l.p(e,t):(l.d(1),l=r(e),l&&(l.c(),l.m(o,null)))},i:e,o:e,d(e){e&&E(n),l.d()}}}function Ct({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":o<t?"purple":o<n?"orange":e?.semiCaution?.length?"teal":"green"}const Lt=e=>e.target.style.opacity=1;function Ft(e,t,n){let o,i,r,l,s,c,u,d,p,m,h,y,v,g,w;function b(e){f(Qe,s=e,s),f(Xe,l=!0,l)}a(e,Te,(e=>n(1,o=e))),a(e,Ge,(e=>n(15,i=e))),a(e,Je,(e=>n(16,r=e))),a(e,Xe,(e=>n(17,l=e))),a(e,Qe,(e=>n(18,s=e))),a(e,Ce,(e=>n(19,c=e))),a(e,We,(e=>n(2,u=e))),a(e,Ve,(e=>n(20,d=e))),a(e,Ie,(e=>n(3,p=e))),a(e,He,(e=>n(21,m=e))),a(e,nt,(e=>n(22,h=e))),a(e,Le,(e=>n(23,y=e))),a(e,Be,(e=>n(4,v=e))),Ce.subscribe((e=>{e instanceof Worker&&(e.onmessage=async({data:e})=>{if(await X(),void 0!==e?.status)f(Le,y=e.status,y);else if(e.finalAnimeList instanceof Array&&p instanceof Array)!0===e?.reload?(f(Ie,p=e.finalAnimeList,p),f(nt,h=!h,h)):!0===e.isNew?f(Ie,p=e.finalAnimeList,p):!1===e.isNew&&(f(Ie,p=p.concat(e.finalAnimeList),p),e.isLast&&(f(We,u=!0,u),d instanceof IntersectionObserver&&(d.disconnect(),f(Ve,d=null,d))));else if(!0===e.isRemoved&&"number"==typeof e.removedID){d instanceof IntersectionObserver&&p[Math.max(p.length-2,0)].gridElement instanceof Element&&d.observe(p[Math.max(p.length-2,0)].gridElement);let t=p.findIndex((({id:t})=>t===e.removedID));f(Ie,p=p.filter((({id:t})=>t!==e.removedID)),p),t>=0&&f(He,m=t,m)}},e.onerror=e=>{console.error(e)})})),Ie.subscribe((e=>{e instanceof Array&&e.length?(u&&f(We,u=!1,u),d&&(d.disconnect(),f(Ve,d=null,d)),(async()=>{await X(),f(Ve,d=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),g&&clearTimeout(g),g=setTimeout((()=>{c instanceof Worker&&c.postMessage({loadMore:!0})}),1e3))}))}),{root:null,rootMargin:"100%",threshold:0}),d),d instanceof IntersectionObserver&&p[p.length-1].gridElement instanceof Element&&d.observe(p[p.length-1].gridElement)})()):d&&(d?.disconnect?.(),f(Ve,d=null,d))})),ze.subscribe((async e=>{"string"==typeof e&&c instanceof Worker&&(f(We,u=!1,u),c.postMessage({filterKeyword:e}))}));let k="auto";window.addEventListener("scroll",(()=>{window.scrollY>=265?n(0,k="visible"):n(0,k="auto")}));return[k,o,u,p,v,b,function(e){w&&clearTimeout(w),w=setTimeout((()=>{f(Je,r=e,r),f(Ge,i=!0,i)}),500)},function(){w&&clearTimeout(w)},function({contentCaution:e,favoriteContents:t,meanScoreAll:n,meanScoreAbove:o,score:i}){let r=[];t?.forEach((e=>{at(e)?r.push(Object.keys(e)[0]):"string"==typeof e&&r.push(e)}));let l=(e?.caution||[]).concat(e?.semiCaution||[]);i<n?l.push(`Very Low Score (mean: ${pt(n)})`):i<o&&l.push(`Low Score (mean: ${pt(o)})`);let s="";return r.length&&(s+="Favorite Contents: "+r.join(", ")||""),l.length&&(s+="\n\nContent Cautions: "+l.join(", ")),s},function({weightedScore:e,score:t,averageScore:n,userScore:i}){let r=o?.sortFilter.filter((({sortType:e})=>"none"!==e))?.[0]?.sortName;return"score"===r?pt(t):"user score"===r?i:"average score"===r?n:pt(e)},function(e){return mt(e,"completed")?"green":mt(e,"current")||mt(e,"repeating")?"blue":mt(e,"planning")?"orange":mt(e,"paused")?"peach":mt(e,"dropped")?"red":"lightgrey"},(e,t)=>"Enter"===t.key&&b(e),function(e,t,n){W[e?"unshift":"push"]((()=>{t[n].gridElement=e}))}]}let Dt,Mt=1e3,jt=!1;const Pt=e=>(jt=!0,new Promise(((t,n)=>{Dt&&Dt.terminate(),Dt=new Worker("./webapi/worker/animeLoader.js"),Dt.postMessage(e),Dt.onmessage=({data:e})=>{void 0!==e?.status?(jt=!0,Le.set(e.status)):e?.isNew&&(jt=!1,Dt.onmessage=null,t(Object.assign({},e,{animeLoaderWorker:Dt})))},Dt.onerror=e=>{n(e)}})));let Ot,_t;const Ut=e=>(jt=!0,new Promise(((t,n)=>{_t&&_t.terminate(),_t=new Worker("./webapi/worker/processRecommendedAnimeList.js"),Ot&&clearTimeout(Ot),_t.postMessage(e),_t.onmessage=({data:e})=>{void 0!==e?.status?(jt=!0,Le.set(e.status)):(jt=!1,Ot=setTimeout((()=>{_t.terminate()}),Mt),t())},_t.onerror=e=>{n(e)}})));let Rt,Bt;const Vt=e=>new Promise(((t,n)=>{Bt&&Bt.terminate(),Bt=new Worker("./webapi/worker/requestAnimeEntries.js"),Rt&&clearTimeout(Rt),Bt.postMessage(e),Bt.onmessage=({data:e})=>{void 0!==e?.status?jt||Le.set(e.status):void 0!==e?.updateRecommendationList?rt.update((e=>!e)):e?.lastRunnedAutoUpdateDate instanceof Date&&!isNaN(e?.lastRunnedAutoUpdateDate)?Me.set(e.lastRunnedAutoUpdateDate):(void 0!==e?.errorDuringInit||(Rt=setTimeout((()=>{Bt.terminate()}),Mt)),t(e))},Bt.onerror=e=>{n(e)}}));let Ht,Wt;const zt=e=>new Promise(((t,n)=>{Wt&&Wt.terminate(),Wt=new Worker("./webapi/worker/requestUserEntries.js"),Ht&&clearTimeout(Ht),Wt.postMessage(e),Wt.onmessage=({data:e})=>{void 0!==e?.status?jt||Le.set(e.status):void 0!==e?.updateRecommendationList?rt.update((e=>!e)):(Ht=setTimeout((()=>{Wt.terminate()}),Mt),t(e))},Wt.onerror=e=>{n(e)}}));let Kt;const Yt=e=>new Promise(((e,t)=>{Kt&&Kt.terminate(),Kt=new Worker("./webapi/worker/exportUserData.js"),yt()?Kt.postMessage("android"):Kt.postMessage("browser"),Kt.onmessage=({data:t})=>{if(void 0!==t?.status)jt=!0,Le.set(t.status);else if(yt()){jt=!1;let n=t.chunk,o=t.state;if(0===o)JSBridge.exportJSON("",0,"");else if(1===o)JSBridge.exportJSON(n,1,"");else if(2===o){let o=t.username??null;JSBridge.exportJSON(n,2,`Kanshi.${o?.toLowerCase()||"Backup"}.json`),Kt.terminate(),e(t)}}else{jt=!1;let n=t.username??null;((e,t)=>{vt&&setTimeout((()=>URL.revokeObjectURL(vt)),0),vt=e;const n=document.createElement("a");n.href=e,n.download=t,n.click()})(t.url,`Kanshi.${n?.toLowerCase()||"Backup"}.json`),e(t)}},Kt.onerror=e=>{t(e)}}));let Gt,Jt;const Xt=e=>{let t=new Worker("./webapi/worker/getIDBdata.js");return new Promise(((n,o)=>{t.postMessage({name:e}),t.onmessage=({data:e})=>{void 0!==e?.status?Le.set(e.status):(t.terminate(),n(e))},t.onerror=e=>{o(e)}}))},Qt=(e,t)=>new Promise(((n,o)=>{let i=new Worker("./webapi/worker/saveIDBdata.js");i.onmessage=({data:e})=>{void 0!==e?.status?Le.set(e.status):(setTimeout((()=>{i.terminate(),i=null}),Mt),n())},i.onerror=e=>{o(e)},i.postMessage({data:e,name:t})}));let Zt;let en;let tn;const nn=e=>new Promise(((t,n)=>{let o=new Worker("./webapi/worker/getFilterOptions.js");tn&&clearTimeout(tn),o.postMessage(e),o.onmessage=({data:e})=>{void 0!==e?.status?(jt=!0,Le.set(e.status)):(jt=!1,tn=setTimeout((()=>{o.terminate()}),Mt),t(e))},o.onerror=e=>{n(e)}}));function on(e,t){return new Promise((async(n,o)=>{await Qt(e,t).then((e=>{n(e)})).catch((e=>{o(e)}))}))}async function rn(e){return new Promise((async(t,n)=>{await Xt(e).then((e=>{t(e)})).catch((e=>{n(e)}))}))}function ln(e,t={}){if(e instanceof Window||e instanceof Element||e instanceof Document)e=[e];else if("string"==typeof e||e instanceof String){if(0===(e=document.querySelectorAll(e)).length)return;e=Array.from(e)}else if(!(e instanceof HTMLCollection||e instanceof NodeList))return;if(void 0!==t.keyframes||void 0!==t.keyframe){const o={duration:200,fill:"forwards",easing:"ease"};let i=[];for(const e in t)"keyframes"!==e&&"keyframe"!==e&&"styles"!==e&&"style"!==e&&(o[e]=t[e]);const r=t.keyframes||t.keyframe;if("number"==typeof o.duration&&r instanceof Array)for(let t=0;t<e.length;t++)n(e[t])&&i.push([e[t].animate(r,o),e[t]]);if(void 0===t.onfinish){const e=r.slice(-1)[0];i.forEach((([n,o],r)=>{n.onfinish=()=>{Object.assign(o.style,e),n.cancel(),r===i.length-1&&"function"==typeof t.callback&&t.callback()}}))}return i=i.map((e=>e[0])),1===i.length?i[0]:i}if(void 0!==t.styles||void 0!==t.style){const n=t?.styles||t?.style;if(n)for(let t=0;t<e.length;t++)o(e[t])&&Object.assign(e[t].style,n);return e}return;function n(e){return Element.prototype.animate.toString()===e?.animate?.toString?.()}function o(e){return e?.style instanceof CSSStyleDeclaration}}function sn(e,t=new Function){var n,o,i,r,l,s=!1,c=!1;function a(t){if(t.pointerId===l&&s){o=t.clientX,r=t.clientY;const l=o-n;l>r-i&&l>=25||c&&l>=0?(c=!0,ct.update((e=>!e)),ln(e,{keyframes:[{transform:`translateX(${l}px)`}]})):c&&l<=0&&ln(e,{keyframes:[{transform:"translateX(0)"}]})}else e.removeEventListener("pointermove",a),h("none",e)}function u(t){if(d&&clearTimeout(d),e.removeEventListener("pointermove",a),t.pointerId===l&&s){o=t.clientX;var i=e.getBoundingClientRect(),r=Math.min(i.width,window.innerWidth);h(o-n>=.4*r?"slideRight":"none",e),m()}}let d;function f(t){d&&clearTimeout(d),d=setTimeout((()=>{n=t.clientX,i=t.clientY,l=t.pointerId,e.setPointerCapture(l),s=!0,e.addEventListener("pointermove",a)}),100)}function p(t){d&&clearTimeout(d),e.removeEventListener("pointermove",a),t.pointerId===l&&s&&(h("none",e),m())}function m(){e.releasePointerCapture(l),c=!1,s=!1}function h(e,n){"slideRight"===e?ln(n,{keyframes:[{transform:`translateX(${window.innerWidth}px)`}],callback:()=>{t().then((()=>{ln(n,{styles:{transform:""}})}))}}):"none"===e&&ln(n,{keyframes:[{transform:""}]})}return e.addEventListener("pointerdown",f),e.addEventListener("pointerup",u),e.addEventListener("pointercancel",p),()=>{e.removeEventListener("pointerdown",f),e.removeEventListener("pointerup",u),e.removeEventListener("pointermove",a),e.removeEventListener("pointercancel",p)}}function cn(e,t,n){const o=e.slice();return o[41]=t[n],o[42]=t,o[43]=n,o}function an(e,t,n){const o=e.slice();return o[44]=t[n],o[46]=n,o}function un(e,t,n){const o=e.slice();return o[47]=t[n],o[46]=n,o}function dn(e,t,n){const o=e.slice();return o[49]=t[n][0],o[50]=t[n][1],o}function fn(e,t,n){const o=e.slice();return o[53]=t[n],o[46]=n,o}function pn(e,t,n){const o=e.slice();return o[49]=t[n][0],o[50]=t[n][1],o[56]=n,o}function mn(e){let t,n,o=[],i=new Map,r=e[3]||[];const l=e=>e[41].id;for(let t=0;t<r.length;t+=1){let n=cn(e,r,t),s=l(n);i.set(s,o[t]=Ln(s,n))}let s=e[3]?.length&&!e[4]&&Fn();return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T(),s&&s.c(),n=$()},m(e,i){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,i);x(e,t,i),s&&s.m(e,i),x(e,n,i)},p(e,c){1996&c[0]&&(r=e[3]||[],o=ye(o,c,l,1,e,r,i,t.parentNode,me,Ln,t,cn)),e[3]?.length&&!e[4]?s||(s=Fn(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&E(t),s&&s.d(e),e&&E(n)}}}function hn(e){let t;return{c(){t=A("div"),C(t,"class","trailer"),D(t,"display","none")},m(e,n){x(e,t,n)},d(e){e&&E(t)}}}function yn(t){let n;return{c(){n=N("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function vn(e){let t,n=[],o=new Map,i=Object.entries(e[41].studios||{});const r=e=>e[49];for(let t=0;t<i.length;t+=1){let l=pn(e,i,t),s=r(l);o.set(s,n[t]=wn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){8&l[0]&&(i=Object.entries(e[41].studios||{}),n=ye(n,l,r,1,e,i,o,t.parentNode,me,wn,t,pn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function gn(e){let t,n,o,i,r=e[49]+(Object.entries(e[41]?.studios||{}).length-1>e[56]?", ":"");return{c(){t=A("a"),n=N(r),C(t,"class","copy svelte-1mqqo87"),C(t,"copy-value",o=e[49]||""),C(t,"rel","noopener noreferrer"),C(t,"target","_blank"),C(t,"href",i=e[50]||"")},m(e,o){x(e,t,o),b(t,n)},p(e,l){8&l[0]&&r!==(r=e[49]+(Object.entries(e[41]?.studios||{}).length-1>e[56]?", ":""))&&L(n,r),8&l[0]&&o!==(o=e[49]||"")&&C(t,"copy-value",o),8&l[0]&&i!==(i=e[50]||"")&&C(t,"href",i)},d(e){e&&E(t)}}}function wn(e,t){let n,o,i=t[49]&&gn(t);return{key:e,first:null,c(){n=$(),i&&i.c(),o=$(),this.first=n},m(e,t){x(e,n,t),i&&i.m(e,t),x(e,o,t)},p(e,n){(t=e)[49]?i?i.p(t,n):(i=gn(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&E(n),i&&i.d(e),e&&E(o)}}}function bn(t){let n;return{c(){n=N("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function kn(e){let t,n=[],o=new Map,i=e[41].genres;const r=e=>e[53];for(let t=0;t<i.length;t+=1){let l=fn(e,i,t),s=r(l);o.set(s,n[t]=Sn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){8&l[0]&&(i=e[41].genres,n=ye(n,l,r,1,e,i,o,t.parentNode,me,Sn,t,fn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function Sn(e,t){let n,o,i,r,l=(t[46]<t[41].genres.length-1?t[53]+", ":t[53])+"";return{key:e,first:null,c(){n=A("span"),o=N(l),i=T(),C(n,"class","copy"),C(n,"copy-value",r=t[53]||""),this.first=n},m(e,t){x(e,n,t),b(n,o),b(n,i)},p(e,i){t=e,8&i[0]&&l!==(l=(t[46]<t[41].genres.length-1?t[53]+", ":t[53])+"")&&L(o,l),8&i[0]&&r!==(r=t[53]||"")&&C(n,"copy-value",r)},d(e){e&&E(n)}}}function xn(t){let n;return{c(){n=N("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function En(e){let t,n=[],o=new Map,i=e[41].favoriteContents||[];const r=e=>e[47];for(let t=0;t<i.length;t+=1){let l=un(e,i,t),s=r(l);o.set(s,n[t]=Tn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){8&l[0]&&(i=e[41].favoriteContents||[],n=ye(n,l,r,1,e,i,o,t.parentNode,me,Tn,t,un))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function qn(e){let t,n,o,i,r=e[47]+(e[46]<e[41].favoriteContents.length-1?", ":"");return{c(){t=A("span"),n=N(r),o=T(),C(t,"class","copy"),C(t,"copy-value",i=e[47]||"")},m(e,i){x(e,t,i),b(t,n),b(t,o)},p(e,o){8&o[0]&&r!==(r=e[47]+(e[46]<e[41].favoriteContents.length-1?", ":""))&&L(n,r),8&o[0]&&i!==(i=e[47]||"")&&C(t,"copy-value",i)},d(e){e&&E(t)}}}function An(e){let t,n=[],o=new Map,i=Object.entries(e[47])||[];const r=e=>e[49];for(let t=0;t<i.length;t+=1){let l=dn(e,i,t),s=r(l);o.set(s,n[t]=Nn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){8&l[0]&&(i=Object.entries(e[47])||[],n=ye(n,l,r,1,e,i,o,t.parentNode,me,Nn,t,dn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function Nn(e,t){let n,o,i,r,l,s=t[49]+"",c=t[46]<t[41].favoriteContents.length-1?", ":"";return{key:e,first:null,c(){n=A("a"),o=N(s),l=N(c),C(n,"class","copy svelte-1mqqo87"),C(n,"copy-value",i=t[49]||""),C(n,"rel","noopener noreferrer"),C(n,"target","_blank"),C(n,"href",r=t[50]),this.first=n},m(e,t){x(e,n,t),b(n,o),x(e,l,t)},p(e,a){t=e,8&a[0]&&s!==(s=t[49]+"")&&L(o,s),8&a[0]&&i!==(i=t[49]||"")&&C(n,"copy-value",i),8&a[0]&&r!==(r=t[50])&&C(n,"href",r),8&a[0]&&c!==(c=t[46]<t[41].favoriteContents.length-1?", ":"")&&L(l,c)},d(e){e&&E(n),e&&E(l)}}}function Tn(e,t){let n,o,i;function r(e,t){return 8&t[0]&&(o=null),null==o&&(o=!!at(e[47])),o?An:"string"==typeof e[47]?qn:void 0}let l=r(t,[-1,-1]),s=l&&l(t);return{key:e,first:null,c(){n=$(),s&&s.c(),i=$(),this.first=n},m(e,t){x(e,n,t),s&&s.m(e,t),x(e,i,t)},p(e,n){l===(l=r(t=e,n))&&s?s.p(t,n):(s&&s.d(1),s=l&&l(t),s&&(s.c(),s.m(i.parentNode,i)))},d(e){e&&E(n),s&&s.d(e),e&&E(i)}}}function $n(t){let n;return{c(){n=N("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function In(e){let t,n=[],o=new Map,i=e[41].tags;const r=e=>e[44];for(let t=0;t<i.length;t+=1){let l=an(e,i,t),s=r(l);o.set(s,n[t]=Cn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){8&l[0]&&(i=e[41].tags,n=ye(n,l,r,1,e,i,o,t.parentNode,me,Cn,t,an))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function Cn(e,t){let n,o,i,r,l=(t[46]<t[41].tags.length-1?t[44]+", ":t[44])+"";return{key:e,first:null,c(){n=A("span"),o=N(l),i=T(),C(n,"class","copy"),C(n,"copy-value",r=t[44]||""),this.first=n},m(e,t){x(e,n,t),b(n,o),b(n,i)},p(e,i){t=e,8&i[0]&&l!==(l=(t[46]<t[41].tags.length-1?t[44]+", ":t[44])+"")&&L(o,l),8&i[0]&&r!==(r=t[44]||"")&&C(n,"copy-value",r)},d(e){e&&E(n)}}}function Ln(e,t){let n,o,l,s,a,u,f,p,m,h,y,v,g,w,k,S,q,$,F,M,j,P,O,_,U,R,B,V,H,W,z,K,Y,G,J,X,Q,Z,ee,te,ne,oe,ie,re,le,se,ce,ae,ue,de,fe,pe,me,he,ye,ve,ge,we,be,ke,Se,xe,Ee,qe,Ae,Ne,Te,$e,Ie,Ce,Le,Fe,De,Me,je,Pe,Oe,_e,Ue,Re,Be,Ve,He,We,ze,Ke,Ye,Ge,Je,Xe,Qe,Ze,et,tt,nt,ot,it,rt,lt,st,ct,at,ut,dt,ft,mt,ht,yt,vt,gt,wt,bt,kt,St,xt,Et,qt,At,Nt,Tt,$t,It,Ct,Lt,Ft,Dt,Mt,jt=t[42],Pt=t[43],Ot=(t[41]?.title||"N/A")+"",_t=(t[10](t[41])||"N/A")+"",Ut=(pt(t[41].score)||"N/A")+"",Rt=(t[9](t[41])||"N/A")+"",Bt=(t[41].userStatus||"N/A")+"",Vt=(t[41].status||"N/A")+"",Ht=(t[41].averageScore||"N/A")+"",Wt=(`${t[41]?.season||""}${t[41]?.year?" "+t[41].year:""}`||"N/A")+"",zt=(t[41].userScore||"N/A")+"",Kt=(t[41].popularity||"N/A")+"",Yt=(pt(t[41].weightedScore)||"N/A")+"",Gt="See "+(t[41].isSeenMore?"Less":"More"),Jt=(t[6](t[41].id)||"N/A")+"",Xt=t[41].trailerID&&hn();const Qt=()=>t[11](l,jt,Pt),Zt=()=>t[11](null,jt,Pt);function en(e,t){return 8&t[0]&&(te=null),null==te&&(te=!!Object.entries(e[41]?.studios||{}).length),te?vn:yn}let tn=en(t,[-1,-1]),nn=tn(t);function on(e,t){return e[41].genres.length?kn:bn}let rn=on(t),ln=rn(t);function sn(e,t){return e[41].favoriteContents?.length?En:xn}let cn=sn(t),an=cn(t);function un(e,t){return e[41].tags.length?In:$n}let dn=un(t),fn=dn(t);function pn(...e){return t[13](t[41],t[43],...e)}function mn(...e){return t[14](t[41],...e)}const gn=()=>t[15](n,jt,Pt),wn=()=>t[15](null,jt,Pt);return{key:e,first:null,c(){n=A("div"),o=A("div"),l=A("div"),Xt&&Xt.c(),s=T(),a=A("div"),u=A("img"),p=T(),m=A("img"),y=T(),v=A("div"),g=A("h3"),g.textContent="Auto Play",w=T(),k=A("label"),S=A("input"),q=T(),$=A("span"),F=T(),M=A("div"),j=A("div"),P=A("a"),O=N(Ot),B=T(),V=A("div"),H=A("div"),W=A("div"),W.textContent="Format",z=T(),K=A("div"),Y=N(_t),J=T(),X=A("div"),Q=A("div"),Q.textContent="Studio",Z=T(),ee=A("div"),nn.c(),ne=T(),oe=A("div"),ie=A("div"),ie.textContent="Genres",re=T(),le=A("div"),ln.c(),se=T(),ce=A("div"),ae=A("div"),ae.textContent="Score",ue=T(),de=A("div"),fe=N(Ut),me=T(),he=A("div"),ye=A("div"),ye.textContent="Favorite Contents",ve=T(),ge=A("div"),an.c(),we=T(),be=A("div"),ke=A("div"),ke.textContent="Content Cautions",Se=T(),xe=A("div"),Ee=N(Rt),Ae=T(),Ne=A("div"),Te=A("div"),Te.textContent="User Status",$e=T(),Ie=A("div"),Ce=N(Bt),Fe=T(),De=A("div"),Me=A("div"),Me.textContent="Status",je=T(),Pe=A("div"),Oe=N(Vt),Ue=T(),Re=A("div"),Be=A("div"),Be.textContent="Tags",Ve=T(),He=A("div"),fn.c(),We=T(),ze=A("div"),Ke=A("div"),Ke.textContent="Average Score",Ye=T(),Ge=A("div"),Je=N(Ht),Qe=T(),Ze=A("div"),et=A("div"),et.textContent="Season Year",tt=T(),nt=A("div"),ot=N(Wt),rt=T(),lt=A("div"),st=A("div"),st.textContent="User Score",ct=T(),at=A("div"),ut=N(zt),ft=T(),mt=A("div"),ht=A("div"),ht.textContent="Popularity",yt=T(),vt=A("div"),gt=N(Kt),bt=T(),kt=A("div"),St=A("div"),St.textContent="Wscore",xt=T(),Et=A("div"),qt=N(Yt),Nt=T(),Tt=A("div"),$t=A("button"),It=N(Gt),Ct=T(),Lt=A("button"),Ft=N(Jt),c(u.src,f=t[41].bannerImageUrl)||C(u,"src",f),C(u,"alt","bannerImg"),C(u,"class","bannerImg svelte-1mqqo87"),D(u,"opacity","0"),c(m.src,h=t[41].coverImageUrl)||C(m,"src",h),C(m,"alt","coverImg"),C(m,"class","coverImg svelte-1mqqo87"),D(m,"opacity","0"),C(a,"class","popup-img svelte-1mqqo87"),D(a,"display","none"),C(l,"class","popup-header svelte-1mqqo87"),C(g,"class","svelte-1mqqo87"),C(S,"type","checkbox"),C(S,"class","autoplayToggle svelte-1mqqo87"),C($,"class","slider round svelte-1mqqo87"),C(k,"class","switch svelte-1mqqo87"),C(v,"class","button-container svelte-1mqqo87"),C(P,"rel","noopener noreferrer"),C(P,"target","_blank"),C(P,"href",_=t[41].animeUrl||""),C(P,"class",U=d(Mn(t[41])+"-color anime-title copy")+" svelte-1mqqo87"),C(P,"copy-value",R=t[41].title||""),C(j,"class","anime-title-container svelte-1mqqo87"),C(W,"class","info-categ svelte-1mqqo87"),C(K,"class","format-popup info copy svelte-1mqqo87"),C(K,"copy-value",G=t[10](t[41])||""),C(H,"class","svelte-1mqqo87"),C(Q,"class","info-categ svelte-1mqqo87"),C(ee,"class","studio-popup info svelte-1mqqo87"),C(X,"class","svelte-1mqqo87"),C(ie,"class","info-categ svelte-1mqqo87"),C(le,"class","genres-popup info svelte-1mqqo87"),C(oe,"class","svelte-1mqqo87"),C(ae,"class","info-categ svelte-1mqqo87"),C(de,"class","score-popup info copy svelte-1mqqo87"),C(de,"copy-value",pe=t[41].score??""),C(ce,"class","svelte-1mqqo87"),C(ye,"class","info-categ svelte-1mqqo87"),C(ge,"class","top-similarities-popup info svelte-1mqqo87"),C(he,"class","svelte-1mqqo87"),C(ke,"class","info-categ svelte-1mqqo87"),C(xe,"class","content-caution-popup info copy svelte-1mqqo87"),C(xe,"copy-value",qe=t[9](t[41])||""),C(be,"class","svelte-1mqqo87"),C(Te,"class","info-categ svelte-1mqqo87"),C(Ie,"class","user-status-popup info copy svelte-1mqqo87"),C(Ie,"copy-value",Le=t[41].userStatus||""),C(Ne,"class","svelte-1mqqo87"),C(Me,"class","info-categ svelte-1mqqo87"),C(Pe,"class","status-popup info copy svelte-1mqqo87"),C(Pe,"copy-value",_e=t[41].status||""),C(De,"class","svelte-1mqqo87"),C(Be,"class","info-categ svelte-1mqqo87"),C(He,"class","tags-popup info svelte-1mqqo87"),C(Re,"class","svelte-1mqqo87"),C(Ke,"class","info-categ svelte-1mqqo87"),C(Ge,"class","average-score-popup info copy svelte-1mqqo87"),C(Ge,"copy-value",Xe=t[41].averageScore??""),C(ze,"class","svelte-1mqqo87"),C(et,"class","info-categ svelte-1mqqo87"),C(nt,"class","season-year-popup info copy svelte-1mqqo87"),C(nt,"copy-value",it=`${t[41]?.season||""}${t[41]?.year?" "+t[41].year:""}`||""),C(Ze,"class","svelte-1mqqo87"),C(st,"class","info-categ svelte-1mqqo87"),C(at,"class","user-score-popup info copy svelte-1mqqo87"),C(at,"copy-value",dt=t[41].userScore??""),C(lt,"class","svelte-1mqqo87"),C(ht,"class","info-categ svelte-1mqqo87"),C(vt,"class","popularity-popup info copy svelte-1mqqo87"),C(vt,"copy-value",wt=t[41].popularity??""),C(mt,"class","svelte-1mqqo87"),C(St,"class","info-categ svelte-1mqqo87"),C(Et,"class","wscore-popup info copy svelte-1mqqo87"),C(Et,"copy-value",At=t[41].weightedScore??""),C(kt,"class","svelte-1mqqo87"),C(V,"class","info-list svelte-1mqqo87"),D(V,"max-height",t[41].isSeenMore?"none":""),C($t,"class","seemoreless svelte-1mqqo87"),C(Lt,"class","hideshowbtn svelte-1mqqo87"),C(Tt,"class","footer svelte-1mqqo87"),C(M,"class","popup-body svelte-1mqqo87"),C(o,"class","popup-main svelte-1mqqo87"),C(n,"class","popup-content svelte-1mqqo87"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,l),Xt&&Xt.m(l,null),b(l,s),b(l,a),b(a,u),b(a,p),b(a,m),Qt(),b(o,y),b(o,v),b(v,g),b(v,w),b(v,k),b(k,S),S.checked=t[2],b(k,q),b(k,$),b(o,F),b(o,M),b(M,j),b(j,P),b(P,O),b(M,B),b(M,V),b(V,H),b(H,W),b(H,z),b(H,K),b(K,Y),b(V,J),b(V,X),b(X,Q),b(X,Z),b(X,ee),nn.m(ee,null),b(V,ne),b(V,oe),b(oe,ie),b(oe,re),b(oe,le),ln.m(le,null),b(V,se),b(V,ce),b(ce,ae),b(ce,ue),b(ce,de),b(de,fe),b(V,me),b(V,he),b(he,ye),b(he,ve),b(he,ge),an.m(ge,null),b(V,we),b(V,be),b(be,ke),b(be,Se),b(be,xe),b(xe,Ee),b(V,Ae),b(V,Ne),b(Ne,Te),b(Ne,$e),b(Ne,Ie),b(Ie,Ce),b(V,Fe),b(V,De),b(De,Me),b(De,je),b(De,Pe),b(Pe,Oe),b(V,Ue),b(V,Re),b(Re,Be),b(Re,Ve),b(Re,He),fn.m(He,null),b(V,We),b(V,ze),b(ze,Ke),b(ze,Ye),b(ze,Ge),b(Ge,Je),b(V,Qe),b(V,Ze),b(Ze,et),b(Ze,tt),b(Ze,nt),b(nt,ot),b(V,rt),b(V,lt),b(lt,st),b(lt,ct),b(lt,at),b(at,ut),b(V,ft),b(V,mt),b(mt,ht),b(mt,yt),b(mt,vt),b(vt,gt),b(V,bt),b(V,kt),b(kt,St),b(kt,xt),b(kt,Et),b(Et,qt),b(M,Nt),b(M,Tt),b(Tt,$t),b($t,It),b(Tt,Ct),b(Tt,Lt),b(Lt,Ft),gn(),Dt||(Mt=[I(u,"load",jn),I(m,"load",Pn),I(S,"change",t[12]),I($t,"click",(function(){r(t[8](t[41],t[43]))&&t[8](t[41],t[43]).apply(this,arguments)})),I($t,"keydown",pn),I(Lt,"click",(function(){r(t[7](t[41].id))&&t[7](t[41].id).apply(this,arguments)})),I(Lt,"keydown",mn)],Dt=!0)},p(e,n){(t=e)[41].trailerID?Xt||(Xt=hn(),Xt.c(),Xt.m(l,s)):Xt&&(Xt.d(1),Xt=null),8&n[0]&&!c(u.src,f=t[41].bannerImageUrl)&&C(u,"src",f),8&n[0]&&!c(m.src,h=t[41].coverImageUrl)&&C(m,"src",h),jt===t[42]&&Pt===t[43]||(Zt(),jt=t[42],Pt=t[43],Qt()),4&n[0]&&(S.checked=t[2]),8&n[0]&&Ot!==(Ot=(t[41]?.title||"N/A")+"")&&L(O,Ot),8&n[0]&&_!==(_=t[41].animeUrl||"")&&C(P,"href",_),8&n[0]&&U!==(U=d(Mn(t[41])+"-color anime-title copy")+" svelte-1mqqo87")&&C(P,"class",U),8&n[0]&&R!==(R=t[41].title||"")&&C(P,"copy-value",R),8&n[0]&&_t!==(_t=(t[10](t[41])||"N/A")+"")&&L(Y,_t),8&n[0]&&G!==(G=t[10](t[41])||"")&&C(K,"copy-value",G),tn===(tn=en(t,n))&&nn?nn.p(t,n):(nn.d(1),nn=tn(t),nn&&(nn.c(),nn.m(ee,null))),rn===(rn=on(t))&&ln?ln.p(t,n):(ln.d(1),ln=rn(t),ln&&(ln.c(),ln.m(le,null))),8&n[0]&&Ut!==(Ut=(pt(t[41].score)||"N/A")+"")&&L(fe,Ut),8&n[0]&&pe!==(pe=t[41].score??"")&&C(de,"copy-value",pe),cn===(cn=sn(t))&&an?an.p(t,n):(an.d(1),an=cn(t),an&&(an.c(),an.m(ge,null))),8&n[0]&&Rt!==(Rt=(t[9](t[41])||"N/A")+"")&&L(Ee,Rt),8&n[0]&&qe!==(qe=t[9](t[41])||"")&&C(xe,"copy-value",qe),8&n[0]&&Bt!==(Bt=(t[41].userStatus||"N/A")+"")&&L(Ce,Bt),8&n[0]&&Le!==(Le=t[41].userStatus||"")&&C(Ie,"copy-value",Le),8&n[0]&&Vt!==(Vt=(t[41].status||"N/A")+"")&&L(Oe,Vt),8&n[0]&&_e!==(_e=t[41].status||"")&&C(Pe,"copy-value",_e),dn===(dn=un(t))&&fn?fn.p(t,n):(fn.d(1),fn=dn(t),fn&&(fn.c(),fn.m(He,null))),8&n[0]&&Ht!==(Ht=(t[41].averageScore||"N/A")+"")&&L(Je,Ht),8&n[0]&&Xe!==(Xe=t[41].averageScore??"")&&C(Ge,"copy-value",Xe),8&n[0]&&Wt!==(Wt=(`${t[41]?.season||""}${t[41]?.year?" "+t[41].year:""}`||"N/A")+"")&&L(ot,Wt),8&n[0]&&it!==(it=`${t[41]?.season||""}${t[41]?.year?" "+t[41].year:""}`||"")&&C(nt,"copy-value",it),8&n[0]&&zt!==(zt=(t[41].userScore||"N/A")+"")&&L(ut,zt),8&n[0]&&dt!==(dt=t[41].userScore??"")&&C(at,"copy-value",dt),8&n[0]&&Kt!==(Kt=(t[41].popularity||"N/A")+"")&&L(gt,Kt),8&n[0]&&wt!==(wt=t[41].popularity??"")&&C(vt,"copy-value",wt),8&n[0]&&Yt!==(Yt=(pt(t[41].weightedScore)||"N/A")+"")&&L(qt,Yt),8&n[0]&&At!==(At=t[41].weightedScore??"")&&C(Et,"copy-value",At),8&n[0]&&D(V,"max-height",t[41].isSeenMore?"none":""),8&n[0]&&Gt!==(Gt="See "+(t[41].isSeenMore?"Less":"More"))&&L(It,Gt),8&n[0]&&Jt!==(Jt=(t[6](t[41].id)||"N/A")+"")&&L(Ft,Jt),jt===t[42]&&Pt===t[43]||(wn(),jt=t[42],Pt=t[43],gn())},d(e){e&&E(n),Xt&&Xt.d(),Zt(),nn.d(),ln.d(),an.d(),fn.d(),wn(),Dt=!1,i(Mt)}}}function Fn(e){let t;return{c(){t=A("div"),t.innerHTML='<i class="fa-solid fa-k fa-fade svelte-1mqqo87"></i>',C(t,"class","popup-content-loading svelte-1mqqo87")},m(e,n){x(e,t,n)},d(e){e&&E(t)}}}function Dn(t){let n,o,r,l,s,c,a=t[3]?.length&&mn(t);return{c(){n=A("div"),o=A("div"),a&&a.c(),r=T(),l=A("div"),l.textContent="×",C(o,"id","popup-container"),C(o,"class","popup-container hide svelte-1mqqo87"),D(o,"--translateY",window.innerHeight+"px"),C(l,"id","closing-x"),C(l,"class","closing-x svelte-1mqqo87"),C(n,"id","popup-wrapper"),C(n,"class","popup-wrapper svelte-1mqqo87")},m(e,i){x(e,n,i),b(n,o),a&&a.m(o,null),t[16](o),b(n,r),b(n,l),t[19](n),s||(c=[I(l,"click",t[5]),I(l,"keydown",t[17]),I(n,"click",t[5]),I(n,"keydown",t[18])],s=!0)},p(e,t){e[3]?.length?a?a.p(e,t):(a=mn(e),a.c(),a.m(o,null)):a&&(a.d(1),a=null)},i:e,o:e,d(e){e&&E(n),a&&a.d(),t[16](null),t[19](null),s=!1,i(c)}}}function Mn({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":o<t?"purple":o<n?"orange":e?.semiCaution?.length?"teal":"green"}"undefined"!=typeof module&&void 0!==module?.exports&&(module.exports=ln);const jn=e=>e.target.style.opacity=.75,Pn=e=>e.target.style.opacity=1;function On(e,t,n){let o,i,r,l,s,c,u,d,p,m,h,y,v;a(e,Le,(e=>n(27,o=e))),a(e,Ue,(e=>n(28,i=e))),a(e,Re,(e=>n(2,r=e))),a(e,Xe,(e=>n(29,l=e))),a(e,qe,(e=>n(30,s=e))),a(e,Ee,(e=>n(31,c=e))),a(e,Ie,(e=>n(3,u=e))),a(e,Ve,(e=>n(32,d=e))),a(e,Qe,(e=>n(33,p=e))),a(e,Ce,(e=>n(34,m=e))),a(e,Ne,(e=>n(35,h=e))),a(e,Ke,(e=>n(36,y=e))),a(e,We,(e=>n(4,v=e)));let g,w,b,k,S,x,E=window.navigator.onLine,q=50;function A(e){let t=e.target,n=t.classList;t.closest(".popup-container")||n.contains("popup-container")||f(Xe,l=!1,l)}async function N(e){h[e]?await y("Are you sure you want to show the anime?")&&(delete h[e],Ne.set(h),u.length&&m instanceof Worker&&m.postMessage({removeID:e})):await y("Are you sure you want to hide the anime?")&&(f(Ne,h[e]=!0,h),u.length&&m instanceof Worker&&m.postMessage({removeID:e}))}async function T(e,t){if(u[t]){f(Ie,u[t].isSeenMore=!u[t].isSeenMore,u),await X();let n=e.popupContent;if(!b instanceof Element)return;n instanceof Element||(n=e?.popupHeader?.closest?.(".popup-content")),n instanceof Element&&ft(b,n,"bottom")}}async function $(){if(!l)return;await X();let e,t=ut(b,".popup-header",.5)||ut(b,".popup-content",.1)?.querySelector(".popup-header"),n=t?.querySelector?.(".trailer"),o=dt(t?.closest?.(".popup-content"))??-1,a=u?.[o]?.gridElement;if(a instanceof Element&&(x&&clearTimeout(x),x=setTimeout((()=>{ft(window,a,"top","smooth",-66)}),300)),n instanceof Element)e=i?.some((e=>e.g===n));else{let e=t?.querySelector?.(".popup-img");e instanceof Element&&(e.style.display="")}if(e){if(i?.forEach((async e=>{e.g===n&&1!==e?.getPlayerState?.()&&r?(await X(),!w?.classList?.contains?.("visible")||!s&&c||S===t||(C(e),e?.playVideo?.(),g=e,S=t)):e.g!==n&&e?.pauseVideo?.()})),o>=0){[u?.[o-1],u?.[o+1]].forEach((e=>{e&&I(e)}))}}else if(S=t,i?.forEach((e=>e?.pauseVideo?.())),o>=0){[u?.[o-1],u?.[o],u?.[o+1]].forEach((e=>{e&&I(e)}))}}function I(e){let t=e?.popupHeader?.querySelector?.(".trailer"),n=e?.trailerID;if(t instanceof Element&&n){if(i.some((e=>e.g===t)))return;if(i.length>=8){let n=i.shift();n?.destroy?.();let o=document.createElement("div");o.className="trailer",t.style.display="none",e.popupHeader.replaceChild(o,t),t=e.popupHeader.querySelector(".trailer")}t.style.display="none",t.setAttribute("id","yt-player"+Date.now()+Math.random());let o=new YT.Player(t,{playerVars:{cc_lang_pref:"en",cc_load_policy:1,enablejsapi:1,loop:1,modestbranding:1,playsinline:1,playlist:n},events:{onReady:e=>{!async function(e){let t=e.target,n=t?.g,o=n?.parentElement,a=o?.querySelector?.(".popup-img"),d=o?.closest?.(".popup-content"),p=u?.[dt(d)??-1];if(!(p&&n instanceof Element&&a instanceof Element))return;if(-1!==t.getPlayerState()&&"IFRAME"===n.tagName&&E){if(a.style.display="none",n.style.display="",!l)return;await X();let e,t=ut(b,".popup-header",.5)||ut(b,".popup-content",.1)?.querySelector(".popup-header"),o=t?.querySelector?.(".trailer");o instanceof Element&&(e=i?.some((e=>e.g===o))),e&&i?.forEach((async e=>{e.g===o&&1!==e?.getPlayerState?.()&&r?(await X(),!w?.classList?.contains?.("visible")||!s&&c||(C(e),e?.playVideo?.())):e.g!==o&&(e?.mute?.(),e?.playVideo?.(),e?.pauseVideo?.(),e?.unMute?.())}))}else{f(Ue,i=i.filter((e=>e!==t)),i),t.destroy();let e=p?.bannerImageUrl,o=a.querySelector(".bannerImg");!e||0!==o?.naturalHeight&&0!==o?.naturalWidth||(o.src=e);let r=p.coverImageUrl,l=a.querySelector(".coverImg");!r||0!==l?.naturalHeight&&0!==l?.naturalWidth||(l.src=r),n.style.display="none",a.style.display=""}}(e)}}}),a=`https://www.youtube.com/embed/${n}?playlist=${n}&cc_load_policy=1&cc_lang_pref=en&enablejsapi=1&loop=1&modestbranding=1&playsinline=1`;t.setAttribute("src",a),i.push(o)}else{let t=e?.popupHeader?.querySelector?.(".popup-img");t instanceof Element&&(t.style.display="")}}function C(e){if(g?.isMuted&&g?.getVolume){let t=g?.isMuted?.(),n=g?.getVolume?.();"boolean"==typeof t&&(t?e?.mute?.():e?.unMute?.()),"number"==typeof n&&(q!==n&&(q=n,on(q,"savedYtVolume")),e?.setVolume?.(q))}}(async()=>{q=await rn("savedYtVolume")||50})(),He.subscribe((async e=>{if(l&&e>=0){await X();let t=b?.children[e];t instanceof Element&&b instanceof Element&&ft(b,t,"top")}})),Ne.subscribe((async e=>{at(e)&&await on(e,"hiddenEntries")})),Xe.subscribe((async e=>{if(w instanceof Element&&b instanceof Element)if(!0===e){Object.assign(b.style,{"--translateY":window.innerHeight+"px"});let e=b?.children[p??0];if(e instanceof Element){ft(b,e),w.classList.add("visible"),b.classList.add("show");let t=[u[p-1],u[p],u[p+1]],n=[t[0]?.popupHeader?.querySelector(".trailer"),t[1]?.popupHeader?.querySelector(".trailer"),t[2]?.popupHeader?.querySelector(".trailer")],o=[!0,!0,!0];for(let e=0;e<i.length;e++){let t;if((t=n.findIndex((t=>t===i[e].g)))>=0){r&&1===t&&(await X(),!w?.classList?.contains?.("visible")||!s&&c||(C(i[e]),i[e]?.playVideo?.(),g=i[e])),o[t]=!1;break}}o.forEach(((e,n)=>{e&&I(t[n])})),f(Qe,p=null,p)}else w.classList.add("visible"),b.classList.add("show")}else!1===e&&(b.classList.remove("show"),b.classList.add("hide"),setTimeout((()=>{i?.forEach((e=>e?.pauseVideo?.())),w.classList.remove("visible")}),300))})),Ie.subscribe((async e=>{e instanceof Array&&e.length?(await X(),d&&u[u.length-1].popupContent instanceof Element&&d.observe(u[u.length-1].popupContent),$()):e instanceof Array&&e.length<1&&f(Xe,l=!1,l)})),Re.subscribe((async e=>{if("boolean"==typeof e)if(await on(e,"autoPlay"),!0===e){await X();let e=ut(b,".popup-header",.5)||ut(b,".popup-content",.1)?.querySelector(".popup-header"),t=e?.querySelector?.(".trailer");for(let e=0;e<i.length;e++)if(i[e].g===t&&(s||!c)){C(i[e]),i[e]?.playVideo?.();break}}else i?.forEach((e=>e?.pauseVideo?.()))})),V((()=>{document.getElementById("popup-container").addEventListener("scroll",(()=>{$()})),window.innerWidth<=768&&(k=sn(b,(()=>new Promise((e=>{f(Xe,l=!1,l),setTimeout(e,300)}))))),document.addEventListener("keydown",(async e=>{if(" "===e.key&&l){e.preventDefault();let t=i?.some((e=>e.getPlayerState()===YT.PlayerState.PLAYING));if(t)i.forEach((e=>{e?.pauseVideo?.()}));else{await X();let e=ut(b,".popup-header",.5)||ut(b,".popup-content",.1)?.querySelector(".popup-header"),t=e?.querySelector?.(".trailer");for(let e=0;e<i.length;e++)if(i[e].g===t&&(s||!c)){C(i[e]),i[e]?.playVideo?.();break}}}})),window.addEventListener("resize",(()=>{window.innerWidth<=768&&!k?k=sn(b,(()=>new Promise((e=>{f(Xe,l=!1,l),setTimeout(e,300)})))):k&&window.innerWidth>768&&(k&&k(),k=null)}))}));let L=!1;window.returnedAppIsVisible=e=>{if(!l||!c)return;f(qe,s=e,s);let t=ut(b,".popup-header",.5)||ut(b,".popup-content",.1)?.querySelector(".popup-header"),n=t?.querySelector?.(".trailer");if(n&&l)if(e){for(var o of i)if(o.g===n&&(2===o?.getPlayerState?.()&&L||r)){C(o),o?.playVideo?.();break}}else if(!e)for(var o of(L=!1,i))o.g===n&&1===o?.getPlayerState?.()&&(L=!0),o?.pauseVideo?.()},window.addEventListener("online",(()=>{f(Le,o="Reconnected Successfully",o),E=!0,document.querySelectorAll("img")?.forEach((e=>{e.naturalHeight||(e.style.opacity=0,e.onload=()=>{e.style.opacity=1},e.src=e.src)})),new Promise((e=>{var t=document.getElementById("www-widgetapi-script");t&&t.parentElement.removeChild(t);var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api?v=16",n.onerror=()=>{e()},n.onload=()=>{window?.onYouTubeIframeAPIReady?.(),e()};var o=document.getElementsByTagName("script")[0];o.parentElement.insertBefore(n,o)})).then((()=>{$()}))})),window.addEventListener("offline",(()=>{f(Le,o="Currently Offline...",o),E=!1}));return[w,b,r,u,v,A,function(e){return h?h[e]?"Show":"Hide":"N/A"},N,T,function({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){let i=(e?.caution||[]).concat(e?.semiCaution||[]);return o<t?i.push(`Very Low Score (mean: ${pt(t)})`):o<n&&i.push(`Low Score (mean: ${pt(n)})`),i.join(", ")||""},function({episodes:e,format:t,duration:n}){let o=t;if(e>0&&t&&(o=`${t} [${e}]`,n>0)){let e=function(e){try{let t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),o=Math.floor(e/36e5%24),i=Math.floor(e/864e5%7),r=Math.floor(e/6048e5%4),l=Math.floor(e/24192e5%12),s=Math.floor(e/290304e5%10),c=Math.floor(e/290304e6%10),a=Math.floor(e/290304e7%10),u=Math.floor(e/290304e8%10),d=[];return u<=0&&a<=0&&c<=0&&s<=0&&l<=0&&r<=0&&i<=0&&o<=0&&n<=0&&t<=0?"0s":(u>0&&d.push(1===u?`${u}mil`:`${u}mils`),c>0&&d.push(1===c?`${c}de`:`${c}des`),s>0&&d.push(`${s}y`),l>0&&d.push(1===l?`${l}mo`:`${l}mos`),r>0&&d.push(`${r}w`),i>0&&d.push(`${i}d`),o>0&&d.push(`${o}h`),n>0&&d.push(`${n}m`),t>0&&d.push(`${t}s`),d.join(" "))}catch(e){return}}(60*n*1e3);o=`${o} | ${e||""}`}return o},function(e,t,n){W[e?"unshift":"push"]((()=>{t[n].popupHeader=e}))},function(){r=this.checked,Re.set(r)},(e,t,n)=>"Enter"===n.key&&T(e,t),(e,t)=>"Enter"===t.key&&N(e.id),function(e,t,n){W[e?"unshift":"push"]((()=>{t[n].popupContent=e}))},function(e){W[e?"unshift":"push"]((()=>{b=e,n(1,b)}))},e=>"Enter"===e.key&&A(e),e=>"Enter"===e.key&&A(e),function(e){W[e?"unshift":"push"]((()=>{w=e,n(0,w)}))}]}function _n(e){const t=e-1;return t*t*t+1}function Un(e,{delay:n=0,duration:o=400,easing:i=t}={}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:i,css:e=>"opacity: "+e*r}}function Rn(e,{delay:t=0,duration:n=400,easing:o=_n,x:i=0,y:r=0,opacity:l=0}={}){const s=getComputedStyle(e),c=+s.opacity,a="none"===s.transform?"":s.transform,u=c*(1-l),[d,f]=p(i),[m,h]=p(r);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*d}${f}, ${(1-e)*m}${h});\n\t\t\topacity: ${c-u*t}`}}function Bn(e){let t,n,o,r,l,s,c,a,u,d,f,p,m,h,y,v,g,w,k,S,q,$,F=(e[3][e[1]]?"Show":"Hide")+" Anime";return{c(){t=A("div"),n=A("div"),o=A("div"),r=A("span"),l=A("h1"),s=N(e[0]),c=T(),a=A("div"),a.textContent="×",u=T(),d=A("span"),d.innerHTML='<h2 class="svelte-f155fc">Open Anime</h2>',f=T(),p=A("span"),p.innerHTML='<h2 class="svelte-f155fc">Open In Anilist</h2>',m=T(),h=A("span"),h.innerHTML='<h2 class="svelte-f155fc">Copy Title</h2>',y=T(),v=A("span"),g=A("h2"),w=N(F),C(l,"class","svelte-f155fc"),C(r,"class","anime-title svelte-f155fc"),C(a,"class","closing-x svelte-f155fc"),C(o,"class","option-header svelte-f155fc"),C(d,"class","svelte-f155fc"),C(p,"class","svelte-f155fc"),C(h,"class","svelte-f155fc"),C(g,"class","svelte-f155fc"),C(v,"class","svelte-f155fc"),C(n,"class","anime-options-container svelte-f155fc"),C(t,"class","anime-options svelte-f155fc")},m(i,k){x(i,t,k),b(t,n),b(n,o),b(o,r),b(r,l),b(l,s),b(o,c),b(o,a),b(n,u),b(n,d),b(n,f),b(n,p),b(n,m),b(n,h),b(n,y),b(n,v),b(v,g),b(g,w),S=!0,q||($=[I(a,"click",e[4]),I(a,"keydown",e[9]),I(d,"click",e[5]),I(d,"keydown",e[10]),I(p,"click",e[6]),I(p,"keydown",e[11]),I(h,"click",e[7]),I(h,"keydown",e[12]),I(v,"click",e[8]),I(v,"keydown",e[13]),I(t,"click",e[4]),I(t,"keydown",e[14])],q=!0)},p(e,t){(!S||1&t)&&L(s,e[0]),(!S||10&t)&&F!==(F=(e[3][e[1]]?"Show":"Hide")+" Anime")&&L(w,F)},i(e){S||(Q((()=>{S&&(k||(k=pe(n,Rn,{y:20,duration:300},!0)),k.run(1))})),S=!0)},o(e){k||(k=pe(n,Rn,{y:20,duration:300},!1)),k.run(0),S=!1},d(e){e&&E(t),e&&k&&k.end(),q=!1,i($)}}}function Vn(e){let t,n,o=e[2]&&Bn(e);return{c(){o&&o.c(),t=$()},m(e,i){o&&o.m(e,i),x(e,t,i),n=!0},p(e,[n]){e[2]?o?(o.p(e,n),4&n&&ue(o,1)):(o=Bn(e),o.c(),ue(o,1),o.m(t.parentNode,t)):o&&(ce(),de(o,1,1,(()=>{o=null})),ae())},i(e){n||(ue(o),n=!0)},o(e){de(o),n=!1},d(e){o&&o.d(e),e&&E(t)}}}function Hn(e,t,n){let o,i,r,l,s,c,u,d,p,m,h,y,v;a(e,Ge,(e=>n(2,o=e))),a(e,Ce,(e=>n(19,i=e))),a(e,Ie,(e=>n(20,r=e))),a(e,Ne,(e=>n(3,l=e))),a(e,Ke,(e=>n(21,s=e))),a(e,Ee,(e=>n(22,c=e))),a(e,Xe,(e=>n(23,u=e))),a(e,Qe,(e=>n(24,d=e))),a(e,Je,(e=>n(25,p=e)));let g,w=!0;function b(e){if(w&&"keydown"!==e.type)return;let t=e.target,n=t.classList;(n.contains("closing-x")||!t.closest(".anime-options-container")&&!n.contains("anime-options-container"))&&f(Ge,o=!1,o)}function k(e){w&&"keydown"!==e.type||(f(Qe,d=v,d),f(Xe,u=!0,u),f(Ge,o=!1,o))}function S(e){w&&"keydown"!==e.type||(y&&window.open(y,"_blank"),f(Ge,o=!1,o))}function x(e){if((!w||"keydown"===e.type)&&m){if(c)try{JSBridge.copyToClipBoard(m)}catch(e){}else navigator?.clipboard?.writeText?.(m);f(Ge,o=!1,o)}}async function E(e){if(w&&"keydown"!==e.type)return;l[h]?await s("Are you sure you want to show the anime?")&&(delete l[h],Ne.set(l),r.length&&i instanceof Worker&&i.postMessage({removeID:h}),f(Ge,o=!1,o)):await s("Are you sure you want to hide the anime?")&&(f(Ne,l[h]=!0,l),r.length&&i instanceof Worker&&i.postMessage({removeID:h}),f(Ge,o=!1,o))}Ge.subscribe((e=>{if(!0===e){w=!0,g=setTimeout((()=>{w=!1}),500);let e=r[p];e&&(n(0,m=e.title),n(1,h=e.id),y=e.animeUrl,v=p),f(Je,p=null,p)}else g&&clearTimeout(g),w=!1}));return[m,h,o,l,b,k,S,x,E,e=>"Enter"===e.key&&b(e),e=>"Enter"===e.key&&k(e),e=>"Enter"===e.key&&S(e),e=>"Enter"===e.key&&x(e),e=>"Enter"===e.key&&E(e),e=>"Enter"===e.key&&b(e)]}function Wn(t){let n,o,r,l,s,a,u,d,f,p,m;return{c(){n=A("div"),o=A("nav"),r=A("div"),l=A("i"),s=T(),a=A("input"),u=T(),d=A("img"),C(l,"class","goback fa-solid fa-arrow-left svelte-3ot9hb"),C(a,"id","usernameInput"),C(a,"type","search"),C(a,"enterkeyhint","search"),C(a,"autocomplete","off"),C(a,"placeholder","Your Anilist Username"),C(a,"class","svelte-3ot9hb"),C(r,"class","input-search svelte-3ot9hb"),C(d,"class","logo-icon svelte-3ot9hb"),c(d.src,f="./images/Kanshi-Logo.png")||C(d,"src","./images/Kanshi-Logo.png"),C(d,"alt","Kanshi Logo"),C(o,"class","nav svelte-3ot9hb"),C(n,"class","nav-container svelte-3ot9hb")},m(e,i){x(e,n,i),b(n,o),b(o,r),b(r,l),b(r,s),b(r,a),F(a,t[0]),b(o,u),b(o,d),p||(m=[I(l,"click",zn),I(l,"keydown",t[5]),I(a,"keydown",t[6]),I(a,"input",t[7]),I(d,"pointerdown",t[3]),I(d,"pointerup",t[4]),I(d,"pointercancel",t[4]),I(n,"keydown",t[8]),I(n,"click",t[2])],p=!0)},p(e,[t]){1&t&&a.value!==e[0]&&F(a,e[0])},i:e,o:e,d(e){e&&E(n),p=!1,i(m)}}}function zn(){let e=document?.getElementById("usernameInput");e?.focus?.(),e?.blur?.()}function Kn(e,t,n){let o,i,r,l,s;a(e,Ke,(e=>n(11,o=e))),a(e,Ye,(e=>n(12,i=e))),a(e,Ae,(e=>n(13,r=e))),a(e,Le,(e=>n(14,l=e))),a(e,Be,(e=>n(15,s=e)));let c,u,d,p=[];async function m(e){s&&(await async function(){return await o({isAlert:!0,title:"Initializing Resources",text:"Please wait a moment..."})}(),document?.getElementById("usernameInput")?.focus?.());let t=e.target,a=t.classList;if("Enter"===e.key||"click"===e.type&&(a.contains("searchBtn")||t?.closest?.(".searchBtn"))){if(!c)return;c!==r&&(async()=>{r?await o(`Currently connected to ${r}, do you want to change account?`)?(window?.scrollTo?.({top:-9999,behavior:"smooth"}),f(Ye,i=!1,i),f(Le,l="Getting User Entries",l),zt({username:c}).then((({newusername:e})=>{e&&(n(0,c=f(Ae,r=e,r)),rt.update((e=>!e)))})).catch((e=>console.error(e)))):document?.getElementById("usernameInput")?.focus?.():await o(`Are you sure you want to connect to ${c}?`)?(window?.scrollTo?.({top:-9999,behavior:"smooth"}),f(Ye,i=!1,i),f(Le,l="Getting User Entries",l),await zt({username:c}).then((({newusername:e})=>{e&&n(0,c=f(Ae,r=e,r)),rt.update((e=>!e))})).catch((e=>console.error(e)))):document?.getElementById("usernameInput")?.focus?.()})()}}function h(e){if(d)return void(d=!1);let t=e.target.classList;(t.contains("nav")||t.contains("logo-icon"))&&Ye.set(!i)}var y;V((()=>{p.push(Ae.subscribe((e=>{n(0,c=e)})))})),y=()=>{p.forEach((e=>e()))},B().$$.on_destroy.push(y);return[c,m,h,function(){u&&clearTimeout(u),u=setTimeout((()=>{d=!0,window.scrollTo({top:-9999,behavior:"smooth"})}),500)},function(){u&&clearTimeout(u),d&&(u=setTimeout((()=>{d=!1}),50))},e=>"Enter"===e.key&&zn(),e=>"Enter"===e.key&&m(e),function(){c=this.value,n(0,c)},e=>"Enter"===e.key&&h(e)]}function Yn(e){let t,n,o,r,l,s,c,a,u,f,p,m,h,y,v,g,w,k,S,q,$,L,F,D,M,j,P,O,_,U,R,B,V,H,W=e[1]&&Gn(e),z=e[1]&&Jn(e);return{c(){t=A("div"),n=A("div"),o=A("button"),o.textContent="Update List",l=T(),s=A("button"),s.textContent="Show All Hidden Entries",a=T(),u=A("button"),u.textContent="Import Data",p=T(),m=A("button"),m.textContent="Export Data",y=T(),W&&W.c(),v=T(),g=A("button"),g.textContent="Dark Mode",k=T(),S=A("button"),q=N("Auto Update"),F=T(),D=A("button"),M=N("Auto Export"),O=T(),_=A("button"),_.textContent="Create an Anilist Account",R=T(),z&&z.c(),C(o,"class","button svelte-12mjre7"),C(s,"class","button svelte-12mjre7"),C(u,"class","button svelte-12mjre7"),C(m,"class","button svelte-12mjre7"),C(g,"class","button selected svelte-12mjre7"),C(S,"class",$=d("button "+(e[5]?"selected":""))+" svelte-12mjre7"),C(D,"class",j=d("button "+(e[3]?"selected":""))+" svelte-12mjre7"),C(_,"class","button svelte-12mjre7"),C(n,"class","menu svelte-12mjre7"),C(t,"class","menu-container svelte-12mjre7")},m(i,r){x(i,t,r),b(t,n),b(n,o),b(n,l),b(n,s),b(n,a),b(n,u),b(n,p),b(n,m),b(n,y),W&&W.m(n,null),b(n,v),b(n,g),b(n,k),b(n,S),b(S,q),b(n,F),b(n,D),b(D,M),b(n,O),b(n,_),b(n,R),z&&z.m(n,null),B=!0,V||(H=[I(o,"click",e[10]),I(o,"keydown",e[18]),I(s,"click",e[14]),I(s,"keydown",e[19]),I(u,"click",e[7]),I(u,"keydown",e[20]),I(m,"click",e[9]),I(m,"keydown",e[21]),I(g,"click",e[6]),I(g,"keydown",e[23]),I(S,"click",e[11]),I(S,"keydown",e[24]),I(D,"click",e[12]),I(D,"keydown",e[25]),I(_,"click",e[15]),I(_,"keydown",e[26]),I(t,"click",e[13]),I(t,"keydown",e[28])],V=!0)},p(e,t){e[1]?W?(W.p(e,t),2&t[0]&&ue(W,1)):(W=Gn(e),W.c(),ue(W,1),W.m(n,v)):W&&(ce(),de(W,1,1,(()=>{W=null})),ae()),(!B||32&t[0]&&$!==($=d("button "+(e[5]?"selected":""))+" svelte-12mjre7"))&&C(S,"class",$),(!B||8&t[0]&&j!==(j=d("button "+(e[3]?"selected":""))+" svelte-12mjre7"))&&C(D,"class",j),e[1]?z?(z.p(e,t),2&t[0]&&ue(z,1)):(z=Jn(e),z.c(),ue(z,1),z.m(n,null)):z&&(ce(),de(z,1,1,(()=>{z=null})),ae())},i(e){B||(Q((()=>{B&&(r||(r=pe(o,Rn,{x:50,duration:300},!0)),r.run(1))})),Q((()=>{B&&(c||(c=pe(s,Rn,{x:50,duration:300},!0)),c.run(1))})),Q((()=>{B&&(f||(f=pe(u,Rn,{x:50,duration:300},!0)),f.run(1))})),Q((()=>{B&&(h||(h=pe(m,Rn,{x:50,duration:300},!0)),h.run(1))})),ue(W),Q((()=>{B&&(w||(w=pe(g,Rn,{x:50,duration:300},!0)),w.run(1))})),Q((()=>{B&&(L||(L=pe(S,Rn,{x:50,duration:300},!0)),L.run(1))})),Q((()=>{B&&(P||(P=pe(D,Rn,{x:50,duration:300},!0)),P.run(1))})),Q((()=>{B&&(U||(U=pe(_,Rn,{x:50,duration:300},!0)),U.run(1))})),ue(z),B=!0)},o(e){r||(r=pe(o,Rn,{x:50,duration:300},!1)),r.run(0),c||(c=pe(s,Rn,{x:50,duration:300},!1)),c.run(0),f||(f=pe(u,Rn,{x:50,duration:300},!1)),f.run(0),h||(h=pe(m,Rn,{x:50,duration:300},!1)),h.run(0),de(W),w||(w=pe(g,Rn,{x:50,duration:300},!1)),w.run(0),L||(L=pe(S,Rn,{x:50,duration:300},!1)),L.run(0),P||(P=pe(D,Rn,{x:50,duration:300},!1)),P.run(0),U||(U=pe(_,Rn,{x:50,duration:300},!1)),U.run(0),de(z),B=!1},d(e){e&&E(t),e&&r&&r.end(),e&&c&&c.end(),e&&f&&f.end(),e&&h&&h.end(),W&&W.d(),e&&w&&w.end(),e&&L&&L.end(),e&&P&&P.end(),e&&U&&U.end(),z&&z.d(),V=!1,i(H)}}}function Gn(e){let t,n,o,r,l,s,c=(e[4]?"Change":"Set")+" Export Folder";return{c(){t=A("button"),n=N(c),C(t,"class","button svelte-12mjre7")},m(o,i){x(o,t,i),b(t,n),r=!0,l||(s=[I(t,"click",Qn),I(t,"keydown",e[22])],l=!0)},p(e,t){(!r||16&t[0])&&c!==(c=(e[4]?"Change":"Set")+" Export Folder")&&L(n,c)},i(e){r||(Q((()=>{r&&(o||(o=pe(t,Rn,{x:50,duration:300},!0)),o.run(1))})),r=!0)},o(e){o||(o=pe(t,Rn,{x:50,duration:300},!1)),o.run(0),r=!1},d(e){e&&E(t),e&&o&&o.end(),l=!1,i(s)}}}function Jn(t){let n,o,r,l,s;return{c(){n=A("button"),n.textContent="Switch App Mode",C(n,"class","button svelte-12mjre7")},m(e,o){x(e,n,o),r=!0,l||(s=[I(n,"keydown",t[27]),I(n,"click",t[16])],l=!0)},p:e,i(e){r||(Q((()=>{r&&(o||(o=pe(n,Rn,{x:50,duration:300},!0)),o.run(1))})),r=!0)},o(e){o||(o=pe(n,Rn,{x:50,duration:300},!1)),o.run(0),r=!1},d(e){e&&E(n),e&&o&&o.end(),l=!1,i(s)}}}function Xn(e){let t,n,o,i,r,l,s=e[2]&&Yn(e);return{c(){t=A("input"),n=T(),s&&s.c(),o=$(),C(t,"type","file"),C(t,"accept",".json"),D(t,"display","none")},m(c,a){x(c,t,a),e[17](t),x(c,n,a),s&&s.m(c,a),x(c,o,a),i=!0,r||(l=I(t,"change",e[8]),r=!0)},p(e,t){e[2]?s?(s.p(e,t),4&t[0]&&ue(s,1)):(s=Yn(e),s.c(),ue(s,1),s.m(o.parentNode,o)):s&&(ce(),de(s,1,1,(()=>{s=null})),ae())},i(e){i||(ue(s),i=!0)},o(e){de(s),i=!1},d(i){i&&E(t),e[17](null),i&&E(n),s&&s.d(i),i&&E(o),r=!1,l()}}}function Qn(){try{JSBridge.chooseExportFolder()}catch(e){}}function Zn(e,t,n){let o,i,r,l,s,c,u,d,p,m,h,y,v,g,w;async function b(){o({isAlert:!0,text:"Sorry, this is still not working."})}async function k(){return h?I():w instanceof Element?void(await o({text:"Are you sure you want to import your Data?"})&&w.click()):f(Le,l="Something went wrong...",l)}async function S(){return h?I():!v&&i?Qn():void(await o("Are you sure you want to export your Data?")&&(f(Ye,r=!1,r),it.update((e=>!e))))}async function x(){if(h)return I();await o("Are you sure you want to update your list?")&&(f(Ye,r=!1,r),ot.update((e=>!e)))}async function E(){await o(`Are you sure you want to ${g?"disable":"enable"} auto-update?`)&&(f(Ye,r=!1,r),f(Fe,g=!g,g))}async function q(){if(!v&&i)return Qn();await o(`Are you sure you want to ${y?"disable":"enable"} auto-export?`)&&(f(Ye,r=!1,r),f(Pe,y=!y,y))}function A(e){e.target.classList.contains("button")||f(Ye,r=!r,r)}async function N(){if(h)return I();if((e=>{for(const t in e)return!1;return!0})(d))o({isAlert:!0,text:"There is currently no hidden entries."});else if(await o("Are you sure you want to show all hidden Anime Entries?")){u&&(u.terminate(),f(Ce,u=null,u)),f(Ie,s=null,s),f(Le,l="Updating List",l),f(Ye,r=!1,r);let e=m?.filterSelection?.findIndex?.((({filterSelectionName:e})=>"Anime Filter"===e)),t=m?.filterSelection?.[e??-1]?.filters?.Checkbox?.findIndex?.((({filName:e})=>"hidden anime"===e));e>=0&&t>=0&&f(Te,m.filterSelection[e??-1].filters.Checkbox[t??-1].isSelected=!1,m),p?.["Anime Filter"]&&f($e,p["Anime Filter"]=p["Anime Filter"].filter((({optionName:e,filterType:t})=>"hidden"!==e&&"checkbox"!==t)),p),f(Ne,d={},d),await on(m,"filterOptions"),await on(p,"activeTagFilters"),await on(d,"hiddenEntries"),Pt().then((async e=>{f(Ce,u=e.animeLoaderWorker,u),f(ze,c="",c),f(Ie,s=e.finalAnimeList,s),f(Le,l=null,l)})).catch((e=>{throw e}))}}async function T(){await o("Are you sure want to sign-up an Anilist account?")&&(f(Ye,r=!1,r),window.open("https://anilist.co/signup","_blank"))}function $(){if(i)try{JSBridge.switchApp()}catch(e){}}function I(){o({isAlert:!0,title:"Initializing Resources",text:"Please wait a moment..."})}a(e,Ke,(e=>n(29,o=e))),a(e,Ee,(e=>n(1,i=e))),a(e,Ye,(e=>n(2,r=e))),a(e,Le,(e=>n(30,l=e))),a(e,Ie,(e=>n(31,s=e))),a(e,ze,(e=>n(32,c=e))),a(e,Ce,(e=>n(33,u=e))),a(e,Ne,(e=>n(34,d=e))),a(e,$e,(e=>n(35,p=e))),a(e,Te,(e=>n(36,m=e))),a(e,Be,(e=>n(37,h=e))),a(e,Pe,(e=>n(3,y=e))),a(e,je,(e=>n(4,v=e))),a(e,Fe,(e=>n(5,g=e))),window.setExportPathAvailability=async(e=!0)=>{f(je,v=e,v),await on(e,"exportPathIsAvailable")};return[w,i,r,y,v,g,b,k,async function(){if(!(w instanceof Element))return f(Le,l="Something went wrong...",l);let e=w.files?.[0];if(e){let i=e.name;await o(`File ${i?"named ["+i+"] ":""}has been detected, do you want to continue the import?`)?(await on(!0,"shouldProcessRecommendation"),f(Ye,r=!1,r),window?.scrollTo?.({top:-9999,behavior:"smooth"}),(t={importedFile:e},new Promise(((e,n)=>{Jt&&Jt.terminate(),Jt=new Worker("./webapi/worker/importUserData.js"),Gt&&clearTimeout(Gt),Jt.postMessage(t),Jt.onmessage=({data:t})=>{void 0!==t?.error?n(t?.error||"Something went wrong..."):void 0!==t?.status?(jt=!0,Le.set(t.status)):"string"==typeof t?.importedUsername?Ae.set(t.importedUsername):at(t?.importedHiddenEntries)?Ne.set(t?.importedHiddenEntries):t?.importedlastRunnedAutoUpdateDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoUpdateDate)?Me.set(t.importedlastRunnedAutoUpdateDate):t?.importedlastRunnedAutoExportDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoExportDate)?_e.set(t.importedlastRunnedAutoExportDate):void 0!==t?.updateFilters?nn().then((e=>{$e.set(e.activeTagFilters),Te.set(e.filterOptions)})):void 0!==t?.updateRecommendationList?rt.update((e=>!e)):(jt=!1,Gt=setTimeout((()=>{Jt.terminate()}),Mt),e(t))},Jt.onerror=e=>{n(e||"Something went wrong...")}}))).then((()=>{w instanceof Element&&n(0,w.value=null,w)})).catch((e=>{f(Le,l=e||"Something went wrong...",l),n(0,w.value=null,w),rt.update((e=>!e))}))):w instanceof Element&&n(0,w.value=null,w)}else w instanceof Element&&n(0,w.value=null,w);var t},S,x,E,q,A,N,T,$,function(e){W[e?"unshift":"push"]((()=>{w=e,n(0,w)}))},e=>"Enter"===e.key&&x(),e=>"Enter"===e.key&&N(),e=>"Enter"===e.key&&k(),e=>"Enter"===e.key&&S(),e=>"Enter"===e.key&&Qn(),e=>"Enter"===e.key&&b(),e=>"Enter"===e.key&&E(),e=>"Enter"===e.key&&q(),e=>"Enter"===e.key&&T(),e=>"Enter"===e.key&&$(),e=>"Enter"===e.key&&A(e)]}function eo(e,t,n){const o=e.slice();return o[80]=t[n].sortName,o[82]=n,o}function to(e,t,n){const o=e.slice();return o[83]=t[n].optionName,o[84]=t[n].optionIdx,o[85]=t[n].selected,o[86]=t[n].changeType,o[87]=t[n].filterType,o[88]=t[n].categIdx,o[89]=t[n].optionValue,o[90]=t[n].optionType,o}function no(e,t,n){const o=e.slice();return o[107]=t[n],o}function oo(e,t,n){const o=e.slice();return o[93]=t[n],o[94]=t,o[95]=n,o}function io(e,t,n){const o=e.slice();return o[96]=t[n],o[98]=n,o}function ro(e,t,n){const o=e.slice();return o[99]=t[n],o[100]=t,o[101]=n,o}function lo(e,t,n){const o=e.slice();return o[102]=t[n],o[103]=t,o[104]=n,o}function so(e,t,n){const o=e.slice();return o[105]=t[n],o[84]=n,o}function co(e,t,n){const o=e.slice();return o[110]=t[n].filterSelectionName,o[111]=t[n].isSelected,o}function ao(t){let n;return{c(){n=A("div"),C(n,"class","skeleton shimmer svelte-1tpqn62")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function uo(e){let t,n,o,i=(e[6]?.filterSelection?.filter?.(Go)?.[0]?.filterSelectionName||"")+"";return{c(){t=A("span"),n=A("h2"),o=N(i),C(n,"class","svelte-1tpqn62"),C(t,"class","svelte-1tpqn62")},m(e,i){x(e,t,i),b(t,n),b(n,o)},p(e,t){64&t[0]&&i!==(i=(e[6]?.filterSelection?.filter?.(Go)?.[0]?.filterSelectionName||"")+"")&&L(o,i)},d(e){e&&E(t)}}}function fo(n){let o,l,s,c;function a(e,t){return e[9]?ho:e[10]||e[7]?po:mo}let u=a(n),d=u(n);return{c(){o=A("span"),l=A("h2"),d.c(),C(l,"class","svelte-1tpqn62"),C(o,"class","data-status svelte-1tpqn62")},m(e,t){x(e,o,t),b(o,l),d.m(l,null),c=!0},p(e,t){u===(u=a(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(l,null)))},i(e){c||(s&&s.end(1),c=!0)},o(n){s=function(n,o,l){const s={direction:"out"};let c,a=o(n,l,s),u=!0;const d=se;function f(){const{delay:o=0,duration:r=300,easing:l=t,tick:s=e,css:f}=a||fe;f&&(c=_(n,1,0,r,o,l,f));const p=h()+o,m=p+r;Q((()=>re(n,!1,"start"))),w((e=>{if(u){if(e>=m)return s(0,1),re(n,!1,"end"),--d.r||i(d.c),!1;if(e>=p){const t=l((e-p)/r);s(1-t,t)}}return u}))}return d.r+=1,r(a)?ie().then((()=>{a=a(s),f()})):f(),{end(e){e&&a.tick&&a.tick(1,0),u&&(c&&U(n,c),u=!1)}}}(o,Un,{duration:300}),c=!1},d(e){e&&E(o),d.d(),e&&s&&s.end()}}}function po(t){let n;return{c(){n=N("")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function mo(t){let n;return{c(){n=N("No Anilist Username Found")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function ho(e){let t;return{c(){t=N(e[9])},m(e,n){x(e,t,n)},p(e,n){512&n[0]&&L(t,e[9])},d(e){e&&E(t)}}}function yo(e){let t,n,o,r,l,s,c,a,u,f,p=[],m=new Map,h=e[6]?.filterSelection||[];const y=e=>e[110];for(let t=0;t<h.length;t+=1){let n=co(e,h,t),o=y(n);m.set(o,p[t]=vo(o,n))}return{c(){t=A("div"),n=A("div"),o=A("h2"),o.textContent="Filters",r=T(),l=A("div"),l.textContent="×",s=T(),c=A("div");for(let e=0;e<p.length;e+=1)p[e].c();C(o,"class","svelte-1tpqn62"),C(l,"class","closing-x svelte-1tpqn62"),C(n,"class","header svelte-1tpqn62"),C(c,"class","options svelte-1tpqn62"),C(t,"class",a=d("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-1tpqn62")},m(i,a){x(i,t,a),b(t,n),b(n,o),b(n,r),b(n,l),b(t,s),b(t,c);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(c,null);u||(f=[I(l,"keydown",e[33]),I(l,"click",e[14])],u=!0)},p(e,n){8256&n[0]&&(h=e[6]?.filterSelection||[],p=ye(p,n,y,1,e,h,m,c,me,vo,null,co)),8&n[0]&&a!==(a=d("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-1tpqn62")&&C(t,"class",a)},d(e){e&&E(t);for(let e=0;e<p.length;e+=1)p[e].d();u=!1,i(f)}}}function vo(e,t){let n,o,l,s,c,a,u=(t[110]||"")+"";function d(...e){return t[34](t[110],...e)}return{key:e,first:null,c(){n=A("div"),o=A("h3"),l=N(u),s=T(),C(o,"class","svelte-1tpqn62"),D(o,"color",t[111]?"#3db4f2":"inherit"),C(n,"class","option svelte-1tpqn62"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,l),b(n,s),c||(a=[I(n,"click",(function(){r(t[13](t[110]))&&t[13](t[110]).apply(this,arguments)})),I(n,"keydown",d)],c=!0)},p(e,n){t=e,64&n[0]&&u!==(u=(t[110]||"")+"")&&L(l,u),64&n[0]&&D(o,"color",t[111]?"#3db4f2":"inherit")},d(e){e&&E(n),c=!1,i(a)}}}function go(t){let n,o=Array(10),i=[];for(let e=0;e<o.length;e+=1)i[e]=bo(no(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=$()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);x(e,n,t)},p:e,d(e){q(i,e),e&&E(n)}}}function wo(e){let t,n=[],o=new Map,i=e[6]?.filterSelection||[];const r=e=>e[93].filterSelectionName;for(let t=0;t<i.length;t+=1){let l=oo(e,i,t),s=r(l);o.set(s,n[t]=Po(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){135237831&l[0]&&(i=e[6]?.filterSelection||[],n=ye(n,l,r,1,e,i,o,t.parentNode,me,Po,t,oo))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function bo(t){let n;return{c(){n=A("div"),n.innerHTML='<div class="filter-name skeleton shimmer svelte-1tpqn62"></div> \n                    <div class="select skeleton shimmer svelte-1tpqn62"></div> \n                ',C(n,"class","filter-select svelte-1tpqn62")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function ko(t){let n;return{c(){n=A("i"),C(n,"class","icon fa-solid fa-angle-down svelte-1tpqn62")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function So(e){let t,n,o;function l(...t){return e[36](e[104],...t)}return{c(){t=A("i"),C(t,"class","icon fa-solid fa-angle-up svelte-1tpqn62")},m(i,s){x(i,t,s),n||(o=[I(t,"keydown",l),I(t,"click",(function(){r(e[16](e[104]))&&e[16](e[104]).apply(this,arguments)}))],n=!0)},p(t,n){e=t},d(e){e&&E(t),n=!1,i(o)}}}function xo(t){let n;return{c(){n=A("div"),n.innerHTML='<h3 class="svelte-1tpqn62">No Results</h3>',C(n,"class","option svelte-1tpqn62")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function Eo(e){let t,n=[],o=new Map,i=e[102].options||[];const r=e=>e[93].filterSelectionName+e[102].filName+e[105].optionName;for(let t=0;t<i.length;t+=1){let l=so(e,i,t),s=r(l);o.set(s,n[t]=$o(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){131136&l[0]&&(i=e[102].options||[],n=ye(n,l,r,1,e,i,o,t.parentNode,me,$o,t,so))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function qo(t){let n;return{c(){n=A("i"),C(n,"class","fa-regular fa-circle-xmark async-element svelte-1tpqn62"),D(n,"--optionColor","#e85d75")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function Ao(e){let t;function n(e,t){return"Content Caution"===e[93].filterSelectionName?To:No}let o=n(e),i=o(e);return{c(){i.c(),t=$()},m(e,n){i.m(e,n),x(e,t,n)},p(e,r){o!==(o=n(e))&&(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&E(t)}}}function No(e){let t;return{c(){t=A("i"),C(t,"class","fa-regular fa-circle-check async-element svelte-1tpqn62"),D(t,"--optionColor","#5f9ea0")},m(e,n){x(e,t,n)},d(e){e&&E(t)}}}function To(e){let t;return{c(){t=A("i"),C(t,"class","fa-regular fa-circle-xmark async-element svelte-1tpqn62"),D(t,"--optionColor","#5f9ea0")},m(e,n){x(e,t,n)},d(e){e&&E(t)}}}function $o(e,t){let n,o,l,s,c,a,u,f=(t[105].optionName||"")+"";function p(e,t){return"included"===e[105].selected?Ao:"excluded"===e[105].selected&&"read"!==e[102].changeType?qo:void 0}let m=p(t),h=m&&m(t);function y(...e){return t[41](t[105],t[102],t[84],t[104],t[93],...e)}return{key:e,first:null,c(){n=A("div"),o=A("h3"),l=N(f),s=T(),h&&h.c(),C(o,"class","svelte-1tpqn62"),C(n,"class",c=d("option "+(Ko(t[105].optionName,t[102].optKeyword)?"":"disable-interaction"))+" svelte-1tpqn62"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,l),b(n,s),h&&h.m(n,null),a||(u=[I(n,"click",(function(){r(t[17](t[105].optionName,t[102].filName,t[84],t[104],t[102].changeType,t[93].filterSelectionName))&&t[17](t[105].optionName,t[102].filName,t[84],t[104],t[102].changeType,t[93].filterSelectionName).apply(this,arguments)})),I(n,"keydown",y)],a=!0)},p(e,o){t=e,64&o[0]&&f!==(f=(t[105].optionName||"")+"")&&L(l,f),m===(m=p(t))&&h?h.p(t,o):(h&&h.d(1),h=m&&m(t),h&&(h.c(),h.m(n,null))),64&o[0]&&c!==(c=d("option "+(Ko(t[105].optionName,t[102].optKeyword)?"":"disable-interaction"))+" svelte-1tpqn62")&&C(n,"class",c)},d(e){e&&E(n),h&&h.d(),a=!1,i(u)}}}function Io(e,t){let n,o,l,s,c,a,u,f,p,m,h,y,v,g,w,k,S,q,$,M,j,P,O,_,U,R,B,V,H,W=(t[102].filName||"")+"",z=t[102].filName+"",K=`${t[2]}px`;function Y(...e){return t[30](t[102],...e)}function G(){t[35].call(f,t[95],t[104])}function J(e,t){return e[102].selected&&e[102].options.length&&!e[0]?So:ko}let X=J(t),Q=X(t);function Z(...e){return t[37](t[104],...e)}function ee(...e){return t[38](t[104],...e)}function te(...e){return t[39](t[104],...e)}function ne(){t[40].call(M,t[95],t[104])}function oe(e,t){return 64&t[0]&&(_=null),null==_&&(_=!!e[102].options?.filter?.(Y)?.length),_?Eo:xo}let ie=oe(t,[-1,-1,-1,-1]),re=ie(t);return{key:e,first:null,c(){n=A("div"),o=A("div"),l=A("h2"),s=N(W),c=T(),a=A("div"),u=A("div"),f=A("input"),m=T(),Q.c(),h=T(),y=A("div"),v=A("div"),g=A("div"),w=A("h2"),k=N(z),S=T(),q=A("div"),q.textContent="×",$=T(),M=A("input"),P=T(),O=A("div"),re.c(),C(l,"class","svelte-1tpqn62"),C(o,"class","filter-name svelte-1tpqn62"),C(f,"placeholder","Any"),C(f,"type","search"),C(f,"enterkeyhint","search"),C(f,"autocomplete","off"),C(f,"class","value-input svelte-1tpqn62"),f.disabled=p=t[1]<=425||!t[93].isSelected,C(u,"class","value-wrap svelte-1tpqn62"),C(a,"class","select svelte-1tpqn62"),C(w,"class","svelte-1tpqn62"),C(q,"class","closing-x svelte-1tpqn62"),C(g,"class","header svelte-1tpqn62"),C(M,"placeholder","Any"),C(M,"type","search"),C(M,"enterkeyhint","search"),C(M,"autocomplete","off"),M.disabled=j=!t[93].isSelected,C(M,"class","svelte-1tpqn62"),C(O,"class","options svelte-1tpqn62"),C(v,"class",U=d("options-wrap-filter-info "+(t[102].options.length&&!0===t[102].selected&&!t[0]?"":"hide"))+" svelte-1tpqn62"),C(y,"class",R=d("options-wrap "+(t[102].options.length&&!0===t[102].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-1tpqn62"),D(y,"--maxFilterSelectionHeight",K),C(n,"class",B=d("filter-select "+(t[93].isSelected?"":"disable-interaction"))+" svelte-1tpqn62"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,l),b(l,s),b(n,c),b(n,a),b(a,u),b(u,f),F(f,t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword),b(a,m),Q.m(a,null),b(n,h),b(n,y),b(y,v),b(v,g),b(g,w),b(w,k),b(g,S),b(g,q),b(v,$),b(v,M),F(M,t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword),b(v,P),b(v,O),re.m(O,null),V||(H=[I(f,"input",G),I(a,"keydown",Z),I(a,"click",ee),I(q,"keydown",te),I(q,"click",(function(){r(t[16](t[104]))&&t[16](t[104]).apply(this,arguments)})),I(M,"input",ne)],V=!0)},p(e,o){t=e,64&o[0]&&W!==(W=(t[102].filName||"")+"")&&L(s,W),66&o[0]&&p!==(p=t[1]<=425||!t[93].isSelected)&&(f.disabled=p),64&o[0]&&f.value!==t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword&&F(f,t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword),X===(X=J(t))&&Q?Q.p(t,o):(Q.d(1),Q=X(t),Q&&(Q.c(),Q.m(a,null))),64&o[0]&&z!==(z=t[102].filName+"")&&L(k,z),64&o[0]&&j!==(j=!t[93].isSelected)&&(M.disabled=j),64&o[0]&&M.value!==t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword&&F(M,t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword),ie===(ie=oe(t,o))&&re?re.p(t,o):(re.d(1),re=ie(t),re&&(re.c(),re.m(O,null))),65&o[0]&&U!==(U=d("options-wrap-filter-info "+(t[102].options.length&&!0===t[102].selected&&!t[0]?"":"hide"))+" svelte-1tpqn62")&&C(v,"class",U),65&o[0]&&R!==(R=d("options-wrap "+(t[102].options.length&&!0===t[102].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-1tpqn62")&&C(y,"class",R),4&o[0]&&K!==(K=`${t[2]}px`)&&D(y,"--maxFilterSelectionHeight",K),64&o[0]&&B!==(B=d("filter-select "+(t[93].isSelected?"":"disable-interaction"))+" svelte-1tpqn62")&&C(n,"class",B)},d(e){e&&E(n),Q.d(),re.d(),V=!1,i(H)}}}function Co(e){let t,n,o,r,l,s,c,a,u,d=(e[99].filName||"")+"";function f(e,t){return e[7]?Fo:Lo}let p=f(e),m=p(e);function h(...t){return e[45](e[99],e[101],e[93],...t)}function y(...t){return e[46](e[99],e[101],e[93],...t)}return{c(){t=A("div"),n=A("div"),o=T(),r=A("div"),m.c(),l=T(),s=A("div"),c=N(d),C(n,"class","svelte-1tpqn62"),D(n,"visibility","none"),C(s,"class","checkbox-label svelte-1tpqn62"),C(r,"class","checkbox-wrap svelte-1tpqn62"),C(t,"class","filter-checkbox svelte-1tpqn62")},m(e,i){x(e,t,i),b(t,n),b(t,o),b(t,r),m.m(r,null),b(r,l),b(r,s),b(s,c),a||(u=[I(r,"click",h),I(r,"keydown",y)],a=!0)},p(t,n){p===(p=f(e=t))&&m?m.p(e,n):(m.d(1),m=p(e),m&&(m.c(),m.m(r,l))),64&n[0]&&d!==(d=(e[99].filName||"")+"")&&L(c,d)},d(e){e&&E(t),m.d(),a=!1,i(u)}}}function Lo(e){let t,n,o;function r(...t){return e[43](e[99],e[101],e[93],...t)}function l(){e[44].call(t,e[100],e[101])}return{c(){t=A("input"),C(t,"type","checkbox"),C(t,"class","checkbox svelte-1tpqn62")},m(i,s){x(i,t,s),t.checked=e[99].isSelected,n||(o=[I(t,"change",r),I(t,"change",l)],n=!0)},p(n,o){e=n,64&o[0]&&(t.checked=e[99].isSelected)},d(e){e&&E(t),n=!1,i(o)}}}function Fo(e){let t,n,o,i;return{c(){t=A("input"),C(t,"type","checkbox"),C(t,"class","checkbox svelte-1tpqn62"),t.checked=n=e[99].isSelected},m(n,r){x(n,t,r),o||(i=I(t,"change",e[42]),o=!0)},p(e,o){64&o[0]&&n!==(n=e[99].isSelected)&&(t.checked=n)},d(e){e&&E(t),o=!1,i()}}}function Do(e,t){let n,o,i=t[93].isSelected&&Co(t);return{key:e,first:null,c(){n=$(),i&&i.c(),o=$(),this.first=n},m(e,t){x(e,n,t),i&&i.m(e,t),x(e,o,t)},p(e,n){(t=e)[93].isSelected?i?i.p(t,n):(i=Co(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&E(n),i&&i.d(e),e&&E(o)}}}function Mo(e){let t,n,o,i,r,l,s,c,a,u,d,f,p=(e[96].filName||"")+"";function m(...t){return e[47](e[98],e[96],e[93],...t)}return{c(){t=A("div"),n=A("div"),o=A("h2"),i=N(p),r=T(),l=A("div"),s=A("input"),u=T(),C(o,"class","svelte-1tpqn62"),C(n,"class","filter-input-number-name svelte-1tpqn62"),C(s,"class","value-input-number svelte-1tpqn62"),C(s,"type","text"),C(s,"placeholder",c="scoring system"===e[96].filName?"Default: User Scoring":e[12].includes(e[96].filName)?">123 or 123":null!==e[96].defaultValue?"Default: "+e[96].defaultValue:"123"),s.value=a=e[96].numberValue||"",C(l,"class","value-input-number-wrap svelte-1tpqn62"),C(t,"class","filter-input-number svelte-1tpqn62"),D(t,"display",e[93].isSelected?"":"none")},m(e,c){x(e,t,c),b(t,n),b(n,o),b(o,i),b(t,r),b(t,l),b(l,s),b(t,u),d||(f=I(s,"input",m),d=!0)},p(n,o){e=n,64&o[0]&&p!==(p=(e[96].filName||"")+"")&&L(i,p),64&o[0]&&c!==(c="scoring system"===e[96].filName?"Default: User Scoring":e[12].includes(e[96].filName)?">123 or 123":null!==e[96].defaultValue?"Default: "+e[96].defaultValue:"123")&&C(s,"placeholder",c),64&o[0]&&a!==(a=e[96].numberValue||"")&&s.value!==a&&(s.value=a),64&o[0]&&D(t,"display",e[93].isSelected?"":"none")},d(e){e&&E(t),d=!1,f()}}}function jo(e,t){let n,o,i=t[93].isSelected&&Mo(t);return{key:e,first:null,c(){n=$(),i&&i.c(),o=$(),this.first=n},m(e,t){x(e,n,t),i&&i.m(e,t),x(e,o,t)},p(e,n){(t=e)[93].isSelected?i?i.p(t,n):(i=Mo(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&E(n),i&&i.d(e),e&&E(o)}}}function Po(e,t){let n,o,i,r,l=[],s=new Map,c=[],a=new Map,u=[],d=new Map,f=t[93].filters.Dropdown||[];const p=e=>e[93].filterSelectionName+e[102].filName;for(let e=0;e<f.length;e+=1){let n=lo(t,f,e),o=p(n);s.set(o,l[e]=Io(o,n))}let m=t[93].filters.Checkbox||[];const h=e=>e[93].filterSelectionName+e[99].filName;for(let e=0;e<m.length;e+=1){let n=ro(t,m,e),o=h(n);a.set(o,c[e]=Do(o,n))}let y=t[93].filters["Input Number"]||[];const v=e=>e[93].filterSelectionName+e[96].filName;for(let e=0;e<y.length;e+=1){let n=io(t,y,e),o=v(n);d.set(o,u[e]=jo(o,n))}return{key:e,first:null,c(){n=$();for(let e=0;e<l.length;e+=1)l[e].c();o=T();for(let e=0;e<c.length;e+=1)c[e].c();i=T();for(let e=0;e<u.length;e+=1)u[e].c();r=$(),this.first=n},m(e,t){x(e,n,t);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,t);x(e,o,t);for(let n=0;n<c.length;n+=1)c[n]&&c[n].m(e,t);x(e,i,t);for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(e,t);x(e,r,t)},p(e,n){t=e,229447&n[0]&&(f=t[93].filters.Dropdown||[],l=ye(l,n,p,1,t,f,s,o.parentNode,me,Io,o,lo)),134480064&n[0]&&(m=t[93].filters.Checkbox||[],c=ye(c,n,h,1,t,m,a,i.parentNode,me,Do,i,ro)),528448&n[0]&&(y=t[93].filters["Input Number"]||[],u=ye(u,n,v,1,t,y,d,r.parentNode,me,jo,r,io))},d(e){e&&E(n);for(let t=0;t<l.length;t+=1)l[t].d(e);e&&E(o);for(let t=0;t<c.length;t+=1)c[t].d(e);e&&E(i);for(let t=0;t<u.length;t+=1)u[t].d(e);e&&E(r)}}}function Oo(e){let t,n,o=(e[83]||"")+"";return{c(){t=A("h3"),n=N(o),C(t,"class","svelte-1tpqn62")},m(e,o){x(e,t,o),b(t,n)},p(e,t){320&t[0]&&o!==(o=(e[83]||"")+"")&&L(n,o)},d(e){e&&E(t)}}}function _o(e){let t,n,o=(e[90]+": "+e[83]||"")+"";return{c(){t=A("h3"),n=N(o),C(t,"class","svelte-1tpqn62")},m(e,o){x(e,t,o),b(t,n)},p(e,t){320&t[0]&&o!==(o=(e[90]+": "+e[83]||"")+"")&&L(n,o)},d(e){e&&E(t)}}}function Uo(e){let t,n,o=(e[83]+": "+e[89]||"")+"";return{c(){t=A("h3"),n=N(o),C(t,"class","svelte-1tpqn62")},m(e,o){x(e,t,o),b(t,n)},p(e,t){320&t[0]&&o!==(o=(e[83]+": "+e[89]||"")+"")&&L(n,o)},d(e){e&&E(t)}}}function Ro(e,t){let n,o,r,l,s,c,a,u;function d(e,t){return"input number"===e[87]?Uo:e[90]?_o:Oo}let f=d(t),p=f(t);function m(...e){return t[49](t[84],t[83],t[87],t[88],t[90],...e)}function h(...e){return t[50](t[84],t[83],t[87],t[88],t[90],...e)}function y(...e){return t[51](t[84],t[83],t[87],t[88],t[86],t[90],t[89],...e)}function v(...e){return t[52](t[84],t[83],t[87],t[88],t[86],t[90],t[89],...e)}return{key:e,first:null,c(){n=A("div"),p.c(),o=T(),r=A("i"),l=T(),C(r,"class","fa-solid fa-xmark svelte-1tpqn62"),C(n,"class","activeTagFilter svelte-1tpqn62"),D(n,"--activeTagFilterColor","included"===t[85]?"#5f9ea0":"#e85d75"),this.first=n},m(e,t){var i;x(e,n,t),p.m(n,null),b(n,o),b(n,r),b(n,l),c=!0,a||(u=[I(r,"click",(i=m,function(e){return e.preventDefault(),i.call(this,e)})),I(r,"keydown",h),I(n,"click",y),I(n,"keydown",v)],a=!0)},p(e,i){f===(f=d(t=e))&&p?p.p(t,i):(p.d(1),p=f(t),p&&(p.c(),p.m(n,o))),320&i[0]&&D(n,"--activeTagFilterColor","included"===t[85]?"#5f9ea0":"#e85d75")},i(e){c||(Q((()=>{c&&(s||(s=pe(n,Rn,{x:-10,duration:300},!0)),s.run(1))})),c=!0)},o(e){s||(s=pe(n,Rn,{x:-10,duration:300},!1)),s.run(0),c=!1},d(e){e&&E(n),p.d(),e&&s&&s.end(),a=!1,i(u)}}}function Bo(t){let n;return{c(){n=A("div"),C(n,"class","sortFilter skeleton shimmer svelte-1tpqn62")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function Vo(e){let t,n,o,r,l,s,c,a,u,f,p,m,h,y,v,g,w,k,S,q=(e[6]?.sortFilter?.[e[6]?.sortFilter.findIndex(ei)]?.sortName||"")+"",$=[],F=new Map,M=`${e[2]}px`,j=e[6]?.sortFilter||[];const P=e=>e[80]+e[82];for(let t=0;t<j.length;t+=1){let n=eo(e,j,t),o=P(n);F.set(o,$[t]=Wo(o,n))}return{c(){t=A("div"),n=A("i"),r=T(),l=A("h2"),s=N(q),c=T(),a=A("div"),u=A("div"),f=A("div"),p=A("h2"),p.textContent="Sort By",m=T(),h=A("div"),h.textContent="×",y=T(),v=A("div");for(let e=0;e<$.length;e+=1)$[e].c();C(n,"class",o=d("fa-duotone fa-sort-"+("asc"===e[6]?.sortFilter?.[e[6]?.sortFilter?.findIndex(Zo)]?.sortType?"up":"down"))+" svelte-1tpqn62"),C(l,"class","svelte-1tpqn62"),C(p,"class","svelte-1tpqn62"),C(h,"class","closing-x svelte-1tpqn62"),C(f,"class","header svelte-1tpqn62"),C(v,"class","options svelte-1tpqn62"),C(u,"class",g=d("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-1tpqn62"),C(a,"class",w=d("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-1tpqn62"),D(a,"--maxFilterSelectionHeight",M),C(t,"class","sortFilter svelte-1tpqn62")},m(o,i){x(o,t,i),b(t,n),b(t,r),b(t,l),b(l,s),b(t,c),b(t,a),b(a,u),b(u,f),b(f,p),b(f,m),b(f,h),b(u,y),b(u,v);for(let e=0;e<$.length;e+=1)$[e]&&$[e].m(v,null);k||(S=[I(n,"click",e[25]),I(n,"keydown",e[54]),I(l,"click",e[23]),I(l,"keydown",e[55]),I(h,"keydown",e[56]),I(h,"click",e[23])],k=!0)},p(e,t){64&t[0]&&o!==(o=d("fa-duotone fa-sort-"+("asc"===e[6]?.sortFilter?.[e[6]?.sortFilter?.findIndex(Zo)]?.sortType?"up":"down"))+" svelte-1tpqn62")&&C(n,"class",o),64&t[0]&&q!==(q=(e[6]?.sortFilter?.[e[6]?.sortFilter.findIndex(ei)]?.sortName||"")+"")&&L(s,q),16777280&t[0]&&(j=e[6]?.sortFilter||[],$=ye($,t,P,1,e,j,F,v,me,Wo,null,eo)),16&t[0]&&g!==(g=d("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-1tpqn62")&&C(u,"class",g),16&t[0]&&w!==(w=d("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-1tpqn62")&&C(a,"class",w),4&t[0]&&M!==(M=`${e[2]}px`)&&D(a,"--maxFilterSelectionHeight",M)},d(e){e&&E(t);for(let e=0;e<$.length;e+=1)$[e].d();k=!1,i(S)}}}function Ho(e){let t,n;return{c(){t=A("i"),C(t,"class",n=d("fa-duotone fa-sort-"+("asc"===e[6]?.sortFilter?.[e[6]?.sortFilter?.findIndex(ti)].sortType?"up":"down"))+" svelte-1tpqn62")},m(e,n){x(e,t,n)},p(e,o){64&o[0]&&n!==(n=d("fa-duotone fa-sort-"+("asc"===e[6]?.sortFilter?.[e[6]?.sortFilter?.findIndex(ti)].sortType?"up":"down"))+" svelte-1tpqn62")&&C(t,"class",n)},d(e){e&&E(t)}}}function Wo(e,t){let n,o,l,s,c,a,u,d=(t[80]||"")+"",f=t[6]?.sortFilter?.[t[6]?.sortFilter?.findIndex(Yo)].sortName===t[80]&&t[80],p=f&&Ho(t);function m(...e){return t[57](t[80],...e)}return{key:e,first:null,c(){n=A("div"),o=A("h3"),l=N(d),s=T(),p&&p.c(),c=T(),C(o,"class","svelte-1tpqn62"),C(n,"class","option svelte-1tpqn62"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,l),b(n,s),p&&p.m(n,null),b(n,c),a||(u=[I(n,"click",(function(){r(t[24](t[80]))&&t[24](t[80]).apply(this,arguments)})),I(n,"keydown",m)],a=!0)},p(e,o){t=e,64&o[0]&&d!==(d=(t[80]||"")+"")&&L(l,d),64&o[0]&&(f=t[6]?.sortFilter?.[t[6]?.sortFilter?.findIndex(Yo)].sortName===t[80]&&t[80]),f?p?p.p(t,o):(p=Ho(t),p.c(),p.m(n,c)):p&&(p.d(1),p=null)},d(e){e&&E(n),p&&p.d(),a=!1,i(u)}}}function zo(e){let t,n,o,r,l,s,c,a,f,p,m,h,y,v,g,w,k,S,q,N,$,L,M,j,P,O,_,U,R=`${e[2]}px`,B=`${window.innerHeight}px`,V=[],H=new Map;function W(e,t){return e[6]?uo:ao}let z=W(e),K=z(e),Y=(e[9]||!e[10])&&fo(e),G=e[6]&&yo(e);function J(e,t){return e[6]?wo:go}let X=J(e),Q=X(e),Z=e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(Xo)]?.filterSelectionName]||[];const ee=e=>e[83]+e[84]+(e[90]??"");for(let t=0;t<Z.length;t+=1){let n=to(e,Z,t),o=ee(n);H.set(o,V[t]=Ro(o,n))}function te(e,t){return e[6]?Vo:Bo}let ne=te(e),oe=ne(e);const ie=e[29].default,re=function(e,t,n,o){if(e){const i=u(e,t,n,o);return e[0](i)}}(ie,e,e[28],null);return{c(){t=A("main"),n=A("div"),K.c(),o=T(),Y&&Y.c(),r=T(),l=A("div"),s=A("input"),c=T(),a=A("div"),f=A("i"),p=T(),m=A("div"),G&&G.c(),y=T(),v=A("div"),Q.c(),g=T(),w=A("div"),k=A("div"),S=A("i"),q=T();for(let e=0;e<V.length;e+=1)V[e].c();N=T(),$=A("div"),L=A("i"),j=T(),oe.c(),P=T(),re&&re.c(),C(n,"class","home-status svelte-1tpqn62"),C(s,"id","input-search"),C(s,"class","input-search svelte-1tpqn62"),C(s,"type","search"),C(s,"enterkeyhint","search"),C(s,"autocomplete","off"),C(s,"placeholder","Search"),C(f,"class","fa-solid fa-sliders svelte-1tpqn62"),C(m,"class",h=d("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-1tpqn62"),D(m,"--maxFilterSelectionHeight",R),C(a,"class","filterType svelte-1tpqn62"),C(l,"class","input-search-wrap svelte-1tpqn62"),C(v,"class","filters svelte-1tpqn62"),C(v,"id","filters"),D(v,"--maxPaddingHeight",B),C(S,"class","fa-solid fa-ban svelte-1tpqn62"),C(S,"title","Remove Filters"),D(S,"display",e[8]?"":"none"),D(S,"visibility",e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(Jo)]?.filterSelectionName]?.length?"visible":"hidden"),C(k,"id","tagFilters"),C(k,"class","tagFilters svelte-1tpqn62"),D(k,"max-height",e[5]?"200px":"28px"),C(L,"class",M=d("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-1tpqn62"),C($,"class","showHideActiveFilters svelte-1tpqn62"),C(w,"class","activeFilters svelte-1tpqn62"),D(w,"display",(e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(Qo)]?.filterSelectionName]||[]).length?"":"none"),C(t,"class","svelte-1tpqn62")},m(i,u){x(i,t,u),b(t,n),K.m(n,null),b(n,o),Y&&Y.m(n,null),b(t,r),b(t,l),b(l,s),F(s,e[11]),b(l,c),b(l,a),b(a,f),b(a,p),b(a,m),G&&G.m(m,null),b(t,y),b(t,v),Q.m(v,null),b(t,g),b(t,w),b(w,k),b(k,S),b(k,q);for(let e=0;e<V.length;e+=1)V[e]&&V[e].m(k,null);b(w,N),b(w,$),b($,L),b(t,j),oe.m(t,null),b(t,P),re&&re.m(t,null),O=!0,_||(U=[I(s,"input",e[31]),I(f,"click",e[14]),I(f,"keydown",e[32]),I(S,"click",e[22]),I(S,"keydown",e[48]),I($,"click",e[26]),I($,"keydown",e[53])],_=!0)},p(e,i){z===(z=W(e))&&K?K.p(e,i):(K.d(1),K=z(e),K&&(K.c(),K.m(n,o))),e[9]||!e[10]?Y?(Y.p(e,i),1536&i[0]&&ue(Y,1)):(Y=fo(e),Y.c(),ue(Y,1),Y.m(n,null)):Y&&(ce(),de(Y,1,1,(()=>{Y=null})),ae()),2048&i[0]&&s.value!==e[11]&&F(s,e[11]),e[6]?G?G.p(e,i):(G=yo(e),G.c(),G.m(m,null)):G&&(G.d(1),G=null),(!O||8&i[0]&&h!==(h=d("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-1tpqn62"))&&C(m,"class",h),4&i[0]&&R!==(R=`${e[2]}px`)&&D(m,"--maxFilterSelectionHeight",R),X===(X=J(e))&&Q?Q.p(e,i):(Q.d(1),Q=X(e),Q&&(Q.c(),Q.m(v,null))),256&i[0]&&D(S,"display",e[8]?"":"none"),320&i[0]&&D(S,"visibility",e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(Jo)]?.filterSelectionName]?.length?"visible":"hidden"),3146048&i[0]&&(Z=e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(Xo)]?.filterSelectionName]||[],ce(),V=ye(V,i,ee,1,e,Z,H,k,he,Ro,null,to),ae()),32&i[0]&&D(k,"max-height",e[5]?"200px":"28px"),(!O||32&i[0]&&M!==(M=d("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-1tpqn62"))&&C(L,"class",M),320&i[0]&&D(w,"display",(e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(Qo)]?.filterSelectionName]||[]).length?"":"none"),ne===(ne=te(e))&&oe?oe.p(e,i):(oe.d(1),oe=ne(e),oe&&(oe.c(),oe.m(t,P))),re&&re.p&&(!O||268435456&i[0])&&function(e,t,n,o,i,r){if(i){const l=u(t,n,o,r);e.p(l,i)}}(re,ie,e,e[28],O?function(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}(ie,e[28],i,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[28]),null)},i(e){if(!O){ue(Y);for(let e=0;e<Z.length;e+=1)ue(V[e]);ue(re,e),O=!0}},o(e){de(Y);for(let e=0;e<V.length;e+=1)de(V[e]);de(re,e),O=!1},d(e){e&&E(t),K.d(),Y&&Y.d(),G&&G.d(),Q.d();for(let e=0;e<V.length;e+=1)V[e].d();oe.d(),re&&re.d(e),_=!1,i(U)}}}function Ko(e,t){if("string"==typeof e&&"string"==typeof t)return e.toLowerCase().includes(t.trim().toLowerCase())}const Yo=({sortType:e})=>"none"!==e,Go=({isSelected:e})=>e,Jo=({isSelected:e})=>e,Xo=({isSelected:e})=>e,Qo=({isSelected:e})=>e,Zo=({sortType:e})=>"none"!==e,ei=({sortType:e})=>"none"!==e,ti=({sortType:e})=>"none"!==e;function ni(e,t,n){let o,i,r,l,s,c,u,d,p,m,h;a(e,Ke,(e=>n(66,o=e))),a(e,Te,(e=>n(6,i=e))),a(e,Ce,(e=>n(67,r=e))),a(e,Ie,(e=>n(68,l=e))),a(e,Be,(e=>n(7,s=e))),a(e,$e,(e=>n(8,c=e))),a(e,st,(e=>n(69,u=e))),a(e,Le,(e=>n(9,d=e))),a(e,rt,(e=>n(70,p=e))),a(e,Ae,(e=>n(10,m=e))),a(e,ze,(e=>n(11,h=e)));let y,v,g,w,b,k,S,x,E,q,{$$slots:A={},$$scope:N}=t,T=!0,$=window.innerWidth,I=!1,C=["Algorithm Filter"],L=["sort","Anime Filter","Content Caution"],F=["weighted score","score","average score","user score","popularity"];function D(e){x&&E===e&&clearTimeout(x),E=e,x=setTimeout((async()=>{C.includes(e)?(r&&(r.terminate(),f(Ce,r=null,r)),f(Ie,l=null,l),f(Le,d="Updating List",d),await on(!0,"shouldProcessRecommendation"),await on(i,"filterOptions"),await on(c,"activeTagFilters"),f(rt,p=!p,p)):L.includes(e)?(r&&(r.terminate(),f(Ce,r=null,r)),f(Ie,l=null,l),f(Le,d="Updating List",d),await on(i,"filterOptions"),await on(c,"activeTagFilters"),f(st,u=!u,u)):(await on(i,"filterOptions"),await on(c,"activeTagFilters"))}),300)}async function M(){let e=document.getElementById("tagFilters");e instanceof Element&&(await X(),e.scrollBy({top:0,behavior:"smooth"}))}function j(){n(2,y=.3*window.innerHeight),n(1,$=window.innerWidth)}async function P(e){if(s)return oe();let t=i?.filterSelection.findIndex((({isSelected:e})=>e)),o=i?.filterSelection?.[t].filterSelectionName;if(o!==e){n(4,w=!1),l?.length>0&&await ne(),i?.filterSelection?.[t].filters.Dropdown.forEach((e=>{e.selected=!1})),f(Te,i.filterSelection[t]=i?.filterSelection?.[t],i),g=null,f(Te,i.filterSelection[t].isSelected=!1,i);let o=i?.filterSelection?.findIndex((({filterSelectionName:t})=>t===e));f(Te,i.filterSelection[o].isSelected=!0,i),M(),D()}b instanceof Element&&b.closest(".filterType")&&(b.style.backgroundColor="",b=null),n(3,v=!1)}function O(e){if(s&&(i?.filterSelection?.length??0)<1)return oe();let t=e.target,o=t.classList,r=t.closest(".filterType"),l=t.closest(".options-wrap");!o.contains("filterType")&&!r||v?l&&!o.contains("closing-x")||o.contains("options-wrap")||(b instanceof Element&&b.closest(".filterType")&&(b.style.backgroundColor="",b=null),n(3,v=!1)):n(3,v=!0)}function _(){k&&clearTimeout(k),S=!0,k=setTimeout((()=>{S=!1}),300)}function U(e,t){if(S&&"mouse"===e.pointerType)return;let o=e.target,r=o.closest(".filter-select");if(r===g)return;let l=i?.filterSelection?.findIndex((({isSelected:e})=>e));if(g instanceof Element){let e=Array.from(g.parentElement.children).filter((e=>!e.classList.contains("disable-interaction"))).indexOf(g);if(o.classList.contains("icon")&&!o.classList.contains("fa-angle-down")&&i?.filterSelection?.[l].filters.Dropdown[e].selected)return;f(Te,i.filterSelection[l].filters.Dropdown[e].selected=!1,i)}T&&n(0,T=!1),b instanceof Element&&b.closest(".filter-select")&&(b.style.backgroundColor="",b=null),f(Te,i.filterSelection[l].filters.Dropdown[t].selected=!0,i),g=r}function R(e){let t=i?.filterSelection?.findIndex((({isSelected:e})=>e));f(Te,i.filterSelection[t].filters.Dropdown[e].selected=!1,i),b instanceof Element&&b.closest(".filter-select")&&(b.style.backgroundColor="",b=null),g=null}async function B(e){if(i?.filterSelection?.length<1||!i)return;let t=e.target,o=t.classList;if(o.contains("options-wrap")&&"fixed"===getComputedStyle(t).position){b instanceof Element&&(b.style.backgroundColor="",b=null),n(3,v=!1),n(4,w=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),f(Te,i.filterSelection[e]=i?.filterSelection?.[e],i),g=null}else if(!o.contains("options-wrap")&&!t.closest(".options-wrap")&&!o.contains("async-element")){let e=t.closest(".filterType");o.contains("filterType")||e||(b instanceof Element&&b.closest(".filterType")&&(b.style.backgroundColor="",b=null),n(3,v=!1));let r=t.closest(".sortFilter");o.contains("sortFilter")||r||(b instanceof Element&&b.closest(".sortFilter")&&(b.style.backgroundColor="",b=null),n(4,w=!1));let l=t.closest(".select");if(!o.contains("select")&&!o.contains("fa-angle-down")&&!l){b instanceof Element&&b.closest(".filter-select")&&(b.style.backgroundColor="",b=null);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),f(Te,i.filterSelection[e]=i?.filterSelection?.[e],i),g=null}}}function H(e,t,n,o,r,l){if(s)return oe();let a=i?.filterSelection?.findIndex((({isSelected:e})=>e)),u=i?.filterSelection?.[a].filterSelectionName,d=i?.filterSelection?.[a].filters.Dropdown[o].options[n].selected;"none"===d||!0===d||"read"===r&&"included"!==d?(f(Te,i.filterSelection[a].filters.Dropdown[o].options[n].selected="included",i),f($e,c[u]=c[u].filter((o=>o.optionName+o.optionIdx+o.optionType!==e+n+t)),c),c[u].unshift({optionName:e,optionType:t,optionIdx:n,categIdx:o,selected:"included",changeType:r,filterType:"dropdown"}),$e.set(c)):"included"===d?"read"===r?(f(Te,i.filterSelection[a].filters.Dropdown[o].options[n].selected="none",i),f($e,c[u]=c[u].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&(!i.optionType||i.optionType===t)))),c)):(f(Te,i.filterSelection[a].filters.Dropdown[o].options[n].selected="excluded",i),f($e,c[u]=c[u].map((i=>(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&"included"===i.selected&&i.optionType===t&&(i.selected="excluded"),i))),c)):(f(Te,i.filterSelection[a].filters.Dropdown[o].options[n].selected="none",i),f($e,c[u]=c[u].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&i.optionType===t))),c)),D(l)}function W(e,t,n,o){let r=e.target.classList,l=e.which||e.keyCode||0;if(r.contains("checkbox")&&"click"===e.type||r.contains("checkbox")&&13!==l&&"keydown"===e.type||S&&"mouse"===e.pointerType)return;if(s)return void(r.contains("checkbox")||oe());let a=i?.filterSelection?.findIndex((({isSelected:e})=>e)),u=i?.filterSelection?.[a].filterSelectionName,d=i?.filterSelection?.[a].filters.Checkbox[n].isSelected;d?f($e,c[u]=c[u].filter((e=>!(e.optionIdx===n&&e.optionName===t&&"checkbox"===e.filterType&&"included"===e.selected))),c):(f($e,c[u]=c[u].filter((e=>e.optionName+e.optionIdx!==t+n)),c),c[u].unshift({optionName:t,optionIdx:n,filterType:"checkbox",selected:"included",changeType:"read"}),$e.set(c)),f(Te,i.filterSelection[a].filters.Checkbox[n].isSelected=!i?.filterSelection?.[a].filters.Checkbox[n].isSelected,i),D(o)}function z(e,t,n,o,r,l,a){if(s)return oe();let u=i?.filterSelection?.findIndex((({isSelected:e})=>e)),d=i?.filterSelection?.[u].filterSelectionName,p=i?.filterSelection?.[u].filters["Input Number"][n].numberValue;if(F.includes(o)&&/^(>=|<=|<|>).*($)/.test(t)){let s=t.split(/(<=|>=|<|>)/).filter((e=>e));if(t!==p&&s.length<=2){let m,h,y=t.split(/(<=|>=|<|>)/).filter((e=>e));if(s[0].includes(">")||s[0].includes("<")?(m=s[0],h=s[1]):(m=s[1],h=s[0]),y[0].includes(">")||y[0].includes("<")?(y[0],y[1]):(y[1],y[0]),t!==p&&(!isNaN(h)&&(parseFloat(h)>=l||"number"!=typeof l)&&(parseFloat(h)<=r||"number"!=typeof r)||!h)){if(h){let e=c[d].findIndex((e=>e.optionName===o&&e.optionValue===p&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(f($e,c[d]=c[d].filter((e=>e.optionName+e.optionIdx!==o+n)),c),c[d].unshift({optionName:o,optionValue:t,CMPoperator:m,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(c[d].splice(e,1),f($e,c[d]=c[d].filter((e=>e.optionName+e.optionIdx!==o+n)),c),c[d].unshift({optionName:o,optionValue:t,CMPoperator:m,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),$e.set(c)}else f($e,c[d]=c[d].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===p&&"input number"===e.filterType))),c);f(Te,i.filterSelection[u].filters["Input Number"][n].numberValue=t,i),D(a)}else ht(e.target,p)}else{let t=c[d].findIndex((e=>e.optionName===o&&e.optionValue===p&&e.optionIdx===n&&"input number"===e.filterType));t>=0&&f($e,c[d][t].selected="included",c),ht(e.target,p)}}else if(t!==p&&(!isNaN(t)&&(parseFloat(t)>=l||"number"!=typeof l)&&(parseFloat(t)<=r||"number"!=typeof r)||""===t)){if(""===t)f($e,c[d]=c[d].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===p&&"input number"===e.filterType))),c);else{let e=c[d].findIndex((e=>e.optionName===o&&e.optionValue===p&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(f($e,c[d]=c[d].filter((e=>e.optionName+e.optionIdx!==o+n)),c),c[d].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(c[d].splice(e,1),f($e,c[d]=c[d].filter((e=>e.optionName+e.optionIdx!==o+n)),c),c[d].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),$e.set(c)}f(Te,i.filterSelection[u].filters["Input Number"][n].numberValue=t,i),D(a)}else elementIdx>=0&&f($e,c[d][elementIdx].selected="included",c),ht(e.target,p)}function K(e,t,n,o,r,l,a,u){if(s)return oe();let d=i?.filterSelection?.findIndex((({isSelected:e})=>e)),p=i?.filterSelection?.[d].filterSelectionName;if("input number"===o){let e=c[p].findIndex((e=>e.optionName===n&&e.optionValue===u&&e.optionIdx===t&&"input number"===e.filterType));if(e>=0){let t=c[p][e].selected;f($e,c[p][e].selected="included"===t?"excluded":"included",c)}}else if("checkbox"===o){let e=c[p].findIndex((e=>e.optionIdx===t&&e.optionName===n&&e.filterType===o)),r=c?.[p]?.[e]?.selected;"included"===r?(f($e,c[p][e].selected="excluded",c),f(Te,i.filterSelection[d].filters.Checkbox[t].isSelected=!1,i)):"excluded"===r&&(f($e,c[p][e].selected="included",c),f(Te,i.filterSelection[d].filters.Checkbox[t].isSelected=!0,i))}else if("dropdown"===o){let e=i?.filterSelection?.[d].filters.Dropdown[r].options[t].selected;"included"===e?(f(Te,i.filterSelection[d].filters.Dropdown[r].options[t].selected="excluded",i),f($e,c[p]=c[p].map((e=>(e.optionIdx!==t||e.optionName!==n||"included"!==e.selected||e.optionType&&e.optionType!==a||(e.selected="excluded"),e))),c)):"excluded"===e&&(f(Te,i.filterSelection[d].filters.Dropdown[r].options[t].selected="included",i),f($e,c[p]=c[p].map((e=>(e.optionIdx!==t||e.optionName!==n||"excluded"!==e.selected||e.optionType&&e.optionType!==a||(e.selected="included"),e))),c))}D(p)}function Y(e,t,n,o,r,l){if(s)return oe();let a=i?.filterSelection?.findIndex((({isSelected:e})=>e)),u=i?.filterSelection?.[a].filterSelectionName;f(Te,"checkbox"===o?i.filterSelection[a].filters.Checkbox[t].isSelected=!1:"input number"===o?i.filterSelection[a].filters["Input Number"][t].numberValue="":i.filterSelection[a].filters.Dropdown[r].options[t].selected="none",i),f($e,c[u]=c[u].filter((e=>!(e.optionName===n&&e.optionIdx===t&&e.filterType===o&&(!e.optionType||e.optionType===l)))),c),D(u)}async function G(e){if(s)return oe();if(await o("Do you want to remove all filters?")){let e=i?.filterSelection?.findIndex((({isSelected:e})=>e)),t=i?.filterSelection?.[e].filterSelectionName;i?.filterSelection?.[e].filters["Input Number"].forEach((e=>{e.numberValue=""})),i?.filterSelection?.[e].filters.Checkbox.forEach((e=>{e.isSelected=!1})),i?.filterSelection?.[e].filters.Dropdown.forEach((({options:t},n)=>{t.forEach((({selected:t},o)=>{f(Te,i.filterSelection[e].filters.Dropdown[n].options[o].selected="none",i)}))})),f(Te,i.filterSelection[e]=i?.filterSelection?.[e],i),f($e,c[t]=[],c),D(t)}}function J(e){let t=e.target,o=t.classList,i=t.closest(".sortFilter"),r=t.closest(".options-wrap");!o.contains("sortFilter")&&!i||w?r&&!o.contains("closing-x")||o.contains("options-wrap")||(b instanceof Element&&b.closest(".sortFilter")&&(b.style.backgroundColor="",b=null),n(4,w=!1)):n(4,w=!0)}function Q(e){if(s)return oe();let{sortName:t,sortType:o}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],r=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));if(t===e){let e="desc"===o?"asc":"desc";f(Te,i.sortFilter[r].sortType=e,i)}else if(t!==e){f(Te,i.sortFilter[r].sortType="none",i);let t=i?.sortFilter?.findIndex((({sortName:t})=>t===e));f(Te,i.sortFilter[t].sortType="desc",i)}D("sort"),b instanceof Element&&b.closest(".sortFilter")&&(b.style.backgroundColor="",b=null),n(4,w=!1)}function Z(){if(s)return oe();let{sortType:e}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],t=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));f(Te,i.sortFilter[t].sortType="desc"===e?"asc":"desc",i),D("sort")}function ee(e){let t=e.which||e.keyCode||0;if(38==t||40==t){var o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filterType")||o?.closest?.(".sortFilter")||o?.closest?.(".filter-select"))if(e.preventDefault(),b instanceof Element&&b?.closest?.(".options")?.children?.length){let e,n,o,i,r=b.closest(".options"),l=Array.from(r.querySelectorAll(".option")),s=l.indexOf(b);for(let r=0;r<l.length;r++)if(!l[r].classList.contains("disable-interaction"))if(38===t){if(i=l[r],r<s)n=l[r];else if(n){e=n;break}}else if(o||(o=l[r]),r>s){e=l[r];break}let c=!1;e instanceof Element||(o instanceof Element?(e=o,c=!0):i instanceof Element&&(e=i,c=!0)),e instanceof Element&&(b.style.backgroundColor="",b=e,b.style.backgroundColor="rgba(0,0,0,0.25)",b.scrollIntoView({behavior:c?"auto":"smooth",container:r,block:"nearest",inline:"nearest"}))}else{let e=o.querySelectorAll(".option:not(.disable-interaction)");b=e[0],b instanceof Element&&(b.style.backgroundColor="rgba(0,0,0,0.25)",b.scrollIntoView({behavior:"smooth",container:parent,block:"nearest",inline:"nearest"}))}}else if(13===t){if(b instanceof Element){let e=new KeyboardEvent("keydown",{key:"Enter"});b.dispatchEvent(e)}}else{o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filter-select")&&9!==t||o instanceof Element&&"fixed"===getComputedStyle(o).position)return;let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));n(3,v=null),n(4,w=null),i?.filterSelection?.length>0&&(i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),f(Te,i.filterSelection[e]=i?.filterSelection?.[e],i)),g=null,b instanceof Element&&(b.style.backgroundColor="",b=null)}}async function te(){l?.length>0&&await ne(),n(5,I=!I),M()}function ne(){return new Promise((e=>{r instanceof Worker&&r.postMessage({reload:!0}),q={resolve:e}}))}function oe(){o({isAlert:!0,title:"Initializing Resources",text:"Please wait a moment..."})}nt.subscribe((e=>{"boolean"==typeof e&&q?.resolve?.()})),window.checkOpenDropdown=()=>(g||v||w)&&window.innerWidth<=425,window.closeDropdown=()=>{b instanceof Element&&(b.style.backgroundColor="",b=null),n(3,v=!1),n(4,w=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),f(Te,i.filterSelection[e]=i?.filterSelection?.[e],i),g=null},V((()=>{n(2,y=.3*window.innerHeight);let e=document.getElementById("filters");e.addEventListener("scroll",_),((e,t="xy")=>{var n,o,i,r,l;let s=s=>{i&&"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(e.scrollTop=n-s.pageY+l),t.toLowerCase().includes("x")&&(e.scrollLeft=o-s.pageX+r))},c=s=>{"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(n=s.pageY,l=e.scrollTop),t.toLowerCase().includes("x")&&(o=s.pageX,r=e.scrollLeft),i=!0)},a=e=>{"mouse"===e.pointerType&&(i=!1)};e.addEventListener("pointermove",s),e.addEventListener("pointerdown",c),window.addEventListener("pointerup",a),window.addEventListener("pointercancel",a)})(e,"x"),document.addEventListener("keydown",ee),window.addEventListener("resize",j),window.addEventListener("click",B)}));return e.$$set=e=>{"$$scope"in e&&n(28,N=e.$$scope)},[T,$,y,v,w,I,i,s,c,d,m,h,F,P,O,U,R,H,W,z,K,Y,G,J,Q,Z,te,oe,N,A,(e,{optionName:t})=>Ko(t,e.optKeyword)||""===e.optKeyword,function(){h=this.value,ze.set(h)},e=>"Enter"===e.key&&O(e),e=>"Enter"===e.key&&O(e),(e,t)=>"Enter"===t.key&&P(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,Te.set(i)},(e,t)=>"Enter"===t.key&&R(e),(e,t)=>("Enter"===t.key||"ArrowDown"===t.key||"ArrowUp"===t.key)&&U(t,e),(e,t)=>U(t,e),(e,t)=>"Enter"===t.key&&R(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,Te.set(i)},(e,t,n,o,i,r)=>"Enter"===r.key&&H(e.optionName,t.filName,n,o,t.changeType,i.filterSelectionName),e=>{e.target.checked=!1,oe()},(e,t,n,o)=>W(o,e.filName,t,n.filterSelectionName),function(e,t){e[t].isSelected=this.checked},(e,t,n,o)=>W(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>"Enter"===o.key&&W(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>z(o,o.target.value,e,t.filName,t.maxValue,t.minValue,n.filterSelectionName),e=>"Enter"===e.key&&G(),(e,t,n,o,i,r)=>Y(0,e,t,n,o,i),(e,t,n,o,i,r)=>"Enter"===r.key&&Y(0,e,t,n,o,i),(e,t,n,o,i,r,l,s)=>K(0,e,t,n,o,0,r,l),(e,t,n,o,i,r,l,s)=>"Enter"===s.key&&K(0,e,t,n,o,0,r,l),e=>"Enter"===e.key&&te(),e=>"Enter"===e.key&&Z(),e=>"Enter"===e.key&&J(e),e=>"Enter"===e.key&&J(e),(e,t)=>"Enter"===t.key&&Q(e)]}function oi(e){let t,n,o,r,l,s,c,a,u,d,f,p,m,h,y,v,g,w=!e[1]&&ii(e);return{c(){t=A("div"),n=A("div"),o=A("div"),r=A("h2"),l=N(e[2]),s=T(),c=A("h2"),a=N(e[3]),u=T(),d=A("div"),w&&w.c(),f=T(),p=A("button"),m=N(e[4]),C(r,"class","confirm-title svelte-cr7aj2"),C(c,"class","confirm-text svelte-cr7aj2"),C(o,"class","confirm-info-container svelte-cr7aj2"),C(p,"class","svelte-cr7aj2"),C(d,"class","confirm-button-container svelte-cr7aj2"),C(n,"class","confirm-container svelte-cr7aj2"),C(t,"class","confirm svelte-cr7aj2")},m(i,h){x(i,t,h),b(t,n),b(n,o),b(o,r),b(r,l),b(o,s),b(o,c),b(c,a),b(n,u),b(n,d),w&&w.m(d,null),b(d,f),b(d,p),b(p,m),e[11](p),y=!0,v||(g=[I(p,"click",e[7]),I(p,"keydown",e[12]),I(t,"click",e[9]),I(t,"keydown",e[13])],v=!0)},p(e,t){(!y||4&t)&&L(l,e[2]),(!y||8&t)&&L(a,e[3]),e[1]?w&&(w.d(1),w=null):w?w.p(e,t):(w=ii(e),w.c(),w.m(d,f)),(!y||16&t)&&L(m,e[4])},i(e){y||(Q((()=>{y&&(h||(h=pe(n,Rn,{y:20,duration:300},!0)),h.run(1))})),y=!0)},o(e){h||(h=pe(n,Rn,{y:20,duration:300},!1)),h.run(0),y=!1},d(n){n&&E(t),w&&w.d(),e[11](null),n&&h&&h.end(),v=!1,i(g)}}}function ii(e){let t,n,o,r;return{c(){t=A("button"),n=N(e[5]),C(t,"class","svelte-cr7aj2")},m(i,l){x(i,t,l),b(t,n),o||(r=[I(t,"click",e[8]),I(t,"keydown",e[10])],o=!0)},p(e,t){32&t&&L(n,e[5])},d(e){e&&E(t),o=!1,i(r)}}}function ri(e){let t,n,o=e[0]&&oi(e);return{c(){o&&o.c(),t=$()},m(e,i){o&&o.m(e,i),x(e,t,i),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&ue(o,1)):(o=oi(e),o.c(),ue(o,1),o.m(t.parentNode,t)):o&&(ce(),de(o,1,1,(()=>{o=null})),ae())},i(e){n||(ue(o),n=!0)},o(e){de(o),n=!1},d(e){o&&o.d(e),e&&E(t)}}}function li(e,t,n){const o=function(){const e=B();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const r=M(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,r)})),!r.defaultPrevented}return!0}}();let i,r,{showConfirm:l=!1}=t,{isAlert:s=!1}=t,{confirmTitle:c="Confirmation"}=t,{confirmText:a="Do you want to continue?"}=t,{confirmLabel:u="OK"}=t,{cancelLabel:d="CANCEL"}=t,f=!1;function p(e){f&&"keydown"!==e.type||(n(0,l=!1),o("confirmed"))}function m(e){f&&"keydown"!==e.type||(n(0,l=!1),o("cancelled"))}function h(e){if(f&&"keydown"!==e.type)return;let t=e.target,n=t.classList;t.closest(".confirm-container")||n.contains("confirm-container")||m(e)}var y;y=()=>{l?(f=!0,r=setTimeout((()=>{f=!1}),500),i?.focus?.()):(r&&clearTimeout(r),f=!1)},B().$$.after_update.push(y);return e.$$set=e=>{"showConfirm"in e&&n(0,l=e.showConfirm),"isAlert"in e&&n(1,s=e.isAlert),"confirmTitle"in e&&n(2,c=e.confirmTitle),"confirmText"in e&&n(3,a=e.confirmText),"confirmLabel"in e&&n(4,u=e.confirmLabel),"cancelLabel"in e&&n(5,d=e.cancelLabel)},[l,s,c,a,u,d,i,p,m,h,e=>"Enter"===e.key&&m(e),function(e){W[e?"unshift":"push"]((()=>{i=e,n(6,i)}))},e=>"Enter"===e.key&&p(e),e=>"Enter"===e.key&&h(e)]}var si={Fixed:{Navigator:class extends ke{constructor(e){super(),be(this,e,Kn,Wn,l,{})}},Menu:class extends ke{constructor(e){super(),be(this,e,Zn,Xn,l,{},null,[-1,-1])}}},Anime:{AnimeGrid:class extends ke{constructor(e){super(),be(this,e,Ft,It,l,{},null,[-1,-1])}},Fixed:{AnimePopup:class extends ke{constructor(e){super(),be(this,e,On,Dn,l,{},null,[-1,-1])}},AnimeOptionsPopup:class extends ke{constructor(e){super(),be(this,e,Hn,Vn,l,{})}}}},Others:{Search:class extends ke{constructor(e){super(),be(this,e,ni,zo,l,{},null,[-1,-1,-1,-1])}},Confirm:class extends ke{constructor(e){super(),be(this,e,li,ri,l,{showConfirm:0,isAlert:1,confirmTitle:2,confirmText:3,confirmLabel:4,cancelLabel:5})}}}},ci="@vercel/analytics",ai="1.0.1",ui=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function di(e="auto"){window.vam="auto"!==e?e:function(){try{const e=process.env.NODE_ENV;if("development"===e||"test"===e)return"development"}catch(e){}return"production"}()}function fi(){return"development"===(window.vam||"production")}function pi(e={debug:!0}){var t;if("undefined"==typeof window)return;di(e.mode),ui(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=fi()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${n}"]`))return;const o=document.createElement("script");o.src=n,o.defer=!0,o.setAttribute("data-sdkn",ci),o.setAttribute("data-sdkv",ai),fi()&&!1===e.debug&&o.setAttribute("data-debug","false"),document.head.appendChild(o)}function mi(e){let t,n;return t=new si.Anime.AnimeGrid({}),{c(){ve(t.$$.fragment)},m(e,o){ge(t,e,o),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function hi(e){let t,n,o,i,r,l,s,c,a,u,d,f,p,m;return n=new si.Fixed.Navigator({}),i=new si.Fixed.Menu({}),s=new si.Others.Search({props:{$$slots:{default:[mi]},$$scope:{ctx:e}}}),a=new si.Anime.Fixed.AnimePopup({}),d=new si.Anime.Fixed.AnimeOptionsPopup({}),p=new si.Others.Confirm({props:{showConfirm:e[0],isAlert:e[1],confirmTitle:e[2],confirmText:e[3],confirmLabel:e[4],cancelLabel:e[5]}}),p.$on("confirmed",e[6]),p.$on("cancelled",e[7]),{c(){t=A("main"),ve(n.$$.fragment),o=T(),ve(i.$$.fragment),r=T(),l=A("div"),ve(s.$$.fragment),c=T(),ve(a.$$.fragment),u=T(),ve(d.$$.fragment),f=T(),ve(p.$$.fragment),C(l,"class","home svelte-1s79t76"),C(t,"class","svelte-1s79t76")},m(e,h){x(e,t,h),ge(n,t,null),b(t,o),ge(i,t,null),b(t,r),b(t,l),ge(s,l,null),b(l,c),ge(a,l,null),b(t,u),ge(d,t,null),b(t,f),ge(p,t,null),m=!0},p(e,t){const n={};1024&t[1]&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const o={};1&t[0]&&(o.showConfirm=e[0]),2&t[0]&&(o.isAlert=e[1]),4&t[0]&&(o.confirmTitle=e[2]),8&t[0]&&(o.confirmText=e[3]),16&t[0]&&(o.confirmLabel=e[4]),32&t[0]&&(o.cancelLabel=e[5]),p.$set(o)},i(e){m||(ue(n.$$.fragment,e),ue(i.$$.fragment,e),ue(s.$$.fragment,e),ue(a.$$.fragment,e),ue(d.$$.fragment,e),ue(p.$$.fragment,e),m=!0)},o(e){de(n.$$.fragment,e),de(i.$$.fragment,e),de(s.$$.fragment,e),de(a.$$.fragment,e),de(d.$$.fragment,e),de(p.$$.fragment,e),m=!1},d(e){e&&E(t),we(n),we(i),we(s),we(a),we(d),we(p)}}}function yi(e,t,n){let o,i,r,l,s,c,u,d,p,m,h,y,v,g,w,b,k,S,x,E,q,A,N,T,$;a(e,Ke,(e=>n(12,o=e))),a(e,et,(e=>n(13,i=e))),a(e,Ee,(e=>n(14,r=e))),a(e,Ze,(e=>n(15,l=e))),a(e,Ge,(e=>n(16,s=e))),a(e,Xe,(e=>n(17,c=e))),a(e,Ye,(e=>n(18,u=e))),a(e,Be,(e=>n(19,d=e))),a(e,tt,(e=>n(20,p=e))),a(e,_e,(e=>n(21,m=e))),a(e,Oe,(e=>n(22,h=e))),a(e,Pe,(e=>n(23,y=e))),a(e,De,(e=>n(24,v=e))),a(e,Fe,(e=>n(25,g=e))),a(e,Me,(e=>n(26,w=e))),a(e,Le,(e=>n(27,b=e))),a(e,Ie,(e=>n(28,k=e))),a(e,ze,(e=>n(29,S=e))),a(e,Ce,(e=>n(30,x=e))),a(e,Ae,(e=>n(31,E=e))),a(e,Ne,(e=>n(32,q=e))),a(e,Re,(e=>n(33,A=e))),a(e,Te,(e=>n(34,N=e))),a(e,$e,(e=>n(35,T=e))),a(e,je,(e=>n(36,$=e))),f(Ee,r=yt(),r),(async()=>{f(je,$=await rn("exportPathIsAvailable"),$)})(),pi(),window.onload=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-PPMY92TJCE")};const I=new Function;window.onYouTubeIframeAPIReady=I;let C=[];f(Le,b="Getting Existing Data",b);let L=setInterval((()=>{b||f(Le,b="Please Wait...",b)}),300);C.push(new Promise((async e=>{let t=await rn("animeEntriesLength"),n=await rn("lastAnimeUpdate");var o;t<1||!(n instanceof Date)?(f(Ie,k=null,k),new Promise(((e,t)=>{let n=new Worker("./webapi/worker/getAnimeEntries.js");Zt&&clearTimeout(Zt),n.postMessage(o),n.onmessage=({data:t})=>{void 0!==t?.status?(jt=!0,Le.set(t.status)):(jt=!1,rt.update((e=>!e)),Zt=setTimeout((()=>{n.terminate()}),Mt),e(t))},n.onerror=e=>{t(e)}})).then((()=>{e()})).catch((async t=>{Vt(),e()}))):Vt({onlyGetNewEntries:!0}).then((()=>{e()})).catch((async t=>{e()}))}))),C.push(new Promise((async e=>{let t=await rn("username");t&&(f(Ae,E=t,E),zt({username:E})),e()}))),C.push(new Promise((async e=>{var t;await rn("animeFranchisesLength")<1?new Promise(((e,n)=>{let o=new Worker("./webapi/worker/getAnimeFranchises.js");en&&clearTimeout(en),o.postMessage(t),o.onmessage=({data:t})=>{void 0!==t?.status?(jt=!0,Le.set(t.status)):(rt.update((e=>!e)),jt=!1,en=setTimeout((()=>{o.terminate()}),Mt),e(t))},o.onerror=e=>{n(e)}})).then((()=>{e()})).catch((()=>{e()})):e()}))),C.push(new Promise((async e=>{nn().then((t=>{f($e,T=t.activeTagFilters,T),f(Te,N=t.filterOptions,N),e()})).catch((()=>{e()}))}))),C.push(new Promise((async e=>{let t=await rn("autoPlay");"boolean"==typeof t&&f(Re,A=t,A),f(Ne,q=await rn("hiddenEntries")||{},q),f(Me,w=await rn("lastRunnedAutoUpdateDate"),w),f(_e,m=await rn("lastRunnedAutoExportDate"),m),e()}))),Promise.all(C).then((async()=>{let e=await rn("recommendedAnimeListLength"),t=await rn("shouldProcessRecommendation");new Promise((async n=>{e<1||t?Ut().then((async()=>{await on(!1,"shouldProcessRecommendation"),n()})).catch((e=>{throw e})):n()})).then((()=>{Pt().then((async e=>{f(Ce,x=e.animeLoaderWorker,x),f(ze,S="",S),e?.isNew&&(f(Ie,k=e.finalAnimeList,k),f(Be,d=!1,d),f(Fe,g=await rn("autoUpdate")??!1,g),f(Pe,y=await rn("autoExport")??!1,y)),f(Le,b=null,b)})).catch((e=>{throw e}))}))})).catch((async e=>{f(Be,d=!1,d),f(Fe,g=await rn("autoUpdate")??!1,g),f(Pe,y=await rn("autoExport")??!1,y),f(Le,b="Something went wrong...",b),console.error(e)})),Be.subscribe((async e=>{if(!1===e){if(!E){await X();let e=document.getElementById("usernameInput");e.setCustomValidity("Enter your Anilist Username"),e.reportValidity()}clearInterval(L)}})),Ie.subscribe((async e=>{d&&e?.length>0&&!1!==d&&(f(Be,d=!1,d),f(Fe,g=await rn("autoUpdate")??!1,g),f(Pe,y=await rn("autoExport")??!1,y))})),rt.subscribe((async e=>{"boolean"!=typeof e||d||(await on(!0,"shouldProcessRecommendation"),Ut().then((async()=>{await on(!1,"shouldProcessRecommendation"),lt.update((e=>!e)),st.update((e=>!e))})).catch((e=>{throw e})))})),st.subscribe((async e=>{"boolean"!=typeof e||d||Pt().then((async e=>{f(Ce,x=e.animeLoaderWorker,x),f(ze,S="",S),e?.isNew&&f(Ie,k=e.finalAnimeList,k),f(Le,b=null,b)})).catch((e=>{throw e}))})),lt.subscribe((async e=>{"boolean"!=typeof e||d||nn()}));let F=36e5;Fe.subscribe((async e=>{if(!0===e){on(!0,"autoUpdate");let e=!1;if((null===w||w instanceof Date&&!isNaN(w)&&(new Date).getTime()-w.getTime()>F)&&(e=!0),e)ot.update((e=>!e)),v&&clearInterval(v),f(De,v=setInterval((()=>{g&&ot.update((e=>!e))}),F),v);else{let e=F-((new Date).getTime()-w?.getTime())||0;setTimeout((()=>{!1!==g&&(ot.update((e=>!e)),v&&clearInterval(v),f(De,v=setInterval((()=>{g&&ot.update((e=>!e))}),F),v))}),e)}}else!1===e&&(v&&clearInterval(v),on(!1,"autoUpdate"))}));let D=!1;ot.subscribe((e=>{"boolean"!=typeof e||d||(D=!0,zt().then((()=>{D=!1,Vt()})).catch((e=>{D=!1,console.error(e)})))})),Pe.subscribe((async e=>{if(!0===e){on(!0,"autoExport");let e=!1;if((null===m||m instanceof Date&&!isNaN(m)&&(new Date).getTime()-m.getTime()>F)&&(e=!0),e)it.update((e=>!e)),h&&clearInterval(h),f(Oe,h=setInterval((()=>{y&&it.update((e=>!e))}),F),h);else{let e=F-((new Date).getTime()-m?.getTime())||0;setTimeout((()=>{!1!==y&&(it.update((e=>!e)),h&&clearInterval(h),f(Oe,h=setInterval((()=>{y&&it.update((e=>!e))}),F),h))}),e)}}else!1===e&&(h&&clearInterval(h),on(!1,"autoExport"))})),it.subscribe((e=>{"boolean"!=typeof e||d||Yt().then((()=>{f(_e,m=new Date,m),on(m,"lastRunnedAutoExportDate")}))})),ct.subscribe((e=>{"boolean"==typeof e&&(i||f(et,i=!0,i),p&&clearTimeout(p),f(tt,p=setTimeout((()=>{f(et,i=!1,i)}),1e3),p))})),document.addEventListener("visibilitychange",(()=>{d||"visible"!==document.visibilityState||D||zt()}));let M,j=!1;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.checkEntries=()=>{d||D||zt()},window.addEventListener("popstate",(()=>{window.backPressed()})),window.backPressed=()=>{if(l&&!r)window.history.go(-1);else{if(r||window.history.pushState("visited",""),j)return W(),void n(0,j=!1);if(document?.getElementById?.("usernameInput")===document?.activeElement&&window.innerWidth<=425)document.getElementById("usernameInput")?.blur?.();else{if(u)return void f(Ye,u=!1,u);if(c)return void f(Xe,c=!1,c);if(s)return void f(Ge,s=!1,s);if(window.checkOpenDropdown?.())return void window.closeDropdown?.();if(window.scrollY>200)return window.scrollTo({top:-9999,behavior:"smooth"}),void window.setShouldGoBack(!0);window.scrollTo({top:-9999,behavior:"smooth"}),window.setShouldGoBack(!0)}}},Xe.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),Ye.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),window.addEventListener("scroll",(()=>{0!==window.scrollY&&window.setShouldGoBack(!1),ct.update((e=>!e))})),V((()=>{document.getElementById("popup-container").addEventListener("scroll",(()=>{ct.update((e=>!e))}))})),window.setShouldGoBack=e=>{if(r)try{JSBridge.setShouldGoBack(e)}catch(e){}else"visited"!==window.history.state&&window.history.pushState("visited",""),f(Ze,l=e,l)},window.copyToClipBoard=e=>{if(r)try{JSBridge.copyToClipBoard(e)}catch(e){}else navigator?.clipboard?.writeText?.(e)},window.addEventListener("online",(()=>{if(r)try{JSBridge.isOnline(!0)}catch(e){}}));let P,O,_,U,R,B,H=!1;function W(){B?.resolve?.(!1),B=n(1,P=n(2,O=n(3,_=n(4,U=n(5,R=void 0))))),n(0,j=!1)}return document.addEventListener("pointerdown",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(H=!0,M&&clearTimeout(M),M=setTimeout((()=>{let e=t.getAttribute("copy-value");e&&!i&&H&&(t.style.pointerEvents="none",setTimeout((()=>{t.style.pointerEvents=""}),500),window.copyToClipBoard(e))}),500))})),document.addEventListener("pointerup",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(H=!1,M&&clearTimeout(M))})),document.addEventListener("pointercancel",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(H=!1,M&&clearTimeout(M))})),f(Ke,o=async e=>new Promise((t=>{n(1,P=e?.isAlert||!1),n(2,O=e?.title||(P?"Heads Up":"Confirmation")),n(3,_=("string"==typeof e?e:e?.text)||"Are you sure you want to continue"),n(4,U=e?.confirmLabel||"OK"),n(5,R=e?.cancelLabel||"CANCEL"),n(0,j=!0),B={resolve:t}})),o),[j,P,O,_,U,R,function(){B?.resolve?.(!0),B=n(1,P=n(2,O=n(3,_=n(4,U=n(5,R=void 0))))),n(0,j=!1)},W]}var vi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};window.FontAwesomeKitConfig={asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrl:"https://ka-f.fontawesome.com",baseUrlKit:"https://kit.fontawesome.com",detectConflictsUntil:null,iconUploads:{},id:76794169,license:"free",method:"css",minify:{enabled:!0},token:"5a5fa257cb",v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},v5FontFaceShim:{enabled:!0},version:"6.2.0"},function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)),o}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){var n,i;n=e,i=o[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){var n=t&&t.addOn||"",o=(n=t&&t.baseFilename||e.license+n,t&&t.minify?".min":""),i=t&&t.fileSuffix||e.method;return t=t&&t.subdir||e.method,e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/"+t+"/"+n+o+"."+i}function r(e,t){t="."+Array.prototype.join.call(t||["fa"],",."),t=e.querySelectorAll(t),Array.prototype.forEach.call(t,(function(t){var n=t.getAttribute("title"),o=(t.setAttribute("aria-hidden","true"),!t.nextElementSibling||!t.nextElementSibling.classList.contains("sr-only"));n&&o&&((o=e.createElement("span")).innerHTML=n,o.classList.add("sr-only"),t.parentNode.insertBefore(o,t.nextSibling))}))}function l(){}var s,c=void 0!==vi&&void 0!==vi.process&&"function"==typeof vi.process.emit,a="undefined"==typeof setImmediate?setTimeout:setImmediate,u=[];function d(){for(var e=0;e<u.length;e++)u[e][0](u[e][1]);s=!(u=[])}function f(e,t){u.push([e,t]),s||(s=!0,a(d,0))}function p(e){var t=(n=e.owner)._state,n=n._data,o=e[t],i=e.then;if("function"==typeof o){t="fulfilled";try{n=o(n)}catch(e){v(i,e)}}m(i,n)||("fulfilled"===t&&h(i,n),"rejected"===t&&v(i,n))}function m(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===e(n))){var i=n.then;if("function"==typeof i)return i.call(n,(function(e){o||(o=!0,(n===e?y:h)(t,e))}),(function(e){o||(o=!0,v(t,e))})),1}}catch(i){return o||v(t,i),1}}function h(e,t){e!==t&&m(e,t)||y(e,t)}function y(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(w,e))}function v(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(b,e))}function g(e){e._then=e._then.forEach(p)}function w(e){e._state="fulfilled",g(e)}function b(e){e._state="rejected",g(e),!e._handled&&c&&vi.process.emit("unhandledRejection",e._data,e)}function k(e){vi.process.emit("rejectionHandled",e)}function S(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof S==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[];var t=e,n=this;function o(e){v(n,e)}try{t((function(e){h(n,e)}),o)}catch(t){o(t)}}S.prototype={constructor:S,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(l),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&c&&f(k,this)),"fulfilled"===this._state||"rejected"===this._state?f(p,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},S.all=function(e){if(Array.isArray(e))return new S((function(t,n){for(var o,i=[],r=0,l=0;l<e.length;l++)(o=e[l])&&"function"==typeof o.then?o.then(function(e){return r++,function(n){i[e]=n,--r||t(i)}}(l),n):i[l]=o;r||t(i)}));throw new TypeError("You must pass an array to Promise.all().")},S.race=function(e){if(Array.isArray(e))return new S((function(t,n){for(var o,i=0;i<e.length;i++)(o=e[i])&&"function"==typeof o.then?o.then(t,n):t(o)}));throw new TypeError("You must pass an array to Promise.race().")},S.resolve=function(t){return t&&"object"===e(t)&&t.constructor===S?t:new S((function(e){e(t)}))},S.reject=function(e){return new S((function(t,n){n(e)}))};var x,E,q,A,N="function"==typeof Promise?Promise:S;function T(e,t){var n=t.fetch,o=t.XMLHttpRequest,i=(t=t.token,e);return"URLSearchParams"in window?(i=new URL(e)).searchParams.set("token",t):i=i+"?token="+encodeURIComponent(t),i=i.toString(),new N((function(e,t){var r;"function"==typeof n?n(i,{mode:"cors",cache:"default"}).then((function(e){if(e.ok)return e.text();throw new Error("")})).then((function(t){e(t)})).catch(t):"function"==typeof o?((r=new o).addEventListener("loadend",(function(){this.responseText?e(this.responseText):t(new Error(""))})),["abort","error","timeout"].map((function(e){r.addEventListener(e,(function(){t(new Error(""))}))})),r.open("GET",i),r.send()):t(new Error(""))}))}function $(e,t,n){var i=e;return[[/(url\("?)\.\.\/\.\.\/\.\./g,function(e,n){return"".concat(n).concat(t)}],[/(url\("?)\.\.\/webfonts/g,function(e,o){return"".concat(o).concat(t,"/releases/v").concat(n,"/webfonts")}],[/(url\("?)https:\/\/kit-free([^.])*\.fontawesome\.com/g,function(e,n){return"".concat(n).concat(t)}]].forEach((function(e){t=2,e=function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,i=!1,r=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw r}}return n}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t=e[0];e=e[1],i=i.replace(t,e)})),i}function I(e,t,o){o=2<arguments.length&&void 0!==o?o:function(){};var l=t.document||l,s=(l=r.bind(r,l,["fa","fab","fas","far","fal","fad","fak"]),0<Object.keys(e.iconUploads||{}).length);return e.autoA11y.enabled&&o(l),o=[{id:"fa-main",addOn:void 0}],e.v4shim&&e.v4shim.enabled&&o.push({id:"fa-v4-shims",addOn:"-v4-shims"}),e.v5FontFaceShim&&e.v5FontFaceShim.enabled&&o.push({id:"fa-v5-font-face",addOn:"-v5-font-face"}),e.v4FontFaceShim&&e.v4FontFaceShim.enabled&&o.push({id:"fa-v4-font-face",addOn:"-v4-font-face"}),s&&o.push({id:"fa-kit-upload",customCss:!0}),l=o.map((function(o){return new N((function(r,l){T(o.customCss?e.baseUrlKit+"/"+e.token+"/"+e.id+"/kit-upload.css":i(e,{addOn:o.addOn,minify:e.minify.enabled}),t).then((function(i){var l,s,c;r((l=n(n({},t),{},{baseUrl:e.baseUrl,version:e.version,id:o.id,contentFilter:function(e,t){return $(e,t.baseUrl,t.version)}}),s=l.contentFilter||function(e,t){return e},c=document.createElement("style"),s=document.createTextNode(s(i,l)),c.appendChild(s),c.media="all",l.id&&c.setAttribute("id",l.id),l&&l.detectingConflicts&&l.detectionIgnoreAttr&&c.setAttributeNode(document.createAttribute(l.detectionIgnoreAttr)),c))})).catch(l)}))})),N.all(l)}function C(e,t){t.autoA11y=e.autoA11y.enabled,"pro"===e.license&&(t.autoFetchSvg=!0,t.fetchSvgFrom=e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/svgs",t.fetchUploadedSvgFrom=e.uploadsUrl);var o=[];return e.v4shim.enabled&&o.push(new N((function(o,r){T(i(e,{addOn:"-v4-shims",minify:e.minify.enabled}),t).then((function(e){o(L(e,n(n({},t),{},{id:"fa-v4-shims"})))})).catch(r)}))),o.push(new N((function(o,r){T(i(e,{minify:e.minify.enabled}),t).then((function(e){var i,r,l;e=L(e,n(n({},t),{},{id:"fa-main"})),o((r=(i=t)&&void 0!==i.autoFetchSvg?i.autoFetchSvg:void 0,void 0!==(l=i&&void 0!==i.autoA11y?i.autoA11y:void 0)&&e.setAttribute("data-auto-a11y",l?"true":"false"),r&&(e.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),e.setAttribute("data-fetch-svg-from",i.fetchSvgFrom),e.setAttribute("data-fetch-uploaded-svg-from",i.fetchUploadedSvgFrom)),e))})).catch(r)}))),N.all(o)}function L(e,t){var n=document.createElement("SCRIPT");return e=document.createTextNode(e),n.appendChild(e),n.referrerPolicy="strict-origin",t.id&&n.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),n}function F(e){var t,n=[],o=document,i=(o.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);i||o.addEventListener("DOMContentLoaded",t=function(){for(o.removeEventListener("DOMContentLoaded",t),i=1;t=n.shift();)t()}),i?setTimeout(e,0):n.push(e)}try{window.FontAwesomeKitConfig&&(x=window.FontAwesomeKitConfig,E={detectingConflicts:x.detectConflictsUntil&&new Date<=new Date(x.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",fetch:window.fetch,token:x.token,XMLHttpRequest:window.XMLHttpRequest,document:document},q=document.currentScript,A=q?q.parentElement:document.head,function(e,t){return t=1<arguments.length&&void 0!==t?t:{},"js"===(e=0<arguments.length&&void 0!==e?e:{}).method?C(e,t):"css"===e.method?I(e,t,(function(e){F(e),"undefined"!=typeof MutationObserver&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})})):void 0}(x,E).then((function(e){e.map((function(e){try{A.insertBefore(e,q?q.nextSibling:null)}catch(t){A.appendChild(e)}})),E.detectingConflicts&&q&&F((function(){q.setAttributeNode(document.createAttribute(E.detectionIgnoreAttr)),e=x,n=E,t=document.createElement("script"),n.detectionIgnoreAttr&&t.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),t.src=i(e,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:e.minify.enabled});var e,t,n=t;document.body.appendChild(n)}))})).catch((function(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))})))}catch(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))}}();return new class extends ke{constructor(e){super(),be(this,e,yi,hi,l,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
