var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function c(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function a(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function d(e){return null==e?"":e}function f(e,t,n){return e.set(n),t}function p(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const m="undefined"!=typeof window;let h=m?()=>window.performance.now():()=>Date.now(),y=m?e=>requestAnimationFrame(e):e;const w=new Set;function g(e){w.forEach((t=>{t.c(e)||(w.delete(t),t.f())})),0!==w.size&&y(g)}function v(e){let t;return 0===w.size&&y(g),{promise:new Promise((n=>{w.add(t={c:e,f:n})})),abort(){w.delete(t)}}}function b(e,t){e.appendChild(t)}function S(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function k(e){const t=N("style");return function(e,t){b(e.head||e,t),t.sheet}(S(e),t),t.sheet}function x(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function A(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function N(e){return document.createElement(e)}function T(e){return document.createTextNode(e)}function I(){return T(" ")}function $(){return T("")}function C(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function L(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function F(e,t){t=""+t,e.data!==t&&(e.data=t)}function q(e,t){e.value=null==t?"":t}function P(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function D(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}const M=new Map;let j,O=0;function U(e,t,n,o,i,l,r,s=0){const c=16.666/o;let a="{\n";for(let e=0;e<=1;e+=c){const o=t+(n-t)*l(e);a+=100*e+`%{${r(o,1-o)}}\n`}const u=a+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,f=S(e),{stylesheet:p,rules:m}=M.get(f)||function(e,t){const n={stylesheet:k(t),rules:{}};return M.set(e,n),n}(f,e);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${i}ms 1 both`,O+=1,d}function _(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),O-=i,O||y((()=>{O||(M.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&E(t)})),M.clear())})))}function B(e){j=e}function R(){if(!j)throw new Error("Function called outside component initialization");return j}function V(e){R().$$.on_mount.push(e)}const H=[],W=[];let Y=[];const K=[],G=Promise.resolve();let X=!1;function J(){X||(X=!0,G.then(ne))}function z(){return J(),G}function Q(e){Y.push(e)}const Z=new Set;let ee,te=0;function ne(){if(0!==te)return;const e=j;do{try{for(;te<H.length;){const e=H[te];te++,B(e),oe(e.$$)}}catch(e){throw H.length=0,te=0,e}for(B(null),H.length=0,te=0;W.length;)W.pop()();for(let e=0;e<Y.length;e+=1){const t=Y[e];Z.has(t)||(Z.add(t),t())}Y.length=0}while(H.length);for(;K.length;)K.pop()();X=!1,Z.clear(),B(e)}function oe(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}function ie(){return ee||(ee=Promise.resolve(),ee.then((()=>{ee=null}))),ee}function le(e,t,n){e.dispatchEvent(D(`${t?"intro":"outro"}${n}`))}const re=new Set;let se;function ce(){se={r:0,c:[],p:se}}function ae(){se.r||i(se.c),se=se.p}function ue(e,t){e&&e.i&&(re.delete(e),e.i(t))}function de(e,t,n,o){if(e&&e.o){if(re.has(e))return;re.add(e),se.c.push((()=>{re.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const fe={duration:0};function pe(n,o,r,s){const c={direction:"both"};let a=o(n,r,c),u=s?0:1,d=null,f=null,p=null;function m(){p&&_(n,p)}function y(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function w(o){const{delay:l=0,duration:r=300,easing:s=t,tick:c=e,css:w}=a||fe,g={start:h()+l,b:o};o||(g.group=se,se.r+=1),d||f?f=g:(w&&(m(),p=U(n,u,o,r,l,s,w)),o&&c(0,1),d=y(g,r),Q((()=>le(n,o,"start"))),v((e=>{if(f&&e>f.start&&(d=y(f,r),f=null,le(n,d.b,"start"),w&&(m(),p=U(n,u,d.b,d.duration,0,s,a.css))),d)if(e>=d.end)c(u=d.b,1-u),le(n,d.b,"end"),f||(d.b?m():--d.group.r||i(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),c(u,1-u)}return!(!d&&!f)})))}return{run(e){l(a)?ie().then((()=>{a=a(c),w(e)})):w(e)},end(){m(),d=f=null}}}function me(e,t){e.d(1),t.delete(e.key)}function he(e,t){de(e,1,1,(()=>{t.delete(e.key)}))}function ye(e,t,n,o,l,r,s,c,a,u,d,f){let p=e.length,m=r.length,h=p;const y={};for(;h--;)y[e[h].key]=h;const w=[],g=new Map,v=new Map,b=[];for(h=m;h--;){const e=f(l,r,h),i=n(e);let c=s.get(i);c?o&&b.push((()=>c.p(e,t))):(c=u(i,e),c.c()),g.set(i,w[h]=c),i in y&&v.set(i,Math.abs(h-y[i]))}const S=new Set,k=new Set;function x(e){ue(e,1),e.m(c,d),s.set(e.key,e),d=e.first,m--}for(;p&&m;){const t=w[m-1],n=e[p-1],o=t.key,i=n.key;t===n?(d=t.first,p--,m--):g.has(i)?!s.has(o)||S.has(o)?x(t):k.has(i)?p--:v.get(o)>v.get(i)?(k.add(o),x(t)):(S.add(i),p--):(a(n,s),p--)}for(;p--;){const t=e[p];g.has(t.key)||a(t,s)}for(;m;)x(w[m-1]);return i(b),w}function we(e){e&&e.c()}function ge(e,t,o,r){const{fragment:s,after_update:c}=e.$$;s&&s.m(t,o),r||Q((()=>{const t=e.$$.on_mount.map(n).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),c.forEach(Q)}function ve(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];Y.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),Y=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(t,n,l,r,s,c,a,u=[-1]){const d=j;B(t);const f=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=l?l(t,n.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(H.push(e),J(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(E)}else f.fragment&&f.fragment.c();n.intro&&ue(t.$$.fragment),ge(t,n.target,n.anchor,n.customElement),ne()}B(d)}class Se{$destroy(){ve(this,1),this.$destroy=e}$on(t,n){if(!l(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ke=[];function xe(t,n=e){let o;const i=new Set;function l(e){if(r(t,e)&&(t=e,o)){const e=!ke.length;for(const e of i)e[1](),ke.push(e,t);if(e){for(let e=0;e<ke.length;e+=2)ke[e][0](ke[e+1]);ke.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(r,s=e){const c=[r,s];return i.add(c),1===i.size&&(o=n(l)||e),r(t),()=>{i.delete(c),0===i.size&&o&&(o(),o=null)}}}}const Ee=xe(6),Ae=xe(null),Ne=xe(!0),Te=xe(null),Ie=xe(null),$e=xe(null),Ce=xe(null),Le=xe(null),Fe=xe(null),qe=xe(null),Pe=xe(null),De=xe(null),Me=xe(null),je=xe(null),Oe=xe(null),Ue=xe(null),_e=xe(null),Be=xe([]),Re=xe(null),Ve=xe(!0),He=xe(null),We=xe(null),Ye=xe(!1),Ke=xe(""),Ge=xe(null),Xe=xe(!1),Je=xe(!1),ze=xe(null),Qe=xe(!1),Ze=xe(null),et=xe(!0),tt=xe(null),nt=xe(null),ot=xe(null),it=xe(null),lt=xe(null),rt=xe(null),st=xe(null),ct=xe(null),at=xe(null),ut=e=>"[object Object]"===Object.prototype.toString.call(e);function dt(e,t,n=.5){try{if(!t.length)return null;let i=null;var o=0;let l=e.getBoundingClientRect();return t instanceof HTMLCollection&&(t=Array.from(t)),t?.forEach?.((e=>{let t=e.getBoundingClientRect();var r=(Math.min(t.bottom,l.bottom)-Math.max(t.top,l.top))/t.height;r>o&&(0===n&&r>n||r>=n)&&(o=r,i=e)})),i}catch(e){return}}const ft=(e,t)=>{try{return Array.from(e.parentElement.children).indexOf(e)}catch(e){return}},pt=(e,t,n="top",o,i=0)=>{try{let l;if("string"==typeof t&&(t=document.querySelector(t)),e===window){const e=t.getBoundingClientRect(),o=window.scrollY;l="bottom"===n?e.bottom+o-window.innerHeight:"center"===n?e.top+o-window.innerHeight/2:e.top+o}else if("string"==typeof e&&(e=document.querySelector(e)),"bottom"===n)l=t.offsetTop+t.offsetHeight-e.offsetHeight;else if("center"===n){let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();l=n.top+n.height/2-(o.top+o.height/2)+e.scrollTop-o.height/2}else{let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();l=n.top-o.top+e.scrollTop}e===window?"smooth"===o?window.scrollTo({top:l+i,behavior:"smooth"}):window.scrollTo({top:l+i}):"smooth"===o?e.scrollBy({top:l+i,behavior:"smooth"}):e.scrollTop=l+i}catch(e){return}},mt=(e,t=2)=>{if("number"==typeof e){const n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:0,notation:"compact",compactDisplay:"short"});return Math.abs(e)>=1e3?n.format(e):Math.abs(e)<.01?e.toExponential(0):e.toFixed(t)||e.toLocaleString("en-US",{maximumFractionDigits:t})}return null},ht=(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),yt=(e,t)=>{let n=Math.max(e.selectionStart-1||0,0);e.value=t,e.setSelectionRange(n,n)},wt=()=>{try{return JSBridge.exportJSON,!0}catch(e){return!1}};let gt;const vt=(e,t)=>{e?.classList?.add?.(t)},bt=(e,t)=>{e?.classList?.remove?.(t)};function St(e,t,n){const o=e.slice();return o[30]=t[n],o}function kt(e,t,n){const o=e.slice();return o[30]=t[n],o}function xt(e,t,n){const o=e.slice();return o[33]=t[n],o[34]=t,o[35]=n,o}function Et(t){let n;return{c(){n=N("div"),n.textContent="No Results",L(n,"class","empty svelte-12fsu0n")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function At(t){let n,o=Array(10),i=[];for(let e=0;e<o.length;e+=1)i[e]=Tt(St(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=$()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);x(e,n,t)},p:e,d(e){A(i,e),e&&E(n)}}}function Nt(e){let t,n,o=[],i=new Map,l=e[4]||[];const r=e=>e[33].id;for(let t=0;t<l.length;t+=1){let n=xt(e,l,t),s=r(n);i.set(s,o[t]=Ct(s,n))}let s=e[4]?.length&&!e[3]&&e[1]&&Lt(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=I(),s&&s.c(),n=$()},m(e,i){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,i);x(e,t,i),s&&s.m(e,i),x(e,n,i)},p(e,c){4052&c[0]&&(l=e[4]||[],o=ye(o,c,r,1,e,l,i,t.parentNode,me,Ct,t,xt)),e[4]?.length&&!e[3]&&e[1]?s?s.p(e,c):(s=Lt(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&E(t),s&&s.d(e),e&&E(n)}}}function Tt(t){let n;return{c(){n=N("div"),n.innerHTML='<div class="shimmer svelte-12fsu0n"></div> \n                    <span class="image-grid__card-title svelte-12fsu0n"><span class="title skeleton shimmer svelte-12fsu0n"></span> \n                        <span class="brief-info skeleton shimmer svelte-12fsu0n"></span></span> \n                ',L(n,"class","image-grid__card skeleton svelte-12fsu0n")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function It(e){let t,n=(mt(e[33].weightedScore)||"N/A")+"";return{c(){t=T(n)},m(e,n){x(e,t,n)},p(e,o){16&o[0]&&n!==(n=(mt(e[33].weightedScore)||"N/A")+"")&&F(t,n)},d(e){e&&E(t)}}}function $t(e){let t,n=(e[10](e[33])||"N/A")+"";return{c(){t=T(n)},m(e,n){x(e,t,n)},p(e,o){16&o[0]&&n!==(n=(e[10](e[33])||"N/A")+"")&&F(t,n)},d(e){e&&E(t)}}}function Ct(e,t){let n,o,r,s,a,u,f,p,m,h,y,w,g,v,S,k,A,$,q,P,D,M,j,O,U=(t[33].title||"N/A")+"",_=`${t[33].format||"N/A"}${t[33].episodes?" ["+t[33].episodes+"]":""}`,B=t[34],R=t[35];function V(...e){return t[13](t[35],...e)}function H(e,t){return e[2]?$t:It}let W=H(t),Y=W(t);const K=()=>t[14](n,B,R),G=()=>t[14](null,B,R);return{key:e,first:null,c(){n=N("div"),o=N("div"),r=N("img"),a=I(),u=N("span"),f=N("span"),p=T(U),m=I(),h=N("span"),y=N("div"),w=N("i"),v=I(),S=T(_),k=I(),A=N("div"),$=N("i"),P=I(),Y.c(),L(r,"loading","lazy"),L(r,"class","image-grid__card-thumb fade-out svelte-12fsu0n"),L(r,"alt","anime-cover"),c(r.src,s=t[33].coverImageUrl||"")||L(r,"src",s),L(o,"class","shimmer svelte-12fsu0n"),L(f,"class","title svelte-12fsu0n"),L(w,"class",g=d(`${t[11](t[33].userStatus)}-color fa-solid fa-circle`)+" svelte-12fsu0n"),L(y,"class","brief-info svelte-12fsu0n"),L($,"class",q=d(`${Pt(t[33])}-color fa-solid fa-star`)+" svelte-12fsu0n"),L(A,"class","brief-info svelte-12fsu0n"),L(h,"class","brief-info-wrapper svelte-12fsu0n"),L(u,"class","image-grid__card-title copy svelte-12fsu0n"),L(u,"copy-value",D=t[33].title||""),L(n,"class","image-grid__card svelte-12fsu0n"),L(n,"title",M=t[9](t[33])),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,r),b(n,a),b(n,u),b(u,f),b(f,p),b(u,m),b(u,h),b(h,y),b(y,w),b(y,v),b(y,S),b(h,k),b(h,A),b(A,$),b(A,P),Y.m(A,null),K(),j||(O=[C(r,"load",t[12]),C(r,"click",(function(){l(t[6](t[35]))&&t[6](t[35]).apply(this,arguments)})),C(r,"pointerdown",(function(){l(t[7](t[35]))&&t[7](t[35]).apply(this,arguments)})),C(r,"pointerup",t[8]),C(r,"pointercancel",t[8]),C(r,"keydown",V)],j=!0)},p(e,o){t=e,16&o[0]&&!c(r.src,s=t[33].coverImageUrl||"")&&L(r,"src",s),16&o[0]&&U!==(U=(t[33].title||"N/A")+"")&&F(p,U),16&o[0]&&g!==(g=d(`${t[11](t[33].userStatus)}-color fa-solid fa-circle`)+" svelte-12fsu0n")&&L(w,"class",g),16&o[0]&&_!==(_=`${t[33].format||"N/A"}${t[33].episodes?" ["+t[33].episodes+"]":""}`)&&F(S,_),16&o[0]&&q!==(q=d(`${Pt(t[33])}-color fa-solid fa-star`)+" svelte-12fsu0n")&&L($,"class",q),W===(W=H(t))&&Y?Y.p(t,o):(Y.d(1),Y=W(t),Y&&(Y.c(),Y.m(A,null))),16&o[0]&&D!==(D=t[33].title||"")&&L(u,"copy-value",D),16&o[0]&&M!==(M=t[9](t[33]))&&L(n,"title",M),B===t[34]&&R===t[35]||(G(),B=t[34],R=t[35],K())},d(e){e&&E(n),Y.d(),G(),j=!1,i(O)}}}function Lt(t){let n,o=Array(6),i=[];for(let e=0;e<o.length;e+=1)i[e]=Ft(kt(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=$()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);x(e,n,t)},p:e,d(e){A(i,e),e&&E(n)}}}function Ft(t){let n;return{c(){n=N("div"),n.innerHTML='<div class="shimmer svelte-12fsu0n"></div> \n                        <span class="image-grid__card-title svelte-12fsu0n"><span class="title skeleton shimmer svelte-12fsu0n"></span> \n                            <span class="brief-info skeleton shimmer svelte-12fsu0n"></span></span> \n                    ',L(n,"class","image-grid__card skeleton svelte-12fsu0n")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function qt(t){let n,o;function i(e,t){return e[4]?.length?Nt:!e[4]||e[5]?At:Et}let l=i(t),r=l(t);return{c(){n=N("main"),o=N("div"),r.c(),L(o,"id","anime-grid"),L(o,"class","image-grid svelte-12fsu0n"),L(n,"class","svelte-12fsu0n")},m(e,i){x(e,n,i),b(n,o),r.m(o,null),t[15](o)},p(e,t){l===(l=i(e))&&r?r.p(e,t):(r.d(1),r=l(e),r&&(r.c(),r.m(o,null)))},i:e,o:e,d(e){e&&E(n),r.d(),t[15](null)}}}function Pt({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":o<t?"purple":o<n?"orange":e?.semiCaution?.length?"teal":"green"}function Dt(e,t,n){let o,i,l,r,s,c,u,d,p,m,h,y,w,g,v;a(e,$e,(e=>n(2,o=e))),a(e,Je,(e=>n(19,i=e))),a(e,ze,(e=>n(20,l=e))),a(e,Qe,(e=>n(21,r=e))),a(e,Ze,(e=>n(22,s=e))),a(e,Fe,(e=>n(23,c=e))),a(e,Ye,(e=>n(3,u=e))),a(e,ot,(e=>n(24,d=e))),a(e,He,(e=>n(25,p=e))),a(e,Le,(e=>n(4,m=e))),a(e,qe,(e=>n(26,h=e))),a(e,We,(e=>n(27,y=e))),a(e,Ve,(e=>n(5,w=e)));let b=!1;V((()=>{n(0,g=g||document.getElementById("anime-grid"))}));let S,k=!1;function x(e){f(Ze,s=e,s),f(Qe,r=!0,r)}Fe.subscribe((e=>{e instanceof Worker&&(e.onmessage=async({data:e})=>{if(await z(),void 0!==e?.status)f(qe,h=e.status,h);else if(e.finalAnimeList instanceof Array)!0===e?.reload?(f(Le,m=e.finalAnimeList,m),k=!0):!0===e.isNew?f(Le,m=e.finalAnimeList,m):!1===e.isNew&&m instanceof Array&&(f(Le,m=m.concat(e.finalAnimeList),m),e.isLast&&(f(Ye,u=!0,u),p instanceof IntersectionObserver&&(p.disconnect(),f(He,p=null,p))));else if(!0===e.isRemoved&&"number"==typeof e.removedID){let t=Math.max(m.length-2,0),n=m[t].gridElement||g.children?.[t];p instanceof IntersectionObserver&&n instanceof Element&&p.observe(n);let o=m.findIndex((({id:t})=>t===e.removedID));f(Le,m=m.filter((({id:t})=>t!==e.removedID)),m),o>=0&&f(We,y=o,y)}n(1,b=!1)},e.onerror=e=>{f(qe,h="Something went wrong...",h),console.error(e)})})),Le.subscribe((async e=>{if(e instanceof Array&&e.length){u&&f(Ye,u=!1,u),p&&(p.disconnect(),f(He,p=null,p)),await z(),f(He,p=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(n(1,b=!0),t.unobserve(e.target),v&&clearTimeout(v),v=setTimeout((()=>{c instanceof Worker&&c.postMessage({loadMore:!0})}),1e3))}))}),{root:null,rootMargin:"100%",threshold:0}),p);let e=m.length-1,t=m[e].gridElement||g.children?.[e];p instanceof IntersectionObserver&&t instanceof Element&&p.observe(t),k&&(f(ot,d=!d,d),k=!1)}else p&&(p?.disconnect?.(),f(He,p=null,p)),k&&(f(ot,d=!d,d),k=!1)})),Ke.subscribe((async e=>{"string"==typeof e&&c instanceof Worker&&(f(Ye,u=!1,u),c.postMessage({filterKeyword:e}))}));return[g,b,o,u,m,w,x,function(e){S&&clearTimeout(S),S=setTimeout((()=>{f(ze,l=e,l),f(Je,i=!0,i)}),500)},function(){S&&clearTimeout(S)},function({contentCaution:e,favoriteContents:t,meanScoreAll:n,meanScoreAbove:o,score:i}){let l=[];t?.forEach((e=>{ut(e)?l.push(Object.keys(e)[0]):"string"==typeof e&&l.push(e)}));let r=(e?.caution||[]).concat(e?.semiCaution||[]);i<n?r.push(`Very Low Score (mean: ${mt(n)})`):i<o&&r.push(`Low Score (mean: ${mt(o)})`);let s="";return l.length&&(s+="Favorite Contents: "+l.join(", ")||""),r.length&&(s+="\n\nContent Cautions: "+r.join(", ")),s},function({weightedScore:e,score:t,averageScore:n,userScore:i}){let l=o?.sortFilter.filter((({sortType:e})=>"none"!==e))?.[0]?.sortName;return"score"===l?mt(t):"user score"===l?i:"average score"===l?n:mt(e)},function(e){return ht(e,"completed")?"green":ht(e,"current")||ht(e,"repeating")?"blue":ht(e,"planning")?"orange":ht(e,"paused")?"peach":ht(e,"dropped")?"red":"lightgrey"},e=>bt(e.target,"fade-out"),(e,t)=>"Enter"===t.key&&x(e),function(e,t,n){W[e?"unshift":"push"]((()=>{t[n].gridElement=e}))},function(e){W[e?"unshift":"push"]((()=>{g=e,n(0,g)}))}]}let Mt={};const jt=e=>new Promise((t=>{Mt[e]?t(Mt[e]):wt()?(Mt[e]=e,t(e)):fetch(e,{headers:{"Cache-Control":"max-age=31536000, immutable"}}).then((e=>e.blob())).then((n=>{let o=URL.createObjectURL(n);Mt[e]=o,t(o)})).catch((async()=>{t(e)}))}));let Ot,Ut=1e3,_t=!1;const Bt=e=>(_t=!0,new Promise(((t,n)=>{Ot&&Ot.terminate(),jt("./webapi/worker/animeLoader.js").then((o=>{Ot=new Worker(o),Ot.postMessage(e),Ot.onmessage=({data:e})=>{void 0!==e?.status?(_t=!0,qe.set(e.status)):e?.isNew&&(_t=!1,Ot.onmessage=null,t(Object.assign({},e,{animeLoaderWorker:Ot})))},Ot.onerror=e=>{dn(),n(e)}})).catch((e=>{n(e)}))})));let Rt,Vt;const Ht=e=>(_t=!0,new Promise(((t,n)=>{Vt&&Vt.terminate(),jt("./webapi/worker/processRecommendedAnimeList.js").then((o=>{Vt=new Worker(o),Rt&&clearTimeout(Rt),Vt.postMessage(e),Vt.onmessage=({data:e})=>{void 0!==e?.status?(_t=!0,qe.set(e.status)):(_t=!1,Rt=setTimeout((()=>{Vt.terminate()}),Ut),t())},Vt.onerror=e=>{dn(),n(e)}})).catch((e=>{n(e)}))})));let Wt,Yt;const Kt=e=>new Promise(((t,n)=>{Yt&&Yt.terminate(),jt("./webapi/worker/requestAnimeEntries.js").then((o=>{Yt=new Worker(o),Wt&&clearTimeout(Wt),Yt.postMessage(e),Yt.onmessage=({data:e})=>{void 0!==e?.status?_t||qe.set(e.status):void 0!==e?.updateRecommendationList?rt.update((e=>!e)):e?.lastRunnedAutoUpdateDate instanceof Date&&!isNaN(e?.lastRunnedAutoUpdateDate)?Me.set(e.lastRunnedAutoUpdateDate):(void 0!==e?.errorDuringInit||(Wt=setTimeout((()=>{Yt.terminate()}),Ut)),t(e))},Yt.onerror=e=>{dn(),n(e)}})).catch((e=>{n(e)}))}));let Gt,Xt;const Jt=e=>new Promise(((t,n)=>{Xt&&Xt.terminate(),jt("./webapi/worker/requestUserEntries.js").then((o=>{Xt=new Worker(o),Gt&&clearTimeout(Gt),Xt.postMessage(e),Xt.onmessage=({data:e})=>{void 0!==e?.status?_t||qe.set(e.status):void 0!==e?.updateRecommendationList?rt.update((e=>!e)):(Gt=setTimeout((()=>{Xt.terminate()}),Ut),t(e))},Xt.onerror=e=>{dn(),n(e)}})).catch((e=>{n(e)}))}));let zt;const Qt=e=>new Promise(((e,t)=>{zt&&zt.terminate(),jt("./webapi/worker/exportUserData.js").then((n=>{zt=new Worker(n),wt()?zt.postMessage("android"):zt.postMessage("browser"),zt.onmessage=({data:t})=>{if(void 0!==t?.status)_t=!0,qe.set(t.status);else if(wt()){_t=!1;let n=t.chunk,o=t.state;if(0===o)JSBridge.exportJSON("",0,"");else if(1===o)JSBridge.exportJSON(n,1,"");else if(2===o){let o=t.username??null;JSBridge.exportJSON(n,2,`Kanshi.${o?.toLowerCase()||"Backup"}.json`),zt.terminate(),e(t)}}else{_t=!1;let n=t.username??null;((e,t)=>{gt&&setTimeout((()=>URL.revokeObjectURL(gt)),0),gt=e;const n=document.createElement("a");n.href=e,n.download=t,n.click()})(t.url,`Kanshi.${n?.toLowerCase()||"Backup"}.json`),e(t)}},zt.onerror=e=>{dn(),t(e)}})).catch((e=>{t(e)}))}));let Zt,en;const tn=e=>new Promise(((t,n)=>{jt("./webapi/worker/getIDBdata.js").then((o=>{let i=new Worker(o);i.postMessage({name:e}),i.onmessage=({data:e})=>{void 0!==e?.status?qe.set(e.status):(i.terminate(),t(e))},i.onerror=e=>{dn(),n(e)}}))})),nn=(e,t)=>new Promise(((n,o)=>{jt("./webapi/worker/saveIDBdata.js").then((i=>{let l=new Worker(i);l.onmessage=({data:e})=>{void 0!==e?.status?qe.set(e.status):(setTimeout((()=>{l.terminate(),l=null}),Ut),n())},l.onerror=e=>{dn(),o(e)},l.postMessage({data:e,name:t})})).catch((e=>{o(e)}))}));let on,ln;let rn,sn;let cn,an;const un=e=>new Promise(((t,n)=>{an=setInterval((()=>{ln||sn||qe.set("Getting Filters")}),300),jt("./webapi/worker/getFilterOptions.js").then((o=>{an&&(clearInterval(an),an=null);let i=new Worker(o);cn&&clearTimeout(cn),i.postMessage(e),i.onmessage=({data:e})=>{void 0!==e?.status?(_t=!0,qe.set(e.status)):(_t=!1,cn=setTimeout((()=>{i.terminate()}),Ut),t(e))},i.onerror=e=>{dn(),n(e)}})).catch((e=>{an&&(clearInterval(an),an=null),qe.set(null),n(e)}))}));function dn(){wt()?window.confirmPromise?.({title:"Something Went Wrong",text:"App may not be running the latest version"}):window.confirmPromise?.({title:"Something Went Wrong",text:"You may want to clear your cookies and refresh the page"})}function fn(e,t){return new Promise((async(n,o)=>{await nn(e,t).then((e=>{n(e)})).catch((e=>{o(e)}))}))}async function pn(e){return new Promise((async(t,n)=>{await tn(e).then((e=>{t(e)})).catch((e=>{n(e)}))}))}function mn(e,t,n){const o=e.slice();return o[48]=t[n],o[49]=t,o[50]=n,o}function hn(e,t,n){const o=e.slice();return o[51]=t[n],o[53]=n,o}function yn(e,t,n){const o=e.slice();return o[54]=t[n],o[53]=n,o}function wn(e,t,n){const o=e.slice();return o[56]=t[n][0],o[57]=t[n][1],o}function gn(e,t,n){const o=e.slice();return o[60]=t[n],o[53]=n,o}function vn(e,t,n){const o=e.slice();return o[56]=t[n][0],o[57]=t[n][1],o[63]=n,o}function bn(e){let t,n,o=[],i=new Map,l=e[3]||[];const r=e=>e[48].id;for(let t=0;t<l.length;t+=1){let n=mn(e,l,t),s=r(n);i.set(s,o[t]=Rn(s,n))}let s=e[3]?.length&&!e[4]&&Vn();return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=I(),s&&s.c(),n=$()},m(e,i){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,i);x(e,t,i),s&&s.m(e,i),x(e,n,i)},p(e,c){1996&c[0]&&(l=e[3]||[],o=ye(o,c,r,1,e,l,i,t.parentNode,me,Rn,t,mn)),e[3]?.length&&!e[4]?s||(s=Vn(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&E(t),s&&s.d(e),e&&E(n)}}}function Sn(e){let t;return{c(){t=N("div"),L(t,"class","trailer display-none")},m(e,n){x(e,t,n)},d(e){e&&E(t)}}}function kn(e){let t,n,o,i;return{c(){t=N("img"),L(t,"loading","lazy"),c(t.src,n=e[48].bannerImageUrl)||L(t,"src",n),L(t,"alt","bannerImg"),L(t,"class","bannerImg svelte-hcwycy")},m(n,l){x(n,t,l),o||(i=C(t,"load",e[11]),o=!0)},p(e,o){8&o[0]&&!c(t.src,n=e[48].bannerImageUrl)&&L(t,"src",n)},d(e){e&&E(t),o=!1,i()}}}function xn(e){let t;function n(e,t){return e[48].bannerImageUrl?An:En}let o=n(e),i=o(e);return{c(){i.c(),t=$()},m(e,n){i.m(e,n),x(e,t,n)},p(e,l){o===(o=n(e))&&i?i.p(e,l):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&E(t)}}}function En(e){let t,n,o,i;return{c(){t=N("img"),L(t,"loading","lazy"),c(t.src,n=e[48].coverImageUrl)||L(t,"src",n),L(t,"alt","coverImg"),L(t,"class","coverImg svelte-hcwycy")},m(n,l){x(n,t,l),o||(i=C(t,"load",e[12]),o=!0)},p(e,o){8&o[0]&&!c(t.src,n=e[48].coverImageUrl)&&L(t,"src",n)},d(e){e&&E(t),o=!1,i()}}}function An(e){let t,n;return{c(){t=N("img"),L(t,"loading","lazy"),c(t.src,n=e[48].coverImageUrl)||L(t,"src",n),L(t,"alt","coverImg"),L(t,"class","coverImg display-none fade-in svelte-hcwycy")},m(e,n){x(e,t,n)},p(e,o){8&o[0]&&!c(t.src,n=e[48].coverImageUrl)&&L(t,"src",n)},d(e){e&&E(t)}}}function Nn(t){let n;return{c(){n=T("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function Tn(e){let t,n=[],o=new Map,i=Object.entries(e[48].studios||{});const l=e=>e[56];for(let t=0;t<i.length;t+=1){let r=vn(e,i,t),s=l(r);o.set(s,n[t]=$n(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,r){8&r[0]&&(i=Object.entries(e[48].studios||{}),n=ye(n,r,l,1,e,i,o,t.parentNode,me,$n,t,vn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function In(e){let t,n,o,i,l=e[56]+(Object.entries(e[48]?.studios||{}).length-1>e[63]?", ":"");return{c(){t=N("a"),n=T(l),L(t,"class","copy svelte-hcwycy"),L(t,"copy-value",o=e[56]||""),L(t,"rel","noopener noreferrer"),L(t,"target","_blank"),L(t,"href",i=e[57]||"")},m(e,o){x(e,t,o),b(t,n)},p(e,r){8&r[0]&&l!==(l=e[56]+(Object.entries(e[48]?.studios||{}).length-1>e[63]?", ":""))&&F(n,l),8&r[0]&&o!==(o=e[56]||"")&&L(t,"copy-value",o),8&r[0]&&i!==(i=e[57]||"")&&L(t,"href",i)},d(e){e&&E(t)}}}function $n(e,t){let n,o,i=t[56]&&In(t);return{key:e,first:null,c(){n=$(),i&&i.c(),o=$(),this.first=n},m(e,t){x(e,n,t),i&&i.m(e,t),x(e,o,t)},p(e,n){(t=e)[56]?i?i.p(t,n):(i=In(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&E(n),i&&i.d(e),e&&E(o)}}}function Cn(t){let n;return{c(){n=T("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function Ln(e){let t,n=[],o=new Map,i=e[48].genres;const l=e=>e[60];for(let t=0;t<i.length;t+=1){let r=gn(e,i,t),s=l(r);o.set(s,n[t]=Fn(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,r){8&r[0]&&(i=e[48].genres,n=ye(n,r,l,1,e,i,o,t.parentNode,me,Fn,t,gn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function Fn(e,t){let n,o,i,l,r=(t[53]<t[48].genres.length-1?t[60]+", ":t[60])+"";return{key:e,first:null,c(){n=N("span"),o=T(r),i=I(),L(n,"class","copy"),L(n,"copy-value",l=t[60]||""),this.first=n},m(e,t){x(e,n,t),b(n,o),b(n,i)},p(e,i){t=e,8&i[0]&&r!==(r=(t[53]<t[48].genres.length-1?t[60]+", ":t[60])+"")&&F(o,r),8&i[0]&&l!==(l=t[60]||"")&&L(n,"copy-value",l)},d(e){e&&E(n)}}}function qn(t){let n;return{c(){n=T("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function Pn(e){let t,n=[],o=new Map,i=e[48].favoriteContents||[];const l=e=>e[54];for(let t=0;t<i.length;t+=1){let r=yn(e,i,t),s=l(r);o.set(s,n[t]=On(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,r){8&r[0]&&(i=e[48].favoriteContents||[],n=ye(n,r,l,1,e,i,o,t.parentNode,me,On,t,yn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function Dn(e){let t,n,o,i,l=e[54]+(e[53]<e[48].favoriteContents.length-1?", ":"");return{c(){t=N("span"),n=T(l),o=I(),L(t,"class","copy"),L(t,"copy-value",i=e[54]||"")},m(e,i){x(e,t,i),b(t,n),b(t,o)},p(e,o){8&o[0]&&l!==(l=e[54]+(e[53]<e[48].favoriteContents.length-1?", ":""))&&F(n,l),8&o[0]&&i!==(i=e[54]||"")&&L(t,"copy-value",i)},d(e){e&&E(t)}}}function Mn(e){let t,n=[],o=new Map,i=Object.entries(e[54])||[];const l=e=>e[56];for(let t=0;t<i.length;t+=1){let r=wn(e,i,t),s=l(r);o.set(s,n[t]=jn(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,r){8&r[0]&&(i=Object.entries(e[54])||[],n=ye(n,r,l,1,e,i,o,t.parentNode,me,jn,t,wn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function jn(e,t){let n,o,i,l,r,s=t[56]+"",c=t[53]<t[48].favoriteContents.length-1?", ":"";return{key:e,first:null,c(){n=N("a"),o=T(s),r=T(c),L(n,"class","copy svelte-hcwycy"),L(n,"copy-value",i=t[56]||""),L(n,"rel","noopener noreferrer"),L(n,"target","_blank"),L(n,"href",l=t[57]),this.first=n},m(e,t){x(e,n,t),b(n,o),x(e,r,t)},p(e,a){t=e,8&a[0]&&s!==(s=t[56]+"")&&F(o,s),8&a[0]&&i!==(i=t[56]||"")&&L(n,"copy-value",i),8&a[0]&&l!==(l=t[57])&&L(n,"href",l),8&a[0]&&c!==(c=t[53]<t[48].favoriteContents.length-1?", ":"")&&F(r,c)},d(e){e&&E(n),e&&E(r)}}}function On(e,t){let n,o,i;function l(e,t){return 8&t[0]&&(o=null),null==o&&(o=!!ut(e[54])),o?Mn:"string"==typeof e[54]?Dn:void 0}let r=l(t,[-1,-1,-1]),s=r&&r(t);return{key:e,first:null,c(){n=$(),s&&s.c(),i=$(),this.first=n},m(e,t){x(e,n,t),s&&s.m(e,t),x(e,i,t)},p(e,n){r===(r=l(t=e,n))&&s?s.p(t,n):(s&&s.d(1),s=r&&r(t),s&&(s.c(),s.m(i.parentNode,i)))},d(e){e&&E(n),s&&s.d(e),e&&E(i)}}}function Un(t){let n;return{c(){n=T("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function _n(e){let t,n=[],o=new Map,i=e[48].tags;const l=e=>e[51];for(let t=0;t<i.length;t+=1){let r=hn(e,i,t),s=l(r);o.set(s,n[t]=Bn(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,r){8&r[0]&&(i=e[48].tags,n=ye(n,r,l,1,e,i,o,t.parentNode,me,Bn,t,hn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function Bn(e,t){let n,o,i,l,r=(t[53]<t[48].tags.length-1?t[51]+", ":t[51])+"";return{key:e,first:null,c(){n=N("span"),o=T(r),i=I(),L(n,"class","copy"),L(n,"copy-value",l=t[51]||""),this.first=n},m(e,t){x(e,n,t),b(n,o),b(n,i)},p(e,i){t=e,8&i[0]&&r!==(r=(t[53]<t[48].tags.length-1?t[51]+", ":t[51])+"")&&F(o,r),8&i[0]&&l!==(l=t[51]||"")&&L(n,"copy-value",l)},d(e){e&&E(n)}}}function Rn(e,t){let n,o,r,s,c,a,u,f,p,m,h,y,w,g,v,S,k,A,$,q,D,M,j,O,U,_,B,R,V,H,W,Y,K,G,X,J,z,Q,Z,ee,te,ne,oe,ie,le,re,se,ce,ae,ue,de,fe,pe,me,he,ye,we,ge,ve,be,Se,ke,xe,Ee,Ae,Ne,Te,Ie,$e,Ce,Le,Fe,qe,Pe,De,Me,je,Oe,Ue,_e,Be,Re,Ve,He,We,Ye,Ke,Ge,Xe,Je,ze,Qe,Ze,et,tt,nt,ot,it,lt,rt,st,ct,at,ut,dt,ft,pt,ht,yt,wt,gt,vt,bt,St,kt,xt,Et,At,Nt,Tt,It,$t,Ct,Lt,Ft,qt,Pt=t[49],Dt=t[50],Mt=(t[48]?.title||"N/A")+"",jt=(t[10](t[48])||"N/A")+"",Ot=(mt(t[48].score)||"N/A")+"",Ut=(t[9](t[48])||"N/A")+"",_t=(t[48].userStatus||"N/A")+"",Bt=(t[48].status||"N/A")+"",Rt=(t[48].averageScore||"N/A")+"",Vt=(`${t[48]?.season||""}${t[48]?.year?" "+t[48].year:""}`||"N/A")+"",Ht=(t[48].userScore||"N/A")+"",Wt=(t[48].popularity||"N/A")+"",Yt=(mt(t[48].weightedScore)||"N/A")+"",Kt="See "+(t[48].isSeenMore?"Less":"More"),Gt=(t[6](t[48].id)||"N/A")+"",Xt=t[48].trailerID&&Sn(),Jt=t[48].bannerImageUrl&&kn(t),zt=t[48].coverImageUrl&&xn(t);const Qt=()=>t[13](r,Pt,Dt),Zt=()=>t[13](null,Pt,Dt);function en(e,t){return 8&t[0]&&(Z=null),null==Z&&(Z=!!Object.entries(e[48]?.studios||{}).length),Z?Tn:Nn}let tn=en(t,[-1,-1,-1]),nn=tn(t);function on(e,t){return e[48].genres.length?Ln:Cn}let ln=on(t),rn=ln(t);function sn(e,t){return e[48].favoriteContents?.length?Pn:qn}let cn=sn(t),an=cn(t);function un(e,t){return e[48].tags.length?_n:Un}let dn=un(t),fn=dn(t);function pn(...e){return t[15](t[48],t[50],...e)}function mn(...e){return t[16](t[48],...e)}const hn=()=>t[17](n,Pt,Dt),yn=()=>t[17](null,Pt,Dt);return{key:e,first:null,c(){n=N("div"),o=N("div"),r=N("div"),s=N("div"),s.innerHTML='<i class="fa-solid fa-k fa-fade"></i>',c=I(),Xt&&Xt.c(),a=I(),u=N("div"),Jt&&Jt.c(),f=I(),zt&&zt.c(),m=I(),h=N("div"),y=N("h3"),y.textContent="Auto Play",w=I(),g=N("label"),v=N("input"),S=I(),k=N("span"),A=I(),$=N("div"),q=N("div"),D=N("a"),M=T(Mt),_=I(),B=N("div"),R=N("div"),V=N("div"),V.textContent="Format",H=I(),W=N("div"),Y=T(jt),G=I(),X=N("div"),J=N("div"),J.textContent="Studio",z=I(),Q=N("div"),nn.c(),ee=I(),te=N("div"),ne=N("div"),ne.textContent="Genres",oe=I(),ie=N("div"),rn.c(),le=I(),re=N("div"),se=N("div"),se.textContent="Score",ce=I(),ae=N("div"),ue=T(Ot),fe=I(),pe=N("div"),me=N("div"),me.textContent="Favorite Contents",he=I(),ye=N("div"),an.c(),we=I(),ge=N("div"),ve=N("div"),ve.textContent="Content Cautions",be=I(),Se=N("div"),ke=T(Ut),Ee=I(),Ae=N("div"),Ne=N("div"),Ne.textContent="User Status",Te=I(),Ie=N("div"),$e=T(_t),Le=I(),Fe=N("div"),qe=N("div"),qe.textContent="Status",Pe=I(),De=N("div"),Me=T(Bt),Oe=I(),Ue=N("div"),_e=N("div"),_e.textContent="Tags",Be=I(),Re=N("div"),fn.c(),Ve=I(),He=N("div"),We=N("div"),We.textContent="Average Score",Ye=I(),Ke=N("div"),Ge=T(Rt),Je=I(),ze=N("div"),Qe=N("div"),Qe.textContent="Season Year",Ze=I(),et=N("div"),tt=T(Vt),ot=I(),it=N("div"),lt=N("div"),lt.textContent="User Score",rt=I(),st=N("div"),ct=T(Ht),ut=I(),dt=N("div"),ft=N("div"),ft.textContent="Popularity",pt=I(),ht=N("div"),yt=T(Wt),gt=I(),vt=N("div"),bt=N("div"),bt.textContent="Wscore",St=I(),kt=N("div"),xt=T(Yt),At=I(),Nt=N("div"),Tt=N("button"),It=T(Kt),$t=I(),Ct=N("button"),Lt=T(Gt),L(s,"class","popup-header-loading svelte-hcwycy"),L(u,"class","popup-img svelte-hcwycy"),L(r,"class",p=d("popup-header "+(t[48].trailerID?"loader":""))+" svelte-hcwycy"),L(y,"class","autoplay-label svelte-hcwycy"),L(v,"type","checkbox"),L(v,"class","autoplayToggle svelte-hcwycy"),L(k,"class","slider round svelte-hcwycy"),L(g,"class","switch svelte-hcwycy"),L(h,"class","button-container svelte-hcwycy"),L(D,"rel","noopener noreferrer"),L(D,"target","_blank"),L(D,"href",j=t[48].animeUrl||""),L(D,"class",O=d(Wn(t[48])+"-color anime-title copy")+" svelte-hcwycy"),L(D,"copy-value",U=t[48].title||""),L(q,"class","anime-title-container svelte-hcwycy"),L(V,"class","info-categ svelte-hcwycy"),L(W,"class","format-popup info copy svelte-hcwycy"),L(W,"copy-value",K=t[10](t[48])||""),L(R,"class","info-list-wrapper svelte-hcwycy"),L(J,"class","info-categ svelte-hcwycy"),L(Q,"class","studio-popup info svelte-hcwycy"),L(ne,"class","info-categ svelte-hcwycy"),L(ie,"class","genres-popup info svelte-hcwycy"),L(se,"class","info-categ svelte-hcwycy"),L(ae,"class","score-popup info copy svelte-hcwycy"),L(ae,"copy-value",de=t[48].score??""),L(me,"class","info-categ svelte-hcwycy"),L(ye,"class","top-similarities-popup info svelte-hcwycy"),L(ve,"class","info-categ svelte-hcwycy"),L(Se,"class","content-caution-popup info copy svelte-hcwycy"),L(Se,"copy-value",xe=t[9](t[48])||""),L(Ne,"class","info-categ svelte-hcwycy"),L(Ie,"class","user-status-popup info copy svelte-hcwycy"),L(Ie,"copy-value",Ce=t[48].userStatus||""),L(qe,"class","info-categ svelte-hcwycy"),L(De,"class","status-popup info copy svelte-hcwycy"),L(De,"copy-value",je=t[48].status||""),L(_e,"class","info-categ svelte-hcwycy"),L(Re,"class","tags-popup info svelte-hcwycy"),L(We,"class","info-categ svelte-hcwycy"),L(Ke,"class","average-score-popup info copy svelte-hcwycy"),L(Ke,"copy-value",Xe=t[48].averageScore??""),L(Qe,"class","info-categ svelte-hcwycy"),L(et,"class","season-year-popup info copy svelte-hcwycy"),L(et,"copy-value",nt=`${t[48]?.season||""}${t[48]?.year?" "+t[48].year:""}`||""),L(lt,"class","info-categ svelte-hcwycy"),L(st,"class","user-score-popup info copy svelte-hcwycy"),L(st,"copy-value",at=t[48].userScore??""),L(ft,"class","info-categ svelte-hcwycy"),L(ht,"class","popularity-popup info copy svelte-hcwycy"),L(ht,"copy-value",wt=t[48].popularity??""),L(bt,"class","info-categ svelte-hcwycy"),L(kt,"class","wscore-popup info copy svelte-hcwycy"),L(kt,"copy-value",Et=t[48].weightedScore??""),L(B,"class","info-list svelte-hcwycy"),P(B,"max-height",t[48].isSeenMore?"none":""),L(Tt,"class","seemoreless svelte-hcwycy"),L(Ct,"class","hideshowbtn svelte-hcwycy"),L(Nt,"class","footer svelte-hcwycy"),L($,"class","popup-body svelte-hcwycy"),L(o,"class","popup-main svelte-hcwycy"),L(n,"class","popup-content svelte-hcwycy"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,r),b(r,s),b(r,c),Xt&&Xt.m(r,null),b(r,a),b(r,u),Jt&&Jt.m(u,null),b(u,f),zt&&zt.m(u,null),Qt(),b(o,m),b(o,h),b(h,y),b(h,w),b(h,g),b(g,v),v.checked=t[2],b(g,S),b(g,k),b(o,A),b(o,$),b($,q),b(q,D),b(D,M),b($,_),b($,B),b(B,R),b(R,V),b(R,H),b(R,W),b(W,Y),b(B,G),b(B,X),b(X,J),b(X,z),b(X,Q),nn.m(Q,null),b(B,ee),b(B,te),b(te,ne),b(te,oe),b(te,ie),rn.m(ie,null),b(B,le),b(B,re),b(re,se),b(re,ce),b(re,ae),b(ae,ue),b(B,fe),b(B,pe),b(pe,me),b(pe,he),b(pe,ye),an.m(ye,null),b(B,we),b(B,ge),b(ge,ve),b(ge,be),b(ge,Se),b(Se,ke),b(B,Ee),b(B,Ae),b(Ae,Ne),b(Ae,Te),b(Ae,Ie),b(Ie,$e),b(B,Le),b(B,Fe),b(Fe,qe),b(Fe,Pe),b(Fe,De),b(De,Me),b(B,Oe),b(B,Ue),b(Ue,_e),b(Ue,Be),b(Ue,Re),fn.m(Re,null),b(B,Ve),b(B,He),b(He,We),b(He,Ye),b(He,Ke),b(Ke,Ge),b(B,Je),b(B,ze),b(ze,Qe),b(ze,Ze),b(ze,et),b(et,tt),b(B,ot),b(B,it),b(it,lt),b(it,rt),b(it,st),b(st,ct),b(B,ut),b(B,dt),b(dt,ft),b(dt,pt),b(dt,ht),b(ht,yt),b(B,gt),b(B,vt),b(vt,bt),b(vt,St),b(vt,kt),b(kt,xt),b($,At),b($,Nt),b(Nt,Tt),b(Tt,It),b(Nt,$t),b(Nt,Ct),b(Ct,Lt),hn(),Ft||(qt=[C(v,"change",t[14]),C(Tt,"click",(function(){l(t[8](t[48],t[50]))&&t[8](t[48],t[50]).apply(this,arguments)})),C(Tt,"keydown",pn),C(Ct,"click",(function(){l(t[7](t[48].id))&&t[7](t[48].id).apply(this,arguments)})),C(Ct,"keydown",mn)],Ft=!0)},p(e,n){(t=e)[48].trailerID?Xt||(Xt=Sn(),Xt.c(),Xt.m(r,a)):Xt&&(Xt.d(1),Xt=null),t[48].bannerImageUrl?Jt?Jt.p(t,n):(Jt=kn(t),Jt.c(),Jt.m(u,f)):Jt&&(Jt.d(1),Jt=null),t[48].coverImageUrl?zt?zt.p(t,n):(zt=xn(t),zt.c(),zt.m(u,null)):zt&&(zt.d(1),zt=null),8&n[0]&&p!==(p=d("popup-header "+(t[48].trailerID?"loader":""))+" svelte-hcwycy")&&L(r,"class",p),Pt===t[49]&&Dt===t[50]||(Zt(),Pt=t[49],Dt=t[50],Qt()),4&n[0]&&(v.checked=t[2]),8&n[0]&&Mt!==(Mt=(t[48]?.title||"N/A")+"")&&F(M,Mt),8&n[0]&&j!==(j=t[48].animeUrl||"")&&L(D,"href",j),8&n[0]&&O!==(O=d(Wn(t[48])+"-color anime-title copy")+" svelte-hcwycy")&&L(D,"class",O),8&n[0]&&U!==(U=t[48].title||"")&&L(D,"copy-value",U),8&n[0]&&jt!==(jt=(t[10](t[48])||"N/A")+"")&&F(Y,jt),8&n[0]&&K!==(K=t[10](t[48])||"")&&L(W,"copy-value",K),tn===(tn=en(t,n))&&nn?nn.p(t,n):(nn.d(1),nn=tn(t),nn&&(nn.c(),nn.m(Q,null))),ln===(ln=on(t))&&rn?rn.p(t,n):(rn.d(1),rn=ln(t),rn&&(rn.c(),rn.m(ie,null))),8&n[0]&&Ot!==(Ot=(mt(t[48].score)||"N/A")+"")&&F(ue,Ot),8&n[0]&&de!==(de=t[48].score??"")&&L(ae,"copy-value",de),cn===(cn=sn(t))&&an?an.p(t,n):(an.d(1),an=cn(t),an&&(an.c(),an.m(ye,null))),8&n[0]&&Ut!==(Ut=(t[9](t[48])||"N/A")+"")&&F(ke,Ut),8&n[0]&&xe!==(xe=t[9](t[48])||"")&&L(Se,"copy-value",xe),8&n[0]&&_t!==(_t=(t[48].userStatus||"N/A")+"")&&F($e,_t),8&n[0]&&Ce!==(Ce=t[48].userStatus||"")&&L(Ie,"copy-value",Ce),8&n[0]&&Bt!==(Bt=(t[48].status||"N/A")+"")&&F(Me,Bt),8&n[0]&&je!==(je=t[48].status||"")&&L(De,"copy-value",je),dn===(dn=un(t))&&fn?fn.p(t,n):(fn.d(1),fn=dn(t),fn&&(fn.c(),fn.m(Re,null))),8&n[0]&&Rt!==(Rt=(t[48].averageScore||"N/A")+"")&&F(Ge,Rt),8&n[0]&&Xe!==(Xe=t[48].averageScore??"")&&L(Ke,"copy-value",Xe),8&n[0]&&Vt!==(Vt=(`${t[48]?.season||""}${t[48]?.year?" "+t[48].year:""}`||"N/A")+"")&&F(tt,Vt),8&n[0]&&nt!==(nt=`${t[48]?.season||""}${t[48]?.year?" "+t[48].year:""}`||"")&&L(et,"copy-value",nt),8&n[0]&&Ht!==(Ht=(t[48].userScore||"N/A")+"")&&F(ct,Ht),8&n[0]&&at!==(at=t[48].userScore??"")&&L(st,"copy-value",at),8&n[0]&&Wt!==(Wt=(t[48].popularity||"N/A")+"")&&F(yt,Wt),8&n[0]&&wt!==(wt=t[48].popularity??"")&&L(ht,"copy-value",wt),8&n[0]&&Yt!==(Yt=(mt(t[48].weightedScore)||"N/A")+"")&&F(xt,Yt),8&n[0]&&Et!==(Et=t[48].weightedScore??"")&&L(kt,"copy-value",Et),8&n[0]&&P(B,"max-height",t[48].isSeenMore?"none":""),8&n[0]&&Kt!==(Kt="See "+(t[48].isSeenMore?"Less":"More"))&&F(It,Kt),8&n[0]&&Gt!==(Gt=(t[6](t[48].id)||"N/A")+"")&&F(Lt,Gt),Pt===t[49]&&Dt===t[50]||(yn(),Pt=t[49],Dt=t[50],hn())},d(e){e&&E(n),Xt&&Xt.d(),Jt&&Jt.d(),zt&&zt.d(),Zt(),nn.d(),rn.d(),an.d(),fn.d(),yn(),Ft=!1,i(qt)}}}function Vn(e){let t;return{c(){t=N("div"),t.innerHTML='<i class="popup-content-loading-icon fa-solid fa-k fa-fade svelte-hcwycy"></i>',L(t,"class","popup-content-loading svelte-hcwycy")},m(e,n){x(e,t,n)},d(e){e&&E(t)}}}function Hn(t){let n,o,l,r,s=t[3]?.length&&bn(t);return{c(){n=N("div"),o=N("div"),s&&s.c(),L(o,"id","popup-container"),L(o,"class","popup-container hide svelte-hcwycy"),P(o,"--translateY",window.innerHeight+"px"),L(n,"id","popup-wrapper"),L(n,"class","popup-wrapper svelte-hcwycy")},m(e,i){x(e,n,i),b(n,o),s&&s.m(o,null),t[18](o),t[20](n),l||(r=[C(n,"click",t[5]),C(n,"keydown",t[19])],l=!0)},p(e,t){e[3]?.length?s?s.p(e,t):(s=bn(e),s.c(),s.m(o,null)):s&&(s.d(1),s=null)},i:e,o:e,d(e){e&&E(n),s&&s.d(),t[18](null),t[20](null),l=!1,i(r)}}}function Wn({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":o<t?"purple":o<n?"orange":e?.semiCaution?.length?"teal":"green"}function Yn(e,t,n){let o,i,l,r,s,c,u,d,p,m,h,y,w;a(e,qe,(e=>n(33,o=e))),a(e,Be,(e=>n(34,i=e))),a(e,Ae,(e=>n(35,l=e))),a(e,Re,(e=>n(2,r=e))),a(e,Qe,(e=>n(36,s=e))),a(e,Ne,(e=>n(37,c=e))),a(e,Le,(e=>n(3,u=e))),a(e,He,(e=>n(38,d=e))),a(e,Ze,(e=>n(39,p=e))),a(e,Fe,(e=>n(40,m=e))),a(e,Ie,(e=>n(41,h=e))),a(e,Ge,(e=>n(42,y=e))),a(e,Ye,(e=>n(4,w=e)));let g,v,b,S,k,x,E,A,N,T=window.navigator.onLine,I=50;function $(e){let t=e.target,n=t.classList;t.closest(".popup-container")||n.contains("popup-container")||f(Qe,s=!1,s)}async function C(e){h[e]?await y("Are you sure you want to show the anime?")&&(delete h[e],Ie.set(h),u.length&&m instanceof Worker&&m.postMessage({removeID:e})):await y("Are you sure you want to hide the anime?")&&(f(Ie,h[e]=!0,h),u.length&&m instanceof Worker&&m.postMessage({removeID:e}))}async function L(e,t){if(u[t]){f(Le,u[t].isSeenMore=!u[t].isSeenMore,u),await z();let n=e.popupContent||x.children?.[t],o=n?.getElementsByClassName?.("popup-header")[0];n instanceof Element&&(pt(x,n,"bottom","instant",55),v=o,F())}}async function F(){if(!s)return;await z();let e,t=v?.querySelector?.(".trailer"),n=ft(v?.closest?.(".popup-content"))??-1;if(A&&clearTimeout(A),A=setTimeout((()=>{if(!s)return;let e=u?.[n]?.gridElement||g.children?.[n];s&&e instanceof Element&&!function(e,t,n=0){try{var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),l=getComputedStyle(e).overflowX,r=getComputedStyle(e).overflowY;if("auto"===l||"scroll"===l||"auto"===r||"scroll"===r){var s=e.scrollLeft,c=e.scrollTop,a=o.top>=i.top&&o.left>=i.left&&o.bottom<=i.bottom&&o.right<=i.right;if(a||(a=(Math.max(o.top,i.top)-Math.min(o.bottom,i.bottom))*(Math.max(o.left,i.left)-Math.min(o.right,i.right))/(Math.min(o.height,window.innerHeight)*Math.min(o.width,window.innerWidth))>=n),!a)return!1;o={top:o.top-i.top+c,left:o.left-i.left+s,bottom:o.bottom-i.top+c,right:o.right-i.left+s,height:o.height,width:o.width}}var u=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth;return o.top>=0&&o.left>=0&&o.bottom<=u&&o.right<=d}catch(e){return}}(g,e,.5)&&(window.scrollY=window.scrollY,window.scrollX=window.scrollX,e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),300),t instanceof Element&&(e=i?.some((({ytPlayer:e})=>e.g===t))),e){if(n>=0){b=n;let e=[[u?.[n+1],n+1],[u?.[n-1],n-1]];N&&clearTimeout(N),N=setTimeout((async()=>{s&&e.forEach((([e,t])=>{e&&P(e,t)}))}),300)}i?.forEach((async({ytPlayer:e})=>{e.g===t&&1!==e?.getPlayerState?.()&&r?(await z(),!k?.classList?.contains?.("visible")||!c&&l||(D(e),e?.playVideo?.(),S=e)):e.g!==t&&e?.pauseVideo?.()}))}else if(i?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),n>=0){b=n;let e=[[u?.[n],n],[u?.[n+1],n+1],[u?.[n-1],n-1]];N&&clearTimeout(N),N=setTimeout((async()=>{s&&e.forEach((([e,t])=>{e&&P(e,t)}))}),300)}}(async()=>{I=await pn("savedYtVolume")||50})(),We.subscribe((async e=>{if(s&&e>=0){await z();let t=x?.children[e];t instanceof Element&&x instanceof Element&&pt(x,t,"top")}})),Ie.subscribe((async e=>{ut(e)&&await fn(e,"hiddenEntries")})),Qe.subscribe((async e=>{if(k instanceof Element&&x instanceof Element)if(!0===e){x.style.setProperty("--translateY",window.innerHeight+"px");let e=x?.children[p??0];if(e instanceof Element){pt(x,e),vt(k,"visible"),vt(x,"show"),b=p;let t,n=[[u[p],p],[u[p+1],p+1],[u[p-1],p-1]],o=n[0][0]?.popupHeader?.querySelector?.(".trailer")||x?.children?.[p]?.querySelector?.(".trailer");for(let e=0;e<i.length;e++)if(i[e].ytPlayer.g===o){t=!0,r&&(await z(),!k?.classList?.contains?.("visible")||!c&&l||(D(i[e].ytPlayer),i[e].ytPlayer?.playVideo?.(),S=i[e].ytPlayer));break}n.forEach((([e,n],o)=>{t&&e&&0===o||e&&P(e,n)})),f(Ze,p=null,p)}else vt(k,"visible"),vt(x,"show")}else!1===e&&(bt(x,"show"),vt(x,"hide"),setTimeout((()=>{i?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),bt(k,"visible")}),300))})),Le.subscribe((async e=>{if(e instanceof Array&&e.length){E&&(E?.disconnect?.(),E=null),await z(),E=new IntersectionObserver((e=>{if(!s)return;let t=[];if(e.forEach((e=>{if(!s)return;let n=e.target;e.isIntersecting&&(e.intersectionRatio>=.5||window.innerHeight<180&&e.intersectionRatio>0)&&t.push(n)})),t.length){let e=dt(x,t,window.innerHeight>=180?.5:0)||dt(x,x.children,0)?.getElementsByClassName("popup-header")?.[0];v=e,F()}}),{root:null,rootMargin:"100%",threshold:[.5,0]}),e.forEach((async(e,t)=>{let n=e.popupHeader||x.children?.[t]?.querySelector?.(".popup-header");n instanceof Element&&E?.observe?.(n)}));let t=u[u.length-1].popupContent||x.children?.[u.length-1];d&&t instanceof Element&&d.observe(t),F()}else e instanceof Array&&e.length<1&&f(Qe,s=!1,s)})),Re.subscribe((async e=>{if("boolean"==typeof e)if(await fn(e,"autoPlay"),!0===e){await z();let e=v?.querySelector?.(".trailer");for(let t=0;t<i.length;t++)if(i[t].ytPlayer.g===e&&(c||!l)){D(i[t].ytPlayer),i[t].ytPlayer?.playVideo?.(),S=i[t].ytPlayer;break}}else i?.forEach((({ytPlayer:e})=>e?.pauseVideo?.()))})),V((()=>{n(0,k=k||document.getElementById("popup-wrapper")),n(1,x=x||k.querySelector("#popup-container")),g=document.getElementById("anime-grid"),document.addEventListener("keydown",(async e=>{if(" "===e.key&&s){e.preventDefault();let t=i?.some((({ytPlayer:e})=>e?.getPlayerState?.()===YT.PlayerState.PLAYING));if(t)i.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()}));else{await z();let e=v?.querySelector?.(".trailer");for(let t=0;t<i.length;t++)if(i[t].ytPlayer.g===e&&(c||!l)){D(i[t].ytPlayer),i[t].ytPlayer?.playVideo?.(),S=i[t].ytPlayer;break}}}}))}));let q={};function P(e,t){let n=e?.popupHeader||x.children?.[t]?.querySelector(".popup-header"),o=n?.querySelector?.(".trailer")||n?.querySelector?.(".trailer"),l=e?.trailerID;if(o instanceof Element&&l){if(i.some((({ytPlayer:e})=>e.g===o)))return;vt(n,"loader");let r=n?.querySelector?.(".popup-img");if(e?.bannerImageUrl&&!q[e.id]){let e=r.querySelector(".coverImg");vt(e,"display-none")}if(i.length>=8){let e=0,t=-1/0;i.forEach(((n,o)=>{if(-1===n.headerIdx)return;let i=Math.abs(n.headerIdx-b);i>t&&(t=i,e=o)}));let l=i?.splice?.(e,1)?.[0]?.ytPlayer,s=l?.g?.closest?.(".popup-header");l?.destroy?.();let c=s?.querySelector?.(".popup-img");c instanceof Element&&bt(c,"display-none");let a=document.createElement("div");a.className="trailer",vt(o,"display-none"),bt(r,"display-none"),n.replaceChild(a,o),vt(o,"display-none"),o=n.querySelector(".trailer")}else vt(o,"display-none");bt(r,"display-none"),o.setAttribute("id","yt-player"+Date.now()+Math.random());let s=new YT.Player(o,{playerVars:{cc_lang_pref:"en",cc_load_policy:1,enablejsapi:1,loop:1,modestbranding:1,playsinline:1,playlist:l},events:{onReady:e=>{!async function(e){let t=e.target,n=t?.g;n?.setAttribute?.("loading","lazy");let o=n?.parentElement,l=o?.querySelector?.(".popup-img"),r=o?.closest?.(".popup-content"),s=u?.[ft(r)??-1];if(!(s&&n instanceof Element&&l instanceof Element))return;if(-1!==t.getPlayerState()&&"IFRAME"===n.tagName&&T)vt(l,"fade-out"),setTimeout((()=>{bt(o,"loader"),bt(n,"display-none"),setTimeout((()=>{vt(l,"display-none"),bt(l,"fade-out")}),300)}),1e3),F(),delete q[s.id];else{q[s.id]=!0,f(Be,i=i.filter((e=>e.ytPlayer!==t)),i);let e=s?.bannerImageUrl,r=l.querySelector(".bannerImg");!e||0!==r?.naturalHeight&&0!==r?.naturalWidth||(r.src=e);let c=s.coverImageUrl,a=l.querySelector(".coverImg");!c||0!==a?.naturalHeight&&0!==a?.naturalWidth||(a.src=c),t.destroy(),vt(n,"display-none"),bt(o,"loader"),bt(a,"display-none"),bt(l,"display-none")}}(e)}}}),c=`https://www.youtube.com/embed/${l}?playlist=${l}&cc_load_policy=1&cc_lang_pref=en&enablejsapi=1&loop=1&modestbranding=1&playsinline=1`;o.setAttribute("src",c),i.push({ytPlayer:s,headerIdx:t})}else{let e=n?.querySelector?.(".popup-img"),t=e.querySelector(".coverImg");bt(t,"display-none"),e instanceof Element&&bt(e,"display-none")}}function D(e){if(S?.isMuted&&S?.getVolume){let t=S?.isMuted?.(),n=S?.getVolume?.();"boolean"==typeof t&&(t?e?.mute?.():e?.unMute?.()),"number"==typeof n&&(I!==n&&(I=n,fn(I,"savedYtVolume")),e?.setVolume?.(I))}}let M=!1;window.returnedAppIsVisible=e=>{if(!s||!l)return;f(Ne,c=e,c);let t=v?.querySelector?.(".trailer");if(t&&s)if(e){for(var{ytPlayer:n}of i)if(n.g===t&&(2===n?.getPlayerState?.()&&M||r)){D(n),n?.playVideo?.(),S=n;break}}else if(!e)for(var{ytPlayer:n}of(M=!1,i))n.g===t&&1===n?.getPlayerState?.()&&(M=!0),n?.pauseVideo?.()},window.addEventListener("online",(()=>{if(l)try{JSBridge.isOnline(!0)}catch(e){}f(qe,o="Reconnected Successfully",o),T=!0,document.querySelectorAll("img")?.forEach((e=>{e.naturalHeight||(e.src=e.src)})),new Promise((e=>{var t=document.getElementById("www-widgetapi-script");t&&t.parentElement.removeChild(t);var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api?v=16",n.onerror=()=>{e()},n.onload=()=>{window?.onYouTubeIframeAPIReady?.(),e()};var o=document.getElementsByTagName("script")[0];o.parentElement.insertBefore(n,o)})).then((()=>{f(Be,i=i.filter((({ytPlayer:e})=>{if("function"!=typeof e?.playVideo||-1===e.getPlayerState()||isNaN(e.getPlayerState())){e.destroy();let t=e?.g?.closest?.(".popup-header")?.querySelector?.(".popup-img");return t instanceof Element&&bt(t,"display-none"),!1}return!0})),i),F()}))})),window.addEventListener("offline",(()=>{f(qe,o="Currently Offline...",o),T=!1}));return[k,x,r,u,w,$,function(e){return h?h[e]?"Show":"Hide":"N/A"},C,L,function({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){let i=(e?.caution||[]).concat(e?.semiCaution||[]);return o<t?i.push(`Very Low Score (mean: ${mt(t)})`):o<n&&i.push(`Low Score (mean: ${mt(n)})`),i.join(", ")||""},function({episodes:e,format:t,duration:n}){let o=t;if(e>0&&t&&(o=`${t} [${e}]`,n>0)){let e=function(e){try{let t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),o=Math.floor(e/36e5%24),i=Math.floor(e/864e5%7),l=Math.floor(e/6048e5%4),r=Math.floor(e/24192e5%12),s=Math.floor(e/290304e5%10),c=Math.floor(e/290304e6%10),a=Math.floor(e/290304e7%10),u=Math.floor(e/290304e8%10),d=[];return u<=0&&a<=0&&c<=0&&s<=0&&r<=0&&l<=0&&i<=0&&o<=0&&n<=0&&t<=0?"0s":(u>0&&d.push(1===u?`${u}mil`:`${u}mils`),c>0&&d.push(1===c?`${c}de`:`${c}des`),s>0&&d.push(`${s}y`),r>0&&d.push(1===r?`${r}mo`:`${r}mos`),l>0&&d.push(`${l}w`),i>0&&d.push(`${i}d`),o>0&&d.push(`${o}h`),n>0&&d.push(`${n}m`),t>0&&d.push(`${t}s`),d.join(" "))}catch(e){return}}(60*n*1e3);o=`${o} | ${e||""}`}return o},e=>vt(e.target,"fade-in"),e=>vt(e.target,"fade-in"),function(e,t,n){W[e?"unshift":"push"]((()=>{t[n].popupHeader=e}))},function(){r=this.checked,Re.set(r)},(e,t,n)=>"Enter"===n.key&&L(e,t),(e,t)=>"Enter"===t.key&&C(e.id),function(e,t,n){W[e?"unshift":"push"]((()=>{t[n].popupContent=e}))},function(e){W[e?"unshift":"push"]((()=>{x=e,n(1,x)}))},e=>"Enter"===e.key&&$(e),function(e){W[e?"unshift":"push"]((()=>{k=e,n(0,k)}))}]}function Kn(e){const t=e-1;return t*t*t+1}function Gn(e,{delay:n=0,duration:o=400,easing:i=t}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:i,css:e=>"opacity: "+e*l}}function Xn(e,{delay:t=0,duration:n=400,easing:o=Kn,x:i=0,y:l=0,opacity:r=0}={}){const s=getComputedStyle(e),c=+s.opacity,a="none"===s.transform?"":s.transform,u=c*(1-r),[d,f]=p(i),[m,h]=p(l);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*d}${f}, ${(1-e)*m}${h});\n\t\t\topacity: ${c-u*t}`}}function Jn(e){let t,n,o,l,r,s,c,a,u,d,f,p,m,h,y,w,g,v,S,k,A,$,q=(e[3][e[1]]?"Show":"Hide")+" Anime";return{c(){t=N("div"),n=N("div"),o=N("div"),l=N("span"),r=N("h1"),s=T(e[0]),c=I(),a=N("div"),a.textContent="×",u=I(),d=N("span"),d.innerHTML='<h2 class="option-title svelte-l9gjbd">Open Anime</h2>',f=I(),p=N("span"),p.innerHTML='<h2 class="option-title svelte-l9gjbd">Open In Anilist</h2>',m=I(),h=N("span"),h.innerHTML='<h2 class="option-title svelte-l9gjbd">Copy Title</h2>',y=I(),w=N("span"),g=N("h2"),v=T(q),L(r,"class","svelte-l9gjbd"),L(l,"class","anime-title svelte-l9gjbd"),L(a,"class","closing-x svelte-l9gjbd"),L(o,"class","option-header svelte-l9gjbd"),L(d,"class","anime-option svelte-l9gjbd"),L(p,"class","anime-option svelte-l9gjbd"),L(h,"class","anime-option svelte-l9gjbd"),L(g,"class","option-title svelte-l9gjbd"),L(w,"class","anime-option svelte-l9gjbd"),L(n,"class","anime-options-container svelte-l9gjbd"),L(t,"class","anime-options svelte-l9gjbd")},m(i,S){x(i,t,S),b(t,n),b(n,o),b(o,l),b(l,r),b(r,s),b(o,c),b(o,a),b(n,u),b(n,d),b(n,f),b(n,p),b(n,m),b(n,h),b(n,y),b(n,w),b(w,g),b(g,v),k=!0,A||($=[C(a,"click",e[4]),C(a,"keydown",e[9]),C(d,"click",e[5]),C(d,"keydown",e[10]),C(p,"click",e[6]),C(p,"keydown",e[11]),C(h,"click",e[7]),C(h,"keydown",e[12]),C(w,"click",e[8]),C(w,"keydown",e[13]),C(t,"click",e[4]),C(t,"keydown",e[14])],A=!0)},p(e,t){(!k||1&t)&&F(s,e[0]),(!k||10&t)&&q!==(q=(e[3][e[1]]?"Show":"Hide")+" Anime")&&F(v,q)},i(e){k||(Q((()=>{k&&(S||(S=pe(n,Xn,{y:20,duration:300},!0)),S.run(1))})),k=!0)},o(e){S||(S=pe(n,Xn,{y:20,duration:300},!1)),S.run(0),k=!1},d(e){e&&E(t),e&&S&&S.end(),A=!1,i($)}}}function zn(e){let t,n,o=e[2]&&Jn(e);return{c(){o&&o.c(),t=$()},m(e,i){o&&o.m(e,i),x(e,t,i),n=!0},p(e,[n]){e[2]?o?(o.p(e,n),4&n&&ue(o,1)):(o=Jn(e),o.c(),ue(o,1),o.m(t.parentNode,t)):o&&(ce(),de(o,1,1,(()=>{o=null})),ae())},i(e){n||(ue(o),n=!0)},o(e){de(o),n=!1},d(e){o&&o.d(e),e&&E(t)}}}function Qn(e,t,n){let o,i,l,r,s,c,u,d,p,m,h,y,w;a(e,Je,(e=>n(2,o=e))),a(e,Fe,(e=>n(19,i=e))),a(e,Le,(e=>n(20,l=e))),a(e,Ie,(e=>n(3,r=e))),a(e,Ge,(e=>n(21,s=e))),a(e,Ae,(e=>n(22,c=e))),a(e,Qe,(e=>n(23,u=e))),a(e,Ze,(e=>n(24,d=e))),a(e,ze,(e=>n(25,p=e)));let g,v=!0;function b(e){if(v&&"keydown"!==e.type)return;let t=e.target,n=t.classList;(n.contains("closing-x")||!t.closest(".anime-options-container")&&!n.contains("anime-options-container"))&&f(Je,o=!1,o)}function S(e){v&&"keydown"!==e.type||(f(Ze,d=w,d),f(Qe,u=!0,u),f(Je,o=!1,o))}function k(e){v&&"keydown"!==e.type||(y&&window.open(y,"_blank"),f(Je,o=!1,o))}function x(e){if((!v||"keydown"===e.type)&&m){if(c)try{JSBridge.copyToClipBoard(m)}catch(e){}else navigator?.clipboard?.writeText?.(m);f(Je,o=!1,o)}}async function E(e){if(v&&"keydown"!==e.type)return;r[h]?await s("Are you sure you want to show the anime?")&&(delete r[h],Ie.set(r),l.length&&i instanceof Worker&&i.postMessage({removeID:h}),f(Je,o=!1,o)):await s("Are you sure you want to hide the anime?")&&(f(Ie,r[h]=!0,r),l.length&&i instanceof Worker&&i.postMessage({removeID:h}),f(Je,o=!1,o))}Je.subscribe((e=>{if(!0===e){v=!0,g=setTimeout((()=>{v=!1}),500);let e=l[p];e&&(n(0,m=e.title),n(1,h=e.id),y=e.animeUrl,w=p),f(ze,p=null,p)}else g&&clearTimeout(g),v=!1}));return[m,h,o,r,b,S,k,x,E,e=>"Enter"===e.key&&b(e),e=>"Enter"===e.key&&S(e),e=>"Enter"===e.key&&k(e),e=>"Enter"===e.key&&x(e),e=>"Enter"===e.key&&E(e),e=>"Enter"===e.key&&b(e)]}function Zn(t){let n,o,l,r,s,a,u,f,p,m,h,y,w,g,v,S,k=(t[0]||"Your Anilist Username")+"";return{c(){n=N("div"),o=N("nav"),l=N("i"),r=I(),s=N("div"),a=N("input"),u=I(),f=N("div"),p=T(k),h=I(),y=N("img"),L(l,"class",d("goback fa-solid fa-arrow-left")+" svelte-r9baka"),L(a,"id","usernameInput"),L(a,"type","search"),L(a,"enterkeyhint","search"),L(a,"autocomplete","off"),L(a,"placeholder","Your Anilist Username"),L(a,"class","svelte-r9baka"),L(f,"class",m=d("usernameText "+(t[5]&&(t[3]||t[4])?"animate":""))+" svelte-r9baka"),L(s,"class","input-search svelte-r9baka"),L(y,"class","logo-icon svelte-r9baka"),c(y.src,w="./images/Kanshi-Logo.png")||L(y,"src","./images/Kanshi-Logo.png"),L(y,"alt","Kanshi Logo"),L(o,"id","nav"),L(o,"class",g=d("nav "+(t[3]||t[4]?"popupvisible":t[1]===document?.activeElement?"inputfocused":""))+" svelte-r9baka"),L(n,"class","nav-container svelte-r9baka")},m(e,i){x(e,n,i),b(n,o),b(o,l),b(o,r),b(o,s),b(s,a),q(a,t[0]),t[16](a),b(s,u),b(s,f),b(f,p),b(o,h),b(o,y),t[18](o),v||(S=[C(l,"click",t[9]),C(l,"keydown",t[13]),C(a,"keydown",t[14]),C(a,"focusin",t[12]),C(a,"focusout",t[12]),C(a,"input",t[15]),C(f,"click",t[8]),C(f,"keydown",t[17]),C(y,"pointerdown",t[10]),C(y,"pointerup",t[11]),C(y,"pointercancel",t[11]),C(n,"keydown",t[19]),C(n,"click",t[7])],v=!0)},p(e,[t]){1&t&&a.value!==e[0]&&q(a,e[0]),1&t&&k!==(k=(e[0]||"Your Anilist Username")+"")&&F(p,k),56&t&&m!==(m=d("usernameText "+(e[5]&&(e[3]||e[4])?"animate":""))+" svelte-r9baka")&&L(f,"class",m),26&t&&g!==(g=d("nav "+(e[3]||e[4]?"popupvisible":e[1]===document?.activeElement?"inputfocused":""))+" svelte-r9baka")&&L(o,"class",g)},i:e,o:e,d(e){e&&E(n),t[16](null),t[18](null),v=!1,i(S)}}}function eo(e,t,n){let o,i,l,r,s,c;a(e,Ge,(e=>n(24,o=e))),a(e,Qe,(e=>n(3,i=e))),a(e,Xe,(e=>n(4,l=e))),a(e,qe,(e=>n(5,r=e))),a(e,Te,(e=>n(25,s=e))),a(e,Ve,(e=>n(26,c=e)));let u,d,p,m,h,y=[],w="",g=!1;async function v(e){if(c)return await async function(){return await o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}(),void S();let t=e.target,i=t.classList;if("Enter"===e.key||"click"===e.type&&(i.contains("searchBtn")||t?.closest?.(".searchBtn"))){if(!w)return;if(w!==s){if(!navigator.onLine)return o({isAlert:!0,title:"Currently Offline",text:"It seems that you're currently offline and unable to update."});(async()=>{s?await o(`Currently connected to ${s}, do you want to change account?`)?(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),f(Xe,l=!1,l),f(qe,r="Getting User Entries",r),Jt({username:w}).then((({newusername:e})=>{e&&(n(0,w=f(Te,s=e||"",s)),rt.update((e=>!e)))})).catch((e=>{f(qe,r="Something went wrong...",r),console.error(e)}))):S():await o(`Are you sure you want to connect to ${w}?`)?(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),f(Xe,l=!1,l),f(qe,r="Getting User Entries",r),await Jt({username:w}).then((({newusername:e})=>{e&&n(0,w=f(Te,s=e||"",s)),rt.update((e=>!e))})).catch((e=>{f(qe,r="Something went wrong...",r),console.error(e)}))):S()})()}else S()}}function b(e){if(m)return void(m=!1);let t=e.target.classList;return t.contains("nav")||t.contains("logo-icon")?g&&!t.contains("logo-icon")?(d?.blur?.(),void(g=!1)):void f(Xe,l=!l,l):void 0}function S(){d?.focus?.()}function k(){d===document.activeElement||g?(d?.blur?.(),g=!1):l?f(Xe,l=!l,l):i&&f(Qe,i=!1,i)}var x;V((()=>{n(2,u=u||document?.getElementById("nav")),n(1,d=d||document?.getElementById("usernameInput")),h=h||document?.getElementById("popup-container"),y.push(Te.subscribe((e=>{n(0,w=e||"")})))})),x=()=>{y.forEach((e=>e()))},R().$$.on_destroy.push(x);return e.$$.update=()=>{3&e.$$.dirty&&w&&d?.setCustomValidity?.("")},[w,d,u,i,l,r,v,b,S,k,function(){p&&clearTimeout(p),p=setTimeout((()=>{m=!0,i?(h.scrollTop=h.scrollTop,h.scrollLeft=h.scrollLeft,h?.children?.[0]?.scrollIntoView?.({behavior:"smooth",block:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"}))}),500)},function(){p&&clearTimeout(p),m&&(p=setTimeout((()=>{m=!1}),50))},function(e){"focusin"===e.type?(g=!0,vt(u,"inputfocused")):setTimeout((()=>{bt(u,"inputfocused"),g=!1}),100)},e=>"Enter"===e.key&&k(),e=>"Enter"===e.key&&v(e),function(){w=this.value,n(0,w)},function(e){W[e?"unshift":"push"]((()=>{d=e,n(1,d)}))},e=>"Enter"===e.key&&S(),function(e){W[e?"unshift":"push"]((()=>{u=e,n(2,u)}))},e=>"Enter"===e.key&&b(e)]}function to(e){let t,n,o,l,r,s,c,a,u,f,p,m,h,y,w,g,v,S,k,A,$,F,q,P,D,M,j,O,U,_,B,R,V,H,W=e[1]&&no(e),Y=e[1]&&oo(e);return{c(){t=N("div"),n=N("div"),o=N("button"),o.textContent="Update List",r=I(),s=N("button"),s.textContent="Show All Hidden Entries",a=I(),u=N("button"),u.textContent="Import Data",p=I(),m=N("button"),m.textContent="Export Data",y=I(),W&&W.c(),w=I(),g=N("button"),g.textContent="Dark Mode",S=I(),k=N("button"),A=T("Auto Update"),q=I(),P=N("button"),D=T("Auto Export"),O=I(),U=N("button"),U.textContent="Create an Anilist Account",B=I(),Y&&Y.c(),L(o,"class","button svelte-1pa86sp"),L(s,"class","button svelte-1pa86sp"),L(u,"class","button svelte-1pa86sp"),L(m,"class","button svelte-1pa86sp"),L(g,"class","button selected svelte-1pa86sp"),L(k,"class",$=d("button "+(e[5]?"selected":""))+" svelte-1pa86sp"),L(P,"class",M=d("button "+(e[3]?"selected":""))+" svelte-1pa86sp"),L(U,"class","button svelte-1pa86sp"),L(n,"class","menu svelte-1pa86sp"),L(t,"class","menu-container svelte-1pa86sp")},m(i,l){x(i,t,l),b(t,n),b(n,o),b(n,r),b(n,s),b(n,a),b(n,u),b(n,p),b(n,m),b(n,y),W&&W.m(n,null),b(n,w),b(n,g),b(n,S),b(n,k),b(k,A),b(n,q),b(n,P),b(P,D),b(n,O),b(n,U),b(n,B),Y&&Y.m(n,null),R=!0,V||(H=[C(o,"click",e[10]),C(o,"keydown",e[19]),C(s,"click",e[14]),C(s,"keydown",e[20]),C(u,"click",e[7]),C(u,"keydown",e[21]),C(m,"click",e[9]),C(m,"keydown",e[22]),C(g,"click",e[6]),C(g,"keydown",e[24]),C(k,"click",e[11]),C(k,"keydown",e[25]),C(P,"click",e[12]),C(P,"keydown",e[26]),C(U,"click",e[15]),C(U,"keydown",e[27]),C(t,"click",e[13]),C(t,"keydown",e[30])],V=!0)},p(e,t){e[1]?W?(W.p(e,t),2&t[0]&&ue(W,1)):(W=no(e),W.c(),ue(W,1),W.m(n,w)):W&&(ce(),de(W,1,1,(()=>{W=null})),ae()),(!R||32&t[0]&&$!==($=d("button "+(e[5]?"selected":""))+" svelte-1pa86sp"))&&L(k,"class",$),(!R||8&t[0]&&M!==(M=d("button "+(e[3]?"selected":""))+" svelte-1pa86sp"))&&L(P,"class",M),e[1]?Y?(Y.p(e,t),2&t[0]&&ue(Y,1)):(Y=oo(e),Y.c(),ue(Y,1),Y.m(n,null)):Y&&(ce(),de(Y,1,1,(()=>{Y=null})),ae())},i(e){R||(Q((()=>{R&&(l||(l=pe(o,Xn,{x:50,duration:300},!0)),l.run(1))})),Q((()=>{R&&(c||(c=pe(s,Xn,{x:50,duration:300},!0)),c.run(1))})),Q((()=>{R&&(f||(f=pe(u,Xn,{x:50,duration:300},!0)),f.run(1))})),Q((()=>{R&&(h||(h=pe(m,Xn,{x:50,duration:300},!0)),h.run(1))})),ue(W),Q((()=>{R&&(v||(v=pe(g,Xn,{x:50,duration:300},!0)),v.run(1))})),Q((()=>{R&&(F||(F=pe(k,Xn,{x:50,duration:300},!0)),F.run(1))})),Q((()=>{R&&(j||(j=pe(P,Xn,{x:50,duration:300},!0)),j.run(1))})),Q((()=>{R&&(_||(_=pe(U,Xn,{x:50,duration:300},!0)),_.run(1))})),ue(Y),R=!0)},o(e){l||(l=pe(o,Xn,{x:50,duration:300},!1)),l.run(0),c||(c=pe(s,Xn,{x:50,duration:300},!1)),c.run(0),f||(f=pe(u,Xn,{x:50,duration:300},!1)),f.run(0),h||(h=pe(m,Xn,{x:50,duration:300},!1)),h.run(0),de(W),v||(v=pe(g,Xn,{x:50,duration:300},!1)),v.run(0),F||(F=pe(k,Xn,{x:50,duration:300},!1)),F.run(0),j||(j=pe(P,Xn,{x:50,duration:300},!1)),j.run(0),_||(_=pe(U,Xn,{x:50,duration:300},!1)),_.run(0),de(Y),R=!1},d(e){e&&E(t),e&&l&&l.end(),e&&c&&c.end(),e&&f&&f.end(),e&&h&&h.end(),W&&W.d(),e&&v&&v.end(),e&&F&&F.end(),e&&j&&j.end(),e&&_&&_.end(),Y&&Y.d(),V=!1,i(H)}}}function no(e){let t,n,o,l,r,s,c=(e[4]?"Change":"Set")+" Export Folder";return{c(){t=N("button"),n=T(c),L(t,"class","button svelte-1pa86sp")},m(o,i){x(o,t,i),b(t,n),l=!0,r||(s=[C(t,"click",lo),C(t,"keydown",e[23])],r=!0)},p(e,t){(!l||16&t[0])&&c!==(c=(e[4]?"Change":"Set")+" Export Folder")&&F(n,c)},i(e){l||(Q((()=>{l&&(o||(o=pe(t,Xn,{x:50,duration:300},!0)),o.run(1))})),l=!0)},o(e){o||(o=pe(t,Xn,{x:50,duration:300},!1)),o.run(0),l=!1},d(e){e&&E(t),e&&o&&o.end(),r=!1,i(s)}}}function oo(t){let n,o,l,r,s,c,a,u;return{c(){n=N("button"),n.textContent="Switch App Mode",l=I(),r=N("button"),r.textContent="Check for Updates",L(n,"class","button svelte-1pa86sp"),L(r,"class","button svelte-1pa86sp")},m(e,o){x(e,n,o),x(e,l,o),x(e,r,o),c=!0,a||(u=[C(n,"keydown",t[28]),C(n,"click",t[16]),C(r,"keydown",t[29]),C(r,"click",t[17])],a=!0)},p:e,i(e){c||(Q((()=>{c&&(o||(o=pe(n,Xn,{x:50,duration:300},!0)),o.run(1))})),Q((()=>{c&&(s||(s=pe(r,Xn,{x:50,duration:300},!0)),s.run(1))})),c=!0)},o(e){o||(o=pe(n,Xn,{x:50,duration:300},!1)),o.run(0),s||(s=pe(r,Xn,{x:50,duration:300},!1)),s.run(0),c=!1},d(e){e&&E(n),e&&o&&o.end(),e&&E(l),e&&E(r),e&&s&&s.end(),a=!1,i(u)}}}function io(e){let t,n,o,i,l,r,s=e[2]&&to(e);return{c(){t=N("input"),n=I(),s&&s.c(),o=$(),L(t,"type","file"),L(t,"accept",".json"),P(t,"display","none")},m(c,a){x(c,t,a),e[18](t),x(c,n,a),s&&s.m(c,a),x(c,o,a),i=!0,l||(r=C(t,"change",e[8]),l=!0)},p(e,t){e[2]?s?(s.p(e,t),4&t[0]&&ue(s,1)):(s=to(e),s.c(),ue(s,1),s.m(o.parentNode,o)):s&&(ce(),de(s,1,1,(()=>{s=null})),ae())},i(e){i||(ue(s),i=!0)},o(e){de(s),i=!1},d(i){i&&E(t),e[18](null),i&&E(n),s&&s.d(i),i&&E(o),l=!1,r()}}}function lo(){try{JSBridge.chooseExportFolder()}catch(e){}}function ro(e,t,n){let o,i,l,r,s,c,u,d,p,m,h,y,w,g,v,b;async function S(){o({isAlert:!0,text:"Sorry, this is still not working."})}async function k(){return y?F():b instanceof Element?void(await o({text:"Are you sure you want to import your Data?"})&&b.click()):f(qe,s="Something went wrong...",s)}async function x(){return y?F():!g&&l?lo():void(await o("Are you sure you want to export your data?")&&(f(Xe,r=!1,r),lt.update((e=>!e))))}async function E(){return y?F():navigator.onLine?void(await o("Are you sure you want to update your list?")&&(f(Xe,r=!1,r),it.update((e=>!e)))):o({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to update."})}async function A(){await o(`Are you sure you want to ${v?"disable":"enable"} auto-update?`)&&(f(Xe,r=!1,r),f(Pe,v=!v,v))}async function N(){if(!g&&l)return lo();await o(`Are you sure you want to ${w?"disable":"enable"} auto-export?`)&&(f(Xe,r=!1,r),f(Oe,w=!w,w))}function T(e){e.target.classList.contains("button")||f(Xe,r=!r,r)}async function I(){if(y)return F();if((e=>{for(const t in e)return!1;return!0})(p))o({isAlert:!0,text:"There is currently no hidden entries."});else if(await o("Are you sure you want to show all hidden anime entries?")){d&&(d.terminate(),f(Fe,d=null,d)),f(Le,c=null,c),f(qe,s="Updating List",s),f(Xe,r=!1,r);let e=h?.filterSelection?.findIndex?.((({filterSelectionName:e})=>"Anime Filter"===e)),t=h?.filterSelection?.[e??-1]?.filters?.Checkbox?.findIndex?.((({filName:e})=>"hidden anime"===e));e>=0&&t>=0&&f($e,h.filterSelection[e??-1].filters.Checkbox[t??-1].isSelected=!1,h),m?.["Anime Filter"]&&f(Ce,m["Anime Filter"]=m["Anime Filter"].filter((({optionName:e,filterType:t})=>"hidden"!==e&&"checkbox"!==t)),m),f(Ie,p={},p),await fn(h,"filterOptions"),await fn(m,"activeTagFilters"),await fn(p,"hiddenEntries"),Bt().then((async e=>{f(Fe,d=e.animeLoaderWorker,d),f(Ke,u="",u),f(Le,c=e.finalAnimeList,c),f(qe,s=null,s)})).catch((e=>{throw e}))}}async function $(){await o("Are you sure want to sign-up an anilist account?")&&(f(Xe,r=!1,r),window.open("https://anilist.co/signup","_blank"))}function C(){if(l)try{JSBridge.switchApp()}catch(e){}}function L(){if(!navigator.onLine)return o({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to check for updates."});if(l)try{JSBridge.checkAppID(i,!0)}catch(e){}}function F(){o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}a(e,Ge,(e=>n(31,o=e))),a(e,Ee,(e=>n(32,i=e))),a(e,Ae,(e=>n(1,l=e))),a(e,Xe,(e=>n(2,r=e))),a(e,qe,(e=>n(33,s=e))),a(e,Le,(e=>n(34,c=e))),a(e,Ke,(e=>n(35,u=e))),a(e,Fe,(e=>n(36,d=e))),a(e,Ie,(e=>n(37,p=e))),a(e,Ce,(e=>n(38,m=e))),a(e,$e,(e=>n(39,h=e))),a(e,Ve,(e=>n(40,y=e))),a(e,Oe,(e=>n(3,w=e))),a(e,je,(e=>n(4,g=e))),a(e,Pe,(e=>n(5,v=e))),window.setExportPathAvailability=async(e=!0)=>{f(je,g=e,g),await fn(e,"exportPathIsAvailable")};return[b,l,r,w,g,v,S,k,async function(){if(!(b instanceof Element))return f(qe,s="Something went wrong...",s);let e=b.files?.[0];if(e){let i=e.name;await o(`File ${i?"named ["+i+"] ":""}has been detected, do you want to continue the import?`)?(await fn(!0,"shouldProcessRecommendation"),f(Xe,r=!1,r),window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),(t={importedFile:e},new Promise(((e,n)=>{en&&en.terminate(),jt("./webapi/worker/importUserData.js").then((o=>{en=new Worker(o),Zt&&clearTimeout(Zt),en.postMessage(t),en.onmessage=({data:t})=>{void 0!==t?.error?n(t?.error||"Something went wrong..."):void 0!==t?.status?(_t=!0,qe.set(t.status)):"string"==typeof t?.importedUsername?Te.set(t.importedUsername):ut(t?.importedHiddenEntries)?Ie.set(t?.importedHiddenEntries):t?.importedlastRunnedAutoUpdateDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoUpdateDate)?Me.set(t.importedlastRunnedAutoUpdateDate):t?.importedlastRunnedAutoExportDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoExportDate)?_e.set(t.importedlastRunnedAutoExportDate):void 0!==t?.updateFilters?un().then((e=>{Ce.set(e.activeTagFilters),$e.set(e.filterOptions)})):void 0!==t?.updateRecommendationList?rt.update((e=>!e)):(_t=!1,Zt=setTimeout((()=>{en.terminate()}),Ut),e(t))},en.onerror=e=>{dn(),n(e||"Something went wrong...")}})).catch((e=>{n(e)}))}))).then((()=>{b instanceof Element&&n(0,b.value=null,b)})).catch((e=>{f(qe,s=e||"Something went wrong...",s),n(0,b.value=null,b),rt.update((e=>!e))}))):b instanceof Element&&n(0,b.value=null,b)}else b instanceof Element&&n(0,b.value=null,b);var t},x,E,A,N,T,I,$,C,L,function(e){W[e?"unshift":"push"]((()=>{b=e,n(0,b)}))},e=>"Enter"===e.key&&E(),e=>"Enter"===e.key&&I(),e=>"Enter"===e.key&&k(),e=>"Enter"===e.key&&x(),e=>"Enter"===e.key&&lo(),e=>"Enter"===e.key&&S(),e=>"Enter"===e.key&&A(),e=>"Enter"===e.key&&N(),e=>"Enter"===e.key&&$(),e=>"Enter"===e.key&&C(),e=>"Enter"===e.key&&L(),e=>"Enter"===e.key&&T(e)]}function so(e,t,n){const o=e.slice();return o[80]=t[n].sortName,o[82]=n,o}function co(e,t,n){const o=e.slice();return o[83]=t[n].optionName,o[84]=t[n].optionIdx,o[85]=t[n].selected,o[86]=t[n].changeType,o[87]=t[n].filterType,o[88]=t[n].categIdx,o[89]=t[n].optionValue,o[90]=t[n].optionType,o}function ao(e,t,n){const o=e.slice();return o[107]=t[n],o}function uo(e,t,n){const o=e.slice();return o[93]=t[n],o[94]=t,o[95]=n,o}function fo(e,t,n){const o=e.slice();return o[96]=t[n],o[98]=n,o}function po(e,t,n){const o=e.slice();return o[99]=t[n],o[100]=t,o[101]=n,o}function mo(e,t,n){const o=e.slice();return o[102]=t[n],o[103]=t,o[104]=n,o}function ho(e,t,n){const o=e.slice();return o[105]=t[n],o[84]=n,o}function yo(e,t,n){const o=e.slice();return o[110]=t[n].filterSelectionName,o[111]=t[n].isSelected,o}function wo(t){let n;return{c(){n=N("div"),L(n,"class","skeleton shimmer svelte-ehqbi6")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function go(e){let t,n,o,i=(e[6]?.filterSelection?.filter?.(ni)?.[0]?.filterSelectionName||"")+"";return{c(){t=N("span"),n=N("h2"),o=T(i),L(n,"class","svelte-ehqbi6"),L(t,"class","svelte-ehqbi6")},m(e,i){x(e,t,i),b(t,n),b(n,o)},p(e,t){64&t[0]&&i!==(i=(e[6]?.filterSelection?.filter?.(ni)?.[0]?.filterSelectionName||"")+"")&&F(o,i)},d(e){e&&E(t)}}}function vo(n){let o,r,s,c;function a(e,t){return e[9]?ko:e[10]||e[7]?bo:So}let u=a(n),d=u(n);return{c(){o=N("span"),r=N("h2"),d.c(),L(r,"class","svelte-ehqbi6"),L(o,"class","data-status svelte-ehqbi6")},m(e,t){x(e,o,t),b(o,r),d.m(r,null),c=!0},p(e,t){u===(u=a(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(r,null)))},i(e){c||(s&&s.end(1),c=!0)},o(n){s=function(n,o,r){const s={direction:"out"};let c,a=o(n,r,s),u=!0;const d=se;function f(){const{delay:o=0,duration:l=300,easing:r=t,tick:s=e,css:f}=a||fe;f&&(c=U(n,1,0,l,o,r,f));const p=h()+o,m=p+l;Q((()=>le(n,!1,"start"))),v((e=>{if(u){if(e>=m)return s(0,1),le(n,!1,"end"),--d.r||i(d.c),!1;if(e>=p){const t=r((e-p)/l);s(1-t,t)}}return u}))}return d.r+=1,l(a)?ie().then((()=>{a=a(s),f()})):f(),{end(e){e&&a.tick&&a.tick(1,0),u&&(c&&_(n,c),u=!1)}}}(o,Gn,{duration:300}),c=!1},d(e){e&&E(o),d.d(),e&&s&&s.end()}}}function bo(t){let n;return{c(){n=T("")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function So(t){let n;return{c(){n=T("No Anilist Username Found")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function ko(e){let t;return{c(){t=T(e[9])},m(e,n){x(e,t,n)},p(e,n){512&n[0]&&F(t,e[9])},d(e){e&&E(t)}}}function xo(e){let t,n,o,l,r,s,c,a,u,f,p=[],m=new Map,h=e[6]?.filterSelection||[];const y=e=>e[110];for(let t=0;t<h.length;t+=1){let n=yo(e,h,t),o=y(n);m.set(o,p[t]=Eo(o,n))}return{c(){t=N("div"),n=N("div"),o=N("h2"),o.textContent="Filters",l=I(),r=N("div"),r.textContent="×",s=I(),c=N("div");for(let e=0;e<p.length;e+=1)p[e].c();L(o,"class","svelte-ehqbi6"),L(r,"class","closing-x svelte-ehqbi6"),L(n,"class","header svelte-ehqbi6"),L(c,"class","options svelte-ehqbi6"),L(t,"class",a=d("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-ehqbi6")},m(i,a){x(i,t,a),b(t,n),b(n,o),b(n,l),b(n,r),b(t,s),b(t,c);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(c,null);u||(f=[C(r,"keydown",e[33]),C(r,"click",e[14])],u=!0)},p(e,n){8256&n[0]&&(h=e[6]?.filterSelection||[],p=ye(p,n,y,1,e,h,m,c,me,Eo,null,yo)),8&n[0]&&a!==(a=d("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-ehqbi6")&&L(t,"class",a)},d(e){e&&E(t);for(let e=0;e<p.length;e+=1)p[e].d();u=!1,i(f)}}}function Eo(e,t){let n,o,r,s,c,a,u=(t[110]||"")+"";function d(...e){return t[34](t[110],...e)}return{key:e,first:null,c(){n=N("div"),o=N("h3"),r=T(u),s=I(),L(o,"class","svelte-ehqbi6"),P(o,"color",t[111]?"#3db4f2":"inherit"),L(n,"class","option svelte-ehqbi6"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,r),b(n,s),c||(a=[C(n,"click",(function(){l(t[13](t[110]))&&t[13](t[110]).apply(this,arguments)})),C(n,"keydown",d)],c=!0)},p(e,n){t=e,64&n[0]&&u!==(u=(t[110]||"")+"")&&F(r,u),64&n[0]&&P(o,"color",t[111]?"#3db4f2":"inherit")},d(e){e&&E(n),c=!1,i(a)}}}function Ao(t){let n,o=Array(10),i=[];for(let e=0;e<o.length;e+=1)i[e]=To(ao(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=$()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);x(e,n,t)},p:e,d(e){A(i,e),e&&E(n)}}}function No(e){let t,n=[],o=new Map,i=e[6]?.filterSelection||[];const l=e=>e[93].filterSelectionName;for(let t=0;t<i.length;t+=1){let r=uo(e,i,t),s=l(r);o.set(s,n[t]=Ho(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,r){135237831&r[0]&&(i=e[6]?.filterSelection||[],n=ye(n,r,l,1,e,i,o,t.parentNode,me,Ho,t,uo))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function To(t){let n;return{c(){n=N("div"),n.innerHTML='<div class="filter-name skeleton shimmer svelte-ehqbi6"></div> \n                    <div class="select skeleton shimmer svelte-ehqbi6"></div> \n                ',L(n,"class","filter-select svelte-ehqbi6")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function Io(t){let n;return{c(){n=N("i"),L(n,"class","icon fa-solid fa-angle-down svelte-ehqbi6")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function $o(e){let t,n,o;function r(...t){return e[36](e[104],...t)}return{c(){t=N("i"),L(t,"class","icon fa-solid fa-angle-up svelte-ehqbi6")},m(i,s){x(i,t,s),n||(o=[C(t,"keydown",r),C(t,"click",(function(){l(e[16](e[104]))&&e[16](e[104]).apply(this,arguments)}))],n=!0)},p(t,n){e=t},d(e){e&&E(t),n=!1,i(o)}}}function Co(t){let n;return{c(){n=N("div"),n.innerHTML='<h3 class="svelte-ehqbi6">No Results</h3>',L(n,"class","option svelte-ehqbi6")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function Lo(e){let t,n=[],o=new Map,i=e[102].options||[];const l=e=>e[93].filterSelectionName+e[102].filName+e[105].optionName;for(let t=0;t<i.length;t+=1){let r=ho(e,i,t),s=l(r);o.set(s,n[t]=Mo(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=$()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,r){131136&r[0]&&(i=e[102].options||[],n=ye(n,r,l,1,e,i,o,t.parentNode,me,Mo,t,ho))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&E(t)}}}function Fo(t){let n;return{c(){n=N("i"),L(n,"class","fa-regular fa-circle-xmark async-element svelte-ehqbi6"),P(n,"--optionColor","#e85d75")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function qo(e){let t;function n(e,t){return"Content Caution"===e[93].filterSelectionName?Do:Po}let o=n(e),i=o(e);return{c(){i.c(),t=$()},m(e,n){i.m(e,n),x(e,t,n)},p(e,l){o!==(o=n(e))&&(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&E(t)}}}function Po(e){let t;return{c(){t=N("i"),L(t,"class","fa-regular fa-circle-check async-element svelte-ehqbi6"),P(t,"--optionColor","#5f9ea0")},m(e,n){x(e,t,n)},d(e){e&&E(t)}}}function Do(e){let t;return{c(){t=N("i"),L(t,"class","fa-regular fa-circle-xmark async-element svelte-ehqbi6"),P(t,"--optionColor","#5f9ea0")},m(e,n){x(e,t,n)},d(e){e&&E(t)}}}function Mo(e,t){let n,o,r,s,c,a,u,f=(t[105].optionName||"")+"";function p(e,t){return"included"===e[105].selected?qo:"excluded"===e[105].selected&&"read"!==e[102].changeType?Fo:void 0}let m=p(t),h=m&&m(t);function y(...e){return t[41](t[105],t[102],t[84],t[104],t[93],...e)}return{key:e,first:null,c(){n=N("div"),o=N("h3"),r=T(f),s=I(),h&&h.c(),L(o,"class","svelte-ehqbi6"),L(n,"class",c=d("option "+(ei(t[105].optionName,t[102].optKeyword)?"":"disable-interaction"))+" svelte-ehqbi6"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,r),b(n,s),h&&h.m(n,null),a||(u=[C(n,"click",(function(){l(t[17](t[105].optionName,t[102].filName,t[84],t[104],t[102].changeType,t[93].filterSelectionName))&&t[17](t[105].optionName,t[102].filName,t[84],t[104],t[102].changeType,t[93].filterSelectionName).apply(this,arguments)})),C(n,"keydown",y)],a=!0)},p(e,o){t=e,64&o[0]&&f!==(f=(t[105].optionName||"")+"")&&F(r,f),m===(m=p(t))&&h?h.p(t,o):(h&&h.d(1),h=m&&m(t),h&&(h.c(),h.m(n,null))),64&o[0]&&c!==(c=d("option "+(ei(t[105].optionName,t[102].optKeyword)?"":"disable-interaction"))+" svelte-ehqbi6")&&L(n,"class",c)},d(e){e&&E(n),h&&h.d(),a=!1,i(u)}}}function jo(e,t){let n,o,r,s,c,a,u,f,p,m,h,y,w,g,v,S,k,A,$,D,M,j,O,U,_,B,R,V,H,W=(t[102].filName||"")+"",Y=t[102].filName+"",K=`${t[2]}px`;function G(...e){return t[30](t[102],...e)}function X(){t[35].call(f,t[95],t[104])}function J(e,t){return e[102].selected&&e[102].options.length&&!e[0]?$o:Io}let z=J(t),Q=z(t);function Z(...e){return t[37](t[104],...e)}function ee(...e){return t[38](t[104],...e)}function te(...e){return t[39](t[104],...e)}function ne(){t[40].call(D,t[95],t[104])}function oe(e,t){return 64&t[0]&&(U=null),null==U&&(U=!!e[102].options?.filter?.(G)?.length),U?Lo:Co}let ie=oe(t,[-1,-1,-1,-1]),le=ie(t);return{key:e,first:null,c(){n=N("div"),o=N("div"),r=N("h2"),s=T(W),c=I(),a=N("div"),u=N("div"),f=N("input"),m=I(),Q.c(),h=I(),y=N("div"),w=N("div"),g=N("div"),v=N("h2"),S=T(Y),k=I(),A=N("div"),A.textContent="×",$=I(),D=N("input"),j=I(),O=N("div"),le.c(),L(r,"class","svelte-ehqbi6"),L(o,"class","filter-name svelte-ehqbi6"),L(f,"placeholder","Any"),L(f,"type","search"),L(f,"enterkeyhint","search"),L(f,"autocomplete","off"),L(f,"class","value-input svelte-ehqbi6"),f.disabled=p=t[1]<=425||!t[93].isSelected,L(u,"class","value-wrap svelte-ehqbi6"),L(a,"class","select svelte-ehqbi6"),L(v,"class","svelte-ehqbi6"),L(A,"class","closing-x svelte-ehqbi6"),L(g,"class","header svelte-ehqbi6"),L(D,"placeholder","Any"),L(D,"type","search"),L(D,"enterkeyhint","search"),L(D,"autocomplete","off"),D.disabled=M=!t[93].isSelected,L(D,"class","svelte-ehqbi6"),L(O,"class","options svelte-ehqbi6"),L(w,"class",_=d("options-wrap-filter-info "+(t[102].options.length&&!0===t[102].selected&&!t[0]?"":"hide"))+" svelte-ehqbi6"),L(y,"class",B=d("options-wrap "+(t[102].options.length&&!0===t[102].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-ehqbi6"),P(y,"--maxFilterSelectionHeight",K),L(n,"class",R=d("filter-select "+(t[93].isSelected?"":"disable-interaction"))+" svelte-ehqbi6"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,r),b(r,s),b(n,c),b(n,a),b(a,u),b(u,f),q(f,t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword),b(a,m),Q.m(a,null),b(n,h),b(n,y),b(y,w),b(w,g),b(g,v),b(v,S),b(g,k),b(g,A),b(w,$),b(w,D),q(D,t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword),b(w,j),b(w,O),le.m(O,null),V||(H=[C(f,"input",X),C(a,"keydown",Z),C(a,"click",ee),C(A,"keydown",te),C(A,"click",(function(){l(t[16](t[104]))&&t[16](t[104]).apply(this,arguments)})),C(D,"input",ne)],V=!0)},p(e,o){t=e,64&o[0]&&W!==(W=(t[102].filName||"")+"")&&F(s,W),66&o[0]&&p!==(p=t[1]<=425||!t[93].isSelected)&&(f.disabled=p),64&o[0]&&f.value!==t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword&&q(f,t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword),z===(z=J(t))&&Q?Q.p(t,o):(Q.d(1),Q=z(t),Q&&(Q.c(),Q.m(a,null))),64&o[0]&&Y!==(Y=t[102].filName+"")&&F(S,Y),64&o[0]&&M!==(M=!t[93].isSelected)&&(D.disabled=M),64&o[0]&&D.value!==t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword&&q(D,t[6].filterSelection[t[95]].filters.Dropdown[t[104]].optKeyword),ie===(ie=oe(t,o))&&le?le.p(t,o):(le.d(1),le=ie(t),le&&(le.c(),le.m(O,null))),65&o[0]&&_!==(_=d("options-wrap-filter-info "+(t[102].options.length&&!0===t[102].selected&&!t[0]?"":"hide"))+" svelte-ehqbi6")&&L(w,"class",_),65&o[0]&&B!==(B=d("options-wrap "+(t[102].options.length&&!0===t[102].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-ehqbi6")&&L(y,"class",B),4&o[0]&&K!==(K=`${t[2]}px`)&&P(y,"--maxFilterSelectionHeight",K),64&o[0]&&R!==(R=d("filter-select "+(t[93].isSelected?"":"disable-interaction"))+" svelte-ehqbi6")&&L(n,"class",R)},d(e){e&&E(n),Q.d(),le.d(),V=!1,i(H)}}}function Oo(e){let t,n,o,l,r,s,c,a,u,d=(e[99].filName||"")+"";function f(e,t){return e[7]?_o:Uo}let p=f(e),m=p(e);function h(...t){return e[45](e[99],e[101],e[93],...t)}function y(...t){return e[46](e[99],e[101],e[93],...t)}return{c(){t=N("div"),n=N("div"),o=I(),l=N("div"),m.c(),r=I(),s=N("div"),c=T(d),L(n,"class","svelte-ehqbi6"),P(n,"visibility","none"),L(s,"class","checkbox-label svelte-ehqbi6"),L(l,"class","checkbox-wrap svelte-ehqbi6"),L(t,"class","filter-checkbox svelte-ehqbi6")},m(e,i){x(e,t,i),b(t,n),b(t,o),b(t,l),m.m(l,null),b(l,r),b(l,s),b(s,c),a||(u=[C(l,"click",h),C(l,"keydown",y)],a=!0)},p(t,n){p===(p=f(e=t))&&m?m.p(e,n):(m.d(1),m=p(e),m&&(m.c(),m.m(l,r))),64&n[0]&&d!==(d=(e[99].filName||"")+"")&&F(c,d)},d(e){e&&E(t),m.d(),a=!1,i(u)}}}function Uo(e){let t,n,o;function l(...t){return e[43](e[99],e[101],e[93],...t)}function r(){e[44].call(t,e[100],e[101])}return{c(){t=N("input"),L(t,"type","checkbox"),L(t,"class","checkbox svelte-ehqbi6")},m(i,s){x(i,t,s),t.checked=e[99].isSelected,n||(o=[C(t,"change",l),C(t,"change",r)],n=!0)},p(n,o){e=n,64&o[0]&&(t.checked=e[99].isSelected)},d(e){e&&E(t),n=!1,i(o)}}}function _o(e){let t,n,o,i;return{c(){t=N("input"),L(t,"type","checkbox"),L(t,"class","checkbox svelte-ehqbi6"),t.checked=n=e[99].isSelected},m(n,l){x(n,t,l),o||(i=C(t,"change",e[42]),o=!0)},p(e,o){64&o[0]&&n!==(n=e[99].isSelected)&&(t.checked=n)},d(e){e&&E(t),o=!1,i()}}}function Bo(e,t){let n,o,i=t[93].isSelected&&Oo(t);return{key:e,first:null,c(){n=$(),i&&i.c(),o=$(),this.first=n},m(e,t){x(e,n,t),i&&i.m(e,t),x(e,o,t)},p(e,n){(t=e)[93].isSelected?i?i.p(t,n):(i=Oo(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&E(n),i&&i.d(e),e&&E(o)}}}function Ro(e){let t,n,o,i,l,r,s,c,a,u,d,f,p=(e[96].filName||"")+"";function m(...t){return e[47](e[98],e[96],e[93],...t)}return{c(){t=N("div"),n=N("div"),o=N("h2"),i=T(p),l=I(),r=N("div"),s=N("input"),u=I(),L(o,"class","svelte-ehqbi6"),L(n,"class","filter-input-number-name svelte-ehqbi6"),L(s,"class","value-input-number svelte-ehqbi6"),L(s,"type","text"),L(s,"placeholder",c="scoring system"===e[96].filName?"Default: User Scoring":e[12].includes(e[96].filName)?">123 or 123":null!==e[96].defaultValue?"Default: "+e[96].defaultValue:"123"),s.value=a=e[96].numberValue||"",L(r,"class","value-input-number-wrap svelte-ehqbi6"),L(t,"class","filter-input-number svelte-ehqbi6"),P(t,"display",e[93].isSelected?"":"none")},m(e,c){x(e,t,c),b(t,n),b(n,o),b(o,i),b(t,l),b(t,r),b(r,s),b(t,u),d||(f=C(s,"input",m),d=!0)},p(n,o){e=n,64&o[0]&&p!==(p=(e[96].filName||"")+"")&&F(i,p),64&o[0]&&c!==(c="scoring system"===e[96].filName?"Default: User Scoring":e[12].includes(e[96].filName)?">123 or 123":null!==e[96].defaultValue?"Default: "+e[96].defaultValue:"123")&&L(s,"placeholder",c),64&o[0]&&a!==(a=e[96].numberValue||"")&&s.value!==a&&(s.value=a),64&o[0]&&P(t,"display",e[93].isSelected?"":"none")},d(e){e&&E(t),d=!1,f()}}}function Vo(e,t){let n,o,i=t[93].isSelected&&Ro(t);return{key:e,first:null,c(){n=$(),i&&i.c(),o=$(),this.first=n},m(e,t){x(e,n,t),i&&i.m(e,t),x(e,o,t)},p(e,n){(t=e)[93].isSelected?i?i.p(t,n):(i=Ro(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&E(n),i&&i.d(e),e&&E(o)}}}function Ho(e,t){let n,o,i,l,r=[],s=new Map,c=[],a=new Map,u=[],d=new Map,f=t[93].filters.Dropdown||[];const p=e=>e[93].filterSelectionName+e[102].filName;for(let e=0;e<f.length;e+=1){let n=mo(t,f,e),o=p(n);s.set(o,r[e]=jo(o,n))}let m=t[93].filters.Checkbox||[];const h=e=>e[93].filterSelectionName+e[99].filName;for(let e=0;e<m.length;e+=1){let n=po(t,m,e),o=h(n);a.set(o,c[e]=Bo(o,n))}let y=t[93].filters["Input Number"]||[];const w=e=>e[93].filterSelectionName+e[96].filName;for(let e=0;e<y.length;e+=1){let n=fo(t,y,e),o=w(n);d.set(o,u[e]=Vo(o,n))}return{key:e,first:null,c(){n=$();for(let e=0;e<r.length;e+=1)r[e].c();o=I();for(let e=0;e<c.length;e+=1)c[e].c();i=I();for(let e=0;e<u.length;e+=1)u[e].c();l=$(),this.first=n},m(e,t){x(e,n,t);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,t);x(e,o,t);for(let n=0;n<c.length;n+=1)c[n]&&c[n].m(e,t);x(e,i,t);for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(e,t);x(e,l,t)},p(e,n){t=e,229447&n[0]&&(f=t[93].filters.Dropdown||[],r=ye(r,n,p,1,t,f,s,o.parentNode,me,jo,o,mo)),134480064&n[0]&&(m=t[93].filters.Checkbox||[],c=ye(c,n,h,1,t,m,a,i.parentNode,me,Bo,i,po)),528448&n[0]&&(y=t[93].filters["Input Number"]||[],u=ye(u,n,w,1,t,y,d,l.parentNode,me,Vo,l,fo))},d(e){e&&E(n);for(let t=0;t<r.length;t+=1)r[t].d(e);e&&E(o);for(let t=0;t<c.length;t+=1)c[t].d(e);e&&E(i);for(let t=0;t<u.length;t+=1)u[t].d(e);e&&E(l)}}}function Wo(e){let t,n,o=(e[83]||"")+"";return{c(){t=N("h3"),n=T(o),L(t,"class","svelte-ehqbi6")},m(e,o){x(e,t,o),b(t,n)},p(e,t){320&t[0]&&o!==(o=(e[83]||"")+"")&&F(n,o)},d(e){e&&E(t)}}}function Yo(e){let t,n,o=(e[90]+": "+e[83]||"")+"";return{c(){t=N("h3"),n=T(o),L(t,"class","svelte-ehqbi6")},m(e,o){x(e,t,o),b(t,n)},p(e,t){320&t[0]&&o!==(o=(e[90]+": "+e[83]||"")+"")&&F(n,o)},d(e){e&&E(t)}}}function Ko(e){let t,n,o=(e[83]+": "+e[89]||"")+"";return{c(){t=N("h3"),n=T(o),L(t,"class","svelte-ehqbi6")},m(e,o){x(e,t,o),b(t,n)},p(e,t){320&t[0]&&o!==(o=(e[83]+": "+e[89]||"")+"")&&F(n,o)},d(e){e&&E(t)}}}function Go(e,t){let n,o,l,r,s,c,a,u;function d(e,t){return"input number"===e[87]?Ko:e[90]?Yo:Wo}let f=d(t),p=f(t);function m(...e){return t[49](t[84],t[83],t[87],t[88],t[90],...e)}function h(...e){return t[50](t[84],t[83],t[87],t[88],t[90],...e)}function y(...e){return t[51](t[84],t[83],t[87],t[88],t[86],t[90],t[89],...e)}function w(...e){return t[52](t[84],t[83],t[87],t[88],t[86],t[90],t[89],...e)}return{key:e,first:null,c(){n=N("div"),p.c(),o=I(),l=N("i"),r=I(),L(l,"class","fa-solid fa-xmark svelte-ehqbi6"),L(n,"class","activeTagFilter svelte-ehqbi6"),P(n,"--activeTagFilterColor","included"===t[85]?"#5f9ea0":"#e85d75"),this.first=n},m(e,t){var i;x(e,n,t),p.m(n,null),b(n,o),b(n,l),b(n,r),c=!0,a||(u=[C(l,"click",(i=m,function(e){return e.preventDefault(),i.call(this,e)})),C(l,"keydown",h),C(n,"click",y),C(n,"keydown",w)],a=!0)},p(e,i){f===(f=d(t=e))&&p?p.p(t,i):(p.d(1),p=f(t),p&&(p.c(),p.m(n,o))),320&i[0]&&P(n,"--activeTagFilterColor","included"===t[85]?"#5f9ea0":"#e85d75")},i(e){c||(Q((()=>{c&&(s||(s=pe(n,Xn,{x:-10,duration:300},!0)),s.run(1))})),c=!0)},o(e){s||(s=pe(n,Xn,{x:-10,duration:300},!1)),s.run(0),c=!1},d(e){e&&E(n),p.d(),e&&s&&s.end(),a=!1,i(u)}}}function Xo(t){let n;return{c(){n=N("div"),L(n,"class","sortFilter skeleton shimmer svelte-ehqbi6")},m(e,t){x(e,n,t)},p:e,d(e){e&&E(n)}}}function Jo(e){let t,n,o,l,r,s,c,a,u,f,p,m,h,y,w,g,v,S,k,A=(e[6]?.sortFilter?.[e[6]?.sortFilter.findIndex(si)]?.sortName||"")+"",$=[],q=new Map,D=`${e[2]}px`,M=e[6]?.sortFilter||[];const j=e=>e[80]+e[82];for(let t=0;t<M.length;t+=1){let n=so(e,M,t),o=j(n);q.set(o,$[t]=Qo(o,n))}return{c(){t=N("div"),n=N("i"),l=I(),r=N("h2"),s=T(A),c=I(),a=N("div"),u=N("div"),f=N("div"),p=N("h2"),p.textContent="Sort By",m=I(),h=N("div"),h.textContent="×",y=I(),w=N("div");for(let e=0;e<$.length;e+=1)$[e].c();L(n,"class",o=d("fa-duotone fa-sort-"+("asc"===e[6]?.sortFilter?.[e[6]?.sortFilter?.findIndex(ri)]?.sortType?"up":"down"))+" svelte-ehqbi6"),L(r,"class","svelte-ehqbi6"),L(p,"class","svelte-ehqbi6"),L(h,"class","closing-x svelte-ehqbi6"),L(f,"class","header svelte-ehqbi6"),L(w,"class","options svelte-ehqbi6"),L(u,"class",g=d("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-ehqbi6"),L(a,"class",v=d("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-ehqbi6"),P(a,"--maxFilterSelectionHeight",D),L(t,"class","sortFilter svelte-ehqbi6")},m(o,i){x(o,t,i),b(t,n),b(t,l),b(t,r),b(r,s),b(t,c),b(t,a),b(a,u),b(u,f),b(f,p),b(f,m),b(f,h),b(u,y),b(u,w);for(let e=0;e<$.length;e+=1)$[e]&&$[e].m(w,null);S||(k=[C(n,"click",e[25]),C(n,"keydown",e[54]),C(r,"click",e[23]),C(r,"keydown",e[55]),C(h,"keydown",e[56]),C(h,"click",e[23])],S=!0)},p(e,t){64&t[0]&&o!==(o=d("fa-duotone fa-sort-"+("asc"===e[6]?.sortFilter?.[e[6]?.sortFilter?.findIndex(ri)]?.sortType?"up":"down"))+" svelte-ehqbi6")&&L(n,"class",o),64&t[0]&&A!==(A=(e[6]?.sortFilter?.[e[6]?.sortFilter.findIndex(si)]?.sortName||"")+"")&&F(s,A),16777280&t[0]&&(M=e[6]?.sortFilter||[],$=ye($,t,j,1,e,M,q,w,me,Qo,null,so)),16&t[0]&&g!==(g=d("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-ehqbi6")&&L(u,"class",g),16&t[0]&&v!==(v=d("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-ehqbi6")&&L(a,"class",v),4&t[0]&&D!==(D=`${e[2]}px`)&&P(a,"--maxFilterSelectionHeight",D)},d(e){e&&E(t);for(let e=0;e<$.length;e+=1)$[e].d();S=!1,i(k)}}}function zo(e){let t,n;return{c(){t=N("i"),L(t,"class",n=d("fa-duotone fa-sort-"+("asc"===e[6]?.sortFilter?.[e[6]?.sortFilter?.findIndex(ci)].sortType?"up":"down"))+" svelte-ehqbi6")},m(e,n){x(e,t,n)},p(e,o){64&o[0]&&n!==(n=d("fa-duotone fa-sort-"+("asc"===e[6]?.sortFilter?.[e[6]?.sortFilter?.findIndex(ci)].sortType?"up":"down"))+" svelte-ehqbi6")&&L(t,"class",n)},d(e){e&&E(t)}}}function Qo(e,t){let n,o,r,s,c,a,u,d=(t[80]||"")+"",f=t[6]?.sortFilter?.[t[6]?.sortFilter?.findIndex(ti)].sortName===t[80]&&t[80],p=f&&zo(t);function m(...e){return t[57](t[80],...e)}return{key:e,first:null,c(){n=N("div"),o=N("h3"),r=T(d),s=I(),p&&p.c(),c=I(),L(o,"class","svelte-ehqbi6"),L(n,"class","option svelte-ehqbi6"),this.first=n},m(e,i){x(e,n,i),b(n,o),b(o,r),b(n,s),p&&p.m(n,null),b(n,c),a||(u=[C(n,"click",(function(){l(t[24](t[80]))&&t[24](t[80]).apply(this,arguments)})),C(n,"keydown",m)],a=!0)},p(e,o){t=e,64&o[0]&&d!==(d=(t[80]||"")+"")&&F(r,d),64&o[0]&&(f=t[6]?.sortFilter?.[t[6]?.sortFilter?.findIndex(ti)].sortName===t[80]&&t[80]),f?p?p.p(t,o):(p=zo(t),p.c(),p.m(n,c)):p&&(p.d(1),p=null)},d(e){e&&E(n),p&&p.d(),a=!1,i(u)}}}function Zo(e){let t,n,o,l,r,s,c,a,f,p,m,h,y,w,g,v,S,k,A,T,$,F,D,M,j,O,U,_,B=`${e[2]}px`,R=`${window.innerHeight}px`,V=[],H=new Map;function W(e,t){return e[6]?go:wo}let Y=W(e),K=Y(e),G=(e[9]||!e[10])&&vo(e),X=e[6]&&xo(e);function J(e,t){return e[6]?No:Ao}let z=J(e),Q=z(e),Z=e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(ii)]?.filterSelectionName]||[];const ee=e=>e[83]+e[84]+(e[90]??"");for(let t=0;t<Z.length;t+=1){let n=co(e,Z,t),o=ee(n);H.set(o,V[t]=Go(o,n))}function te(e,t){return e[6]?Jo:Xo}let ne=te(e),oe=ne(e);const ie=e[29].default,le=function(e,t,n,o){if(e){const i=u(e,t,n,o);return e[0](i)}}(ie,e,e[28],null);return{c(){t=N("main"),n=N("div"),K.c(),o=I(),G&&G.c(),l=I(),r=N("div"),s=N("input"),c=I(),a=N("div"),f=N("i"),p=I(),m=N("div"),X&&X.c(),y=I(),w=N("div"),Q.c(),g=I(),v=N("div"),S=N("div"),k=N("i"),A=I();for(let e=0;e<V.length;e+=1)V[e].c();T=I(),$=N("div"),F=N("i"),M=I(),oe.c(),j=I(),le&&le.c(),L(n,"class","home-status svelte-ehqbi6"),L(s,"id","input-search"),L(s,"class","input-search svelte-ehqbi6"),L(s,"type","search"),L(s,"enterkeyhint","search"),L(s,"autocomplete","off"),L(s,"placeholder","Search"),L(f,"class","input-search-wrap-icon fa-solid fa-sliders svelte-ehqbi6"),L(m,"class",h=d("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-ehqbi6"),P(m,"--maxFilterSelectionHeight",B),L(a,"class","filterType svelte-ehqbi6"),L(r,"class","input-search-wrap svelte-ehqbi6"),L(w,"class","filters svelte-ehqbi6"),L(w,"id","filters"),P(w,"--maxPaddingHeight",R),L(k,"class","fa-solid fa-ban svelte-ehqbi6"),L(k,"title","Remove Filters"),P(k,"display",e[8]?"":"none"),P(k,"visibility",e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(oi)]?.filterSelectionName]?.length?"visible":"hidden"),L(S,"id","tagFilters"),L(S,"class","tagFilters svelte-ehqbi6"),P(S,"max-height",e[5]?"200px":"28px"),L(F,"class",D=d("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-ehqbi6"),L($,"class","showHideActiveFilters svelte-ehqbi6"),L(v,"class","activeFilters svelte-ehqbi6"),P(v,"display",(e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(li)]?.filterSelectionName]||[]).length?"":"none"),L(t,"class","svelte-ehqbi6")},m(i,u){x(i,t,u),b(t,n),K.m(n,null),b(n,o),G&&G.m(n,null),b(t,l),b(t,r),b(r,s),q(s,e[11]),b(r,c),b(r,a),b(a,f),b(a,p),b(a,m),X&&X.m(m,null),b(t,y),b(t,w),Q.m(w,null),b(t,g),b(t,v),b(v,S),b(S,k),b(S,A);for(let e=0;e<V.length;e+=1)V[e]&&V[e].m(S,null);b(v,T),b(v,$),b($,F),b(t,M),oe.m(t,null),b(t,j),le&&le.m(t,null),O=!0,U||(_=[C(s,"input",e[31]),C(f,"click",e[14]),C(f,"keydown",e[32]),C(k,"click",e[22]),C(k,"keydown",e[48]),C($,"click",e[26]),C($,"keydown",e[53])],U=!0)},p(e,i){Y===(Y=W(e))&&K?K.p(e,i):(K.d(1),K=Y(e),K&&(K.c(),K.m(n,o))),e[9]||!e[10]?G?(G.p(e,i),1536&i[0]&&ue(G,1)):(G=vo(e),G.c(),ue(G,1),G.m(n,null)):G&&(ce(),de(G,1,1,(()=>{G=null})),ae()),2048&i[0]&&s.value!==e[11]&&q(s,e[11]),e[6]?X?X.p(e,i):(X=xo(e),X.c(),X.m(m,null)):X&&(X.d(1),X=null),(!O||8&i[0]&&h!==(h=d("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-ehqbi6"))&&L(m,"class",h),4&i[0]&&B!==(B=`${e[2]}px`)&&P(m,"--maxFilterSelectionHeight",B),z===(z=J(e))&&Q?Q.p(e,i):(Q.d(1),Q=z(e),Q&&(Q.c(),Q.m(w,null))),256&i[0]&&P(k,"display",e[8]?"":"none"),320&i[0]&&P(k,"visibility",e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(oi)]?.filterSelectionName]?.length?"visible":"hidden"),3146048&i[0]&&(Z=e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(ii)]?.filterSelectionName]||[],ce(),V=ye(V,i,ee,1,e,Z,H,S,he,Go,null,co),ae()),32&i[0]&&P(S,"max-height",e[5]?"200px":"28px"),(!O||32&i[0]&&D!==(D=d("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-ehqbi6"))&&L(F,"class",D),320&i[0]&&P(v,"display",(e[8]?.[e[6]?.filterSelection?.[e[6]?.filterSelection?.findIndex(li)]?.filterSelectionName]||[]).length?"":"none"),ne===(ne=te(e))&&oe?oe.p(e,i):(oe.d(1),oe=ne(e),oe&&(oe.c(),oe.m(t,j))),le&&le.p&&(!O||268435456&i[0])&&function(e,t,n,o,i,l){if(i){const r=u(t,n,o,l);e.p(r,i)}}(le,ie,e,e[28],O?function(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}(ie,e[28],i,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[28]),null)},i(e){if(!O){ue(G);for(let e=0;e<Z.length;e+=1)ue(V[e]);ue(le,e),O=!0}},o(e){de(G);for(let e=0;e<V.length;e+=1)de(V[e]);de(le,e),O=!1},d(e){e&&E(t),K.d(),G&&G.d(),X&&X.d(),Q.d();for(let e=0;e<V.length;e+=1)V[e].d();oe.d(),le&&le.d(e),U=!1,i(_)}}}function ei(e,t){if("string"==typeof e&&"string"==typeof t)return e.toLowerCase().includes(t.trim().toLowerCase())}const ti=({sortType:e})=>"none"!==e,ni=({isSelected:e})=>e,oi=({isSelected:e})=>e,ii=({isSelected:e})=>e,li=({isSelected:e})=>e,ri=({sortType:e})=>"none"!==e,si=({sortType:e})=>"none"!==e,ci=({sortType:e})=>"none"!==e;function ai(e,t,n){let o,i,l,r,s,c,u,d,p,m,h;a(e,Ge,(e=>n(66,o=e))),a(e,$e,(e=>n(6,i=e))),a(e,Fe,(e=>n(67,l=e))),a(e,Le,(e=>n(68,r=e))),a(e,Ve,(e=>n(7,s=e))),a(e,Ce,(e=>n(8,c=e))),a(e,ct,(e=>n(69,u=e))),a(e,qe,(e=>n(9,d=e))),a(e,rt,(e=>n(70,p=e))),a(e,Te,(e=>n(10,m=e))),a(e,Ke,(e=>n(11,h=e)));let y,w,g,v,b,S,k,x,E,A,{$$slots:N={},$$scope:T}=t,I=!0,$=window.innerWidth,C=!1,L=["Algorithm Filter"],F=["sort","Anime Filter","Content Caution"],q=["weighted score","score","average score","user score","popularity"];function P(e){x&&E===e&&clearTimeout(x),E=e,x=setTimeout((async()=>{L.includes(e)?(l&&(l.terminate(),f(Fe,l=null,l)),f(Le,r=null,r),f(qe,d="Updating List",d),await fn(!0,"shouldProcessRecommendation"),await fn(i,"filterOptions"),await fn(c,"activeTagFilters"),f(rt,p=!p,p)):F.includes(e)?(l&&(l.terminate(),f(Fe,l=null,l)),f(Le,r=null,r),f(qe,d="Updating List",d),await fn(i,"filterOptions"),await fn(c,"activeTagFilters"),f(ct,u=!u,u)):(await fn(i,"filterOptions"),await fn(c,"activeTagFilters"))}),300)}async function D(){let e=document.getElementById("tagFilters");await z(),e instanceof Element&&(e.scrollTop=0)}function M(){n(2,y=.3*window.innerHeight),n(1,$=window.innerWidth)}async function j(e){if(s)return oe();let t=i?.filterSelection.findIndex((({isSelected:e})=>e)),o=i?.filterSelection?.[t].filterSelectionName;if(o!==e){n(4,v=!1),r?.length>18&&await ne(),i?.filterSelection?.[t].filters.Dropdown.forEach((e=>{e.selected=!1})),f($e,i.filterSelection[t]=i?.filterSelection?.[t],i),g=null,f($e,i.filterSelection[t].isSelected=!1,i);let o=i?.filterSelection?.findIndex((({filterSelectionName:t})=>t===e));f($e,i.filterSelection[o].isSelected=!0,i),D(),P()}b instanceof Element&&b.closest(".filterType")&&(bt(b,"highlight"),b=null),n(3,w=!1)}function O(e){if(s&&(i?.filterSelection?.length??0)<1)return oe();let t=e.target,o=t.classList,l=t.closest(".filterType"),r=t.closest(".options-wrap");!o.contains("filterType")&&!l||w?r&&!o.contains("closing-x")||o.contains("options-wrap")||(b instanceof Element&&b.closest(".filterType")&&(bt(b,"highlight"),b=null),n(3,w=!1)):n(3,w=!0)}function U(){S&&clearTimeout(S),k=!0,S=setTimeout((()=>{k=!1}),300)}function _(e,t){if(k&&"mouse"===e.pointerType)return;let o=e.target,l=o.closest(".filter-select");if(l===g)return;let r=i?.filterSelection?.findIndex((({isSelected:e})=>e));if(g instanceof Element){let e=Array.from(g.parentElement.children).filter((e=>!e.classList.contains("disable-interaction"))).indexOf(g);if(o.classList.contains("icon")&&!o.classList.contains("fa-angle-down")&&i?.filterSelection?.[r].filters.Dropdown[e].selected)return;f($e,i.filterSelection[r].filters.Dropdown[e].selected=!1,i)}I&&n(0,I=!1),b instanceof Element&&b.closest(".filter-select")&&(bt(b,"highlight"),b=null),f($e,i.filterSelection[r].filters.Dropdown[t].selected=!0,i),g=l}function B(e){let t=i?.filterSelection?.findIndex((({isSelected:e})=>e));f($e,i.filterSelection[t].filters.Dropdown[e].selected=!1,i),b instanceof Element&&b.closest(".filter-select")&&(bt(b,"highlight"),b=null),g=null}async function R(e){if(i?.filterSelection?.length<1||!i)return;let t=e.target,o=t.classList;if(o.contains("options-wrap")&&"fixed"===getComputedStyle(t).position){b instanceof Element&&(bt(b,"highlight"),b=null),n(3,w=!1),n(4,v=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),f($e,i.filterSelection[e]=i?.filterSelection?.[e],i),g=null}else if(!o.contains("options-wrap")&&!t.closest(".options-wrap")&&!o.contains("async-element")){let e=t.closest(".filterType");o.contains("filterType")||e||(b instanceof Element&&b.closest(".filterType")&&(bt(b,"highlight"),b=null),n(3,w=!1));let l=t.closest(".sortFilter");o.contains("sortFilter")||l||(b instanceof Element&&b.closest(".sortFilter")&&(bt(b,"highlight"),b=null),n(4,v=!1));let r=t.closest(".select");if(!o.contains("select")&&!o.contains("fa-angle-down")&&!r){b instanceof Element&&b.closest(".filter-select")&&(bt(b,"highlight"),b=null);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),f($e,i.filterSelection[e]=i?.filterSelection?.[e],i),g=null}}}function H(e,t,n,o,l,r){if(s)return oe();let a=i?.filterSelection?.findIndex((({isSelected:e})=>e)),u=i?.filterSelection?.[a].filterSelectionName,d=i?.filterSelection?.[a].filters.Dropdown[o].options[n].selected;"none"===d||!0===d||"read"===l&&"included"!==d?(f($e,i.filterSelection[a].filters.Dropdown[o].options[n].selected="included",i),f(Ce,c[u]=c[u].filter((o=>o.optionName+o.optionIdx+o.optionType!==e+n+t)),c),c[u].unshift({optionName:e,optionType:t,optionIdx:n,categIdx:o,selected:"included",changeType:l,filterType:"dropdown"}),Ce.set(c)):"included"===d?"read"===l?(f($e,i.filterSelection[a].filters.Dropdown[o].options[n].selected="none",i),f(Ce,c[u]=c[u].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&(!i.optionType||i.optionType===t)))),c)):(f($e,i.filterSelection[a].filters.Dropdown[o].options[n].selected="excluded",i),f(Ce,c[u]=c[u].map((i=>(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&"included"===i.selected&&i.optionType===t&&(i.selected="excluded"),i))),c)):(f($e,i.filterSelection[a].filters.Dropdown[o].options[n].selected="none",i),f(Ce,c[u]=c[u].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&i.optionType===t))),c)),P(r)}function W(e,t,n,o){let l=e.target.classList,r=e.which||e.keyCode||0;if(l.contains("checkbox")&&"click"===e.type||l.contains("checkbox")&&13!==r&&"keydown"===e.type||k&&"mouse"===e.pointerType)return;if(s)return void(l.contains("checkbox")||oe());let a=i?.filterSelection?.findIndex((({isSelected:e})=>e)),u=i?.filterSelection?.[a].filterSelectionName,d=i?.filterSelection?.[a].filters.Checkbox[n].isSelected;d?f(Ce,c[u]=c[u].filter((e=>!(e.optionIdx===n&&e.optionName===t&&"checkbox"===e.filterType&&"included"===e.selected))),c):(f(Ce,c[u]=c[u].filter((e=>e.optionName+e.optionIdx!==t+n)),c),c[u].unshift({optionName:t,optionIdx:n,filterType:"checkbox",selected:"included",changeType:"read"}),Ce.set(c)),f($e,i.filterSelection[a].filters.Checkbox[n].isSelected=!i?.filterSelection?.[a].filters.Checkbox[n].isSelected,i),P(o)}function Y(e,t,n,o,l,r,a){if(s)return oe();let u=i?.filterSelection?.findIndex((({isSelected:e})=>e)),d=i?.filterSelection?.[u].filterSelectionName,p=i?.filterSelection?.[u].filters["Input Number"][n].numberValue;if(q.includes(o)&&/^(>=|<=|<|>).*($)/.test(t)){let s=t.split(/(<=|>=|<|>)/).filter((e=>e));if(t!==p&&s.length<=2){let m,h,y=t.split(/(<=|>=|<|>)/).filter((e=>e));if(s[0].includes(">")||s[0].includes("<")?(m=s[0],h=s[1]):(m=s[1],h=s[0]),y[0].includes(">")||y[0].includes("<")?(y[0],y[1]):(y[1],y[0]),t!==p&&(!isNaN(h)&&(parseFloat(h)>=r||"number"!=typeof r)&&(parseFloat(h)<=l||"number"!=typeof l)||!h)){if(h){let e=c[d].findIndex((e=>e.optionName===o&&e.optionValue===p&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(f(Ce,c[d]=c[d].filter((e=>e.optionName+e.optionIdx!==o+n)),c),c[d].unshift({optionName:o,optionValue:t,CMPoperator:m,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(c[d].splice(e,1),f(Ce,c[d]=c[d].filter((e=>e.optionName+e.optionIdx!==o+n)),c),c[d].unshift({optionName:o,optionValue:t,CMPoperator:m,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),Ce.set(c)}else f(Ce,c[d]=c[d].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===p&&"input number"===e.filterType))),c);f($e,i.filterSelection[u].filters["Input Number"][n].numberValue=t,i),P(a)}else yt(e.target,p)}else{let t=c[d].findIndex((e=>e.optionName===o&&e.optionValue===p&&e.optionIdx===n&&"input number"===e.filterType));t>=0&&f(Ce,c[d][t].selected="included",c),yt(e.target,p)}}else if(t!==p&&(!isNaN(t)&&(parseFloat(t)>=r||"number"!=typeof r)&&(parseFloat(t)<=l||"number"!=typeof l)||""===t)){if(""===t)f(Ce,c[d]=c[d].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===p&&"input number"===e.filterType))),c);else{let e=c[d].findIndex((e=>e.optionName===o&&e.optionValue===p&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(f(Ce,c[d]=c[d].filter((e=>e.optionName+e.optionIdx!==o+n)),c),c[d].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(c[d].splice(e,1),f(Ce,c[d]=c[d].filter((e=>e.optionName+e.optionIdx!==o+n)),c),c[d].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),Ce.set(c)}f($e,i.filterSelection[u].filters["Input Number"][n].numberValue=t,i),P(a)}else elementIdx>=0&&f(Ce,c[d][elementIdx].selected="included",c),yt(e.target,p)}function K(e,t,n,o,l,r,a,u){if(s)return oe();let d=i?.filterSelection?.findIndex((({isSelected:e})=>e)),p=i?.filterSelection?.[d].filterSelectionName;if("input number"===o){let e=c[p].findIndex((e=>e.optionName===n&&e.optionValue===u&&e.optionIdx===t&&"input number"===e.filterType));if(e>=0){let t=c[p][e].selected;f(Ce,c[p][e].selected="included"===t?"excluded":"included",c)}}else if("checkbox"===o){let e=c[p].findIndex((e=>e.optionIdx===t&&e.optionName===n&&e.filterType===o)),l=c?.[p]?.[e]?.selected;"included"===l?(f(Ce,c[p][e].selected="excluded",c),f($e,i.filterSelection[d].filters.Checkbox[t].isSelected=!1,i)):"excluded"===l&&(f(Ce,c[p][e].selected="included",c),f($e,i.filterSelection[d].filters.Checkbox[t].isSelected=!0,i))}else if("dropdown"===o){let e=i?.filterSelection?.[d].filters.Dropdown[l].options[t].selected;"included"===e?(f($e,i.filterSelection[d].filters.Dropdown[l].options[t].selected="excluded",i),f(Ce,c[p]=c[p].map((e=>(e.optionIdx!==t||e.optionName!==n||"included"!==e.selected||e.optionType&&e.optionType!==a||(e.selected="excluded"),e))),c)):"excluded"===e&&(f($e,i.filterSelection[d].filters.Dropdown[l].options[t].selected="included",i),f(Ce,c[p]=c[p].map((e=>(e.optionIdx!==t||e.optionName!==n||"excluded"!==e.selected||e.optionType&&e.optionType!==a||(e.selected="included"),e))),c))}P(p)}function G(e,t,n,o,l,r){if(s)return oe();let a=i?.filterSelection?.findIndex((({isSelected:e})=>e)),u=i?.filterSelection?.[a].filterSelectionName;f($e,"checkbox"===o?i.filterSelection[a].filters.Checkbox[t].isSelected=!1:"input number"===o?i.filterSelection[a].filters["Input Number"][t].numberValue="":i.filterSelection[a].filters.Dropdown[l].options[t].selected="none",i),f(Ce,c[u]=c[u].filter((e=>!(e.optionName===n&&e.optionIdx===t&&e.filterType===o&&(!e.optionType||e.optionType===r)))),c),P(u)}async function X(e){if(s)return oe();if(await o("Do you want to remove all filters?")){let e=i?.filterSelection?.findIndex((({isSelected:e})=>e)),t=i?.filterSelection?.[e].filterSelectionName;i?.filterSelection?.[e].filters["Input Number"].forEach((e=>{e.numberValue=""})),i?.filterSelection?.[e].filters.Checkbox.forEach((e=>{e.isSelected=!1})),i?.filterSelection?.[e].filters.Dropdown.forEach((({options:t},n)=>{t.forEach((({selected:t},o)=>{f($e,i.filterSelection[e].filters.Dropdown[n].options[o].selected="none",i)}))})),f($e,i.filterSelection[e]=i?.filterSelection?.[e],i),f(Ce,c[t]=[],c),P(t)}}function J(e){let t=e.target,o=t.classList,i=t.closest(".sortFilter"),l=t.closest(".options-wrap");!o.contains("sortFilter")&&!i||v?l&&!o.contains("closing-x")||o.contains("options-wrap")||(b instanceof Element&&b.closest(".sortFilter")&&(bt(b,"highlight"),b=null),n(4,v=!1)):n(4,v=!0)}function Q(e){if(s)return oe();let{sortName:t,sortType:o}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],l=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));if(t===e){let e="desc"===o?"asc":"desc";f($e,i.sortFilter[l].sortType=e,i)}else if(t!==e){f($e,i.sortFilter[l].sortType="none",i);let t=i?.sortFilter?.findIndex((({sortName:t})=>t===e));f($e,i.sortFilter[t].sortType="desc",i)}P("sort"),b instanceof Element&&b.closest(".sortFilter")&&(bt(b,"highlight"),b=null),n(4,v=!1)}function Z(){if(s)return oe();let{sortType:e}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],t=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));f($e,i.sortFilter[t].sortType="desc"===e?"asc":"desc",i),P("sort")}function ee(e){let t=e.which||e.keyCode||0;if(38==t||40==t){var o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filterType")||o?.closest?.(".sortFilter")||o?.closest?.(".filter-select"))if(e.preventDefault(),b instanceof Element&&b?.closest?.(".options")?.children?.length){let e,n,o,i,l=b.closest(".options"),r=Array.from(l.querySelectorAll(".option")),s=r.indexOf(b);for(let l=0;l<r.length;l++)if(!r[l].classList.contains("disable-interaction"))if(38===t){if(i=r[l],l<s)n=r[l];else if(n){e=n;break}}else if(o||(o=r[l]),l>s){e=r[l];break}let c=!1;e instanceof Element||(o instanceof Element?(e=o,c=!0):i instanceof Element&&(e=i,c=!0)),e instanceof Element&&(bt(b,"highlight"),b=e,vt(b,"highlight"),b.scrollIntoView({behavior:c?"auto":"smooth",container:l,block:"nearest",inline:"nearest"}))}else{let e=o.querySelectorAll(".option:not(.disable-interaction)");b=e[0],b instanceof Element&&(vt(b,"highlight"),b.scrollIntoView({behavior:"smooth",container:parent,block:"nearest",inline:"nearest"}))}}else if(13===t){if(b instanceof Element){let e=new KeyboardEvent("keydown",{key:"Enter"});b.dispatchEvent(e)}}else{o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filter-select")&&9!==t||o instanceof Element&&"fixed"===getComputedStyle(o).position)return;let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));n(3,w=null),n(4,v=null),i?.filterSelection?.length>0&&(i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),f($e,i.filterSelection[e]=i?.filterSelection?.[e],i)),g=null,b instanceof Element&&(bt(b,"highlight"),b=null)}}async function te(){r?.length>18&&await ne(),n(5,C=!C),D()}function ne(){return new Promise((e=>{l instanceof Worker&&(f(Le,r=null,r),l.postMessage({reload:!0})),A={resolve:e}}))}function oe(){o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}ot.subscribe((e=>{"boolean"==typeof e&&A?.resolve?.()})),window.checkOpenDropdown=()=>(g||w||v)&&window.innerWidth<=425,window.closeDropdown=()=>{b instanceof Element&&(bt(b,"highlight"),b=null),n(3,w=!1),n(4,v=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),f($e,i.filterSelection[e]=i?.filterSelection?.[e],i),g=null},V((()=>{n(2,y=.3*window.innerHeight);let e=document.getElementById("filters");e.addEventListener("scroll",U),((e,t="xy")=>{var n,o,i,l,r;let s=s=>{i&&"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(e.scrollTop=n-s.pageY+r),t.toLowerCase().includes("x")&&(e.scrollLeft=o-s.pageX+l))},c=s=>{"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(n=s.pageY,r=e.scrollTop),t.toLowerCase().includes("x")&&(o=s.pageX,l=e.scrollLeft),i=!0)},a=e=>{"mouse"===e.pointerType&&(i=!1)};e.addEventListener("pointermove",s),e.addEventListener("pointerdown",c),window.addEventListener("pointerup",a),window.addEventListener("pointercancel",a)})(e,"x"),document.addEventListener("keydown",ee),window.addEventListener("resize",M),window.addEventListener("click",R)}));return e.$$set=e=>{"$$scope"in e&&n(28,T=e.$$scope)},[I,$,y,w,v,C,i,s,c,d,m,h,q,j,O,_,B,H,W,Y,K,G,X,J,Q,Z,te,oe,T,N,(e,{optionName:t})=>ei(t,e.optKeyword)||""===e.optKeyword,function(){h=this.value,Ke.set(h)},e=>"Enter"===e.key&&O(e),e=>"Enter"===e.key&&O(e),(e,t)=>"Enter"===t.key&&j(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,$e.set(i)},(e,t)=>"Enter"===t.key&&B(e),(e,t)=>("Enter"===t.key||"ArrowDown"===t.key||"ArrowUp"===t.key)&&_(t,e),(e,t)=>_(t,e),(e,t)=>"Enter"===t.key&&B(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,$e.set(i)},(e,t,n,o,i,l)=>"Enter"===l.key&&H(e.optionName,t.filName,n,o,t.changeType,i.filterSelectionName),e=>{e.target.checked=!1,oe()},(e,t,n,o)=>W(o,e.filName,t,n.filterSelectionName),function(e,t){e[t].isSelected=this.checked},(e,t,n,o)=>W(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>"Enter"===o.key&&W(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>Y(o,o.target.value,e,t.filName,t.maxValue,t.minValue,n.filterSelectionName),e=>"Enter"===e.key&&X(),(e,t,n,o,i,l)=>G(0,e,t,n,o,i),(e,t,n,o,i,l)=>"Enter"===l.key&&G(0,e,t,n,o,i),(e,t,n,o,i,l,r,s)=>K(0,e,t,n,o,0,l,r),(e,t,n,o,i,l,r,s)=>"Enter"===s.key&&K(0,e,t,n,o,0,l,r),e=>"Enter"===e.key&&te(),e=>"Enter"===e.key&&Z(),e=>"Enter"===e.key&&J(e),e=>"Enter"===e.key&&J(e),(e,t)=>"Enter"===t.key&&Q(e)]}function ui(e){let t,n,o,l,r,s,c,a,u,d,f,p,m,h,y,w,g,v=!e[1]&&di(e);return{c(){t=N("div"),n=N("div"),o=N("div"),l=N("h2"),r=T(e[2]),s=I(),c=N("h2"),a=T(e[3]),u=I(),d=N("div"),v&&v.c(),f=I(),p=N("button"),m=T(e[4]),L(l,"class","confirm-title svelte-1p9o0a3"),L(c,"class","confirm-text svelte-1p9o0a3"),L(o,"class","confirm-info-container svelte-1p9o0a3"),L(p,"class","button svelte-1p9o0a3"),L(d,"class","confirm-button-container svelte-1p9o0a3"),L(n,"class","confirm-container svelte-1p9o0a3"),L(t,"class","confirm svelte-1p9o0a3")},m(i,h){x(i,t,h),b(t,n),b(n,o),b(o,l),b(l,r),b(o,s),b(o,c),b(c,a),b(n,u),b(n,d),v&&v.m(d,null),b(d,f),b(d,p),b(p,m),e[11](p),y=!0,w||(g=[C(p,"click",e[7]),C(p,"keydown",e[12]),C(t,"click",e[9]),C(t,"keydown",e[13])],w=!0)},p(e,t){(!y||4&t)&&F(r,e[2]),(!y||8&t)&&F(a,e[3]),e[1]?v&&(v.d(1),v=null):v?v.p(e,t):(v=di(e),v.c(),v.m(d,f)),(!y||16&t)&&F(m,e[4])},i(e){y||(Q((()=>{y&&(h||(h=pe(n,Xn,{y:20,duration:300},!0)),h.run(1))})),y=!0)},o(e){h||(h=pe(n,Xn,{y:20,duration:300},!1)),h.run(0),y=!1},d(n){n&&E(t),v&&v.d(),e[11](null),n&&h&&h.end(),w=!1,i(g)}}}function di(e){let t,n,o,l;return{c(){t=N("button"),n=T(e[5]),L(t,"class","button svelte-1p9o0a3")},m(i,r){x(i,t,r),b(t,n),o||(l=[C(t,"click",e[8]),C(t,"keydown",e[10])],o=!0)},p(e,t){32&t&&F(n,e[5])},d(e){e&&E(t),o=!1,i(l)}}}function fi(e){let t,n,o=e[0]&&ui(e);return{c(){o&&o.c(),t=$()},m(e,i){o&&o.m(e,i),x(e,t,i),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&ue(o,1)):(o=ui(e),o.c(),ue(o,1),o.m(t.parentNode,t)):o&&(ce(),de(o,1,1,(()=>{o=null})),ae())},i(e){n||(ue(o),n=!0)},o(e){de(o),n=!1},d(e){o&&o.d(e),e&&E(t)}}}function pi(e,t,n){const o=function(){const e=R();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const l=D(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}();let i,l,{showConfirm:r=!1}=t,{isAlert:s=!1}=t,{confirmTitle:c="Confirmation"}=t,{confirmText:a="Do you want to continue?"}=t,{confirmLabel:u="OK"}=t,{cancelLabel:d="CANCEL"}=t,f=!1;function p(e){f&&"keydown"!==e.type||(n(0,r=!1),o("confirmed"))}function m(e){f&&"keydown"!==e.type||(n(0,r=!1),o("cancelled"))}function h(e){if(f&&"keydown"!==e.type)return;let t=e.target,n=t.classList;t.closest(".confirm-container")||n.contains("confirm-container")||m(e)}var y;y=()=>{r?(f=!0,l=setTimeout((()=>{f=!1}),500),i?.focus?.()):(l&&clearTimeout(l),f=!1)},R().$$.after_update.push(y);return e.$$set=e=>{"showConfirm"in e&&n(0,r=e.showConfirm),"isAlert"in e&&n(1,s=e.isAlert),"confirmTitle"in e&&n(2,c=e.confirmTitle),"confirmText"in e&&n(3,a=e.confirmText),"confirmLabel"in e&&n(4,u=e.confirmLabel),"cancelLabel"in e&&n(5,d=e.cancelLabel)},[r,s,c,a,u,d,i,p,m,h,e=>"Enter"===e.key&&m(e),function(e){W[e?"unshift":"push"]((()=>{i=e,n(6,i)}))},e=>"Enter"===e.key&&p(e),e=>"Enter"===e.key&&h(e)]}var mi={Fixed:{Navigator:class extends Se{constructor(e){super(),be(this,e,eo,Zn,r,{})}},Menu:class extends Se{constructor(e){super(),be(this,e,ro,io,r,{},null,[-1,-1])}}},Anime:{AnimeGrid:class extends Se{constructor(e){super(),be(this,e,Dt,qt,r,{},null,[-1,-1])}},Fixed:{AnimePopup:class extends Se{constructor(e){super(),be(this,e,Yn,Hn,r,{},null,[-1,-1,-1])}},AnimeOptionsPopup:class extends Se{constructor(e){super(),be(this,e,Qn,zn,r,{})}}}},Others:{Search:class extends Se{constructor(e){super(),be(this,e,ai,Zo,r,{},null,[-1,-1,-1,-1])}},Confirm:class extends Se{constructor(e){super(),be(this,e,pi,fi,r,{showConfirm:0,isAlert:1,confirmTitle:2,confirmText:3,confirmLabel:4,cancelLabel:5})}}}},hi="@vercel/analytics",yi="1.0.1",wi=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function gi(e="auto"){window.vam="auto"!==e?e:function(){try{const e=process.env.NODE_ENV;if("development"===e||"test"===e)return"development"}catch(e){}return"production"}()}function vi(){return"development"===(window.vam||"production")}function bi(e={debug:!0}){var t;if("undefined"==typeof window)return;gi(e.mode),wi(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=vi()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${n}"]`))return;const o=document.createElement("script");o.src=n,o.defer=!0,o.setAttribute("data-sdkn",hi),o.setAttribute("data-sdkv",yi),vi()&&!1===e.debug&&o.setAttribute("data-debug","false"),document.head.appendChild(o)}function Si(e){let t,n;return t=new mi.Anime.AnimeGrid({}),{c(){we(t.$$.fragment)},m(e,o){ge(t,e,o),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function ki(e){let t,n,o,i,l,r,s,c,a,u,d,f,p,m;return n=new mi.Fixed.Navigator({}),i=new mi.Fixed.Menu({}),s=new mi.Others.Search({props:{$$slots:{default:[Si]},$$scope:{ctx:e}}}),a=new mi.Anime.Fixed.AnimePopup({}),d=new mi.Anime.Fixed.AnimeOptionsPopup({}),p=new mi.Others.Confirm({props:{showConfirm:e[0],isAlert:e[1],confirmTitle:e[2],confirmText:e[3],confirmLabel:e[4],cancelLabel:e[5]}}),p.$on("confirmed",e[6]),p.$on("cancelled",e[7]),{c(){t=N("main"),we(n.$$.fragment),o=I(),we(i.$$.fragment),l=I(),r=N("div"),we(s.$$.fragment),c=I(),we(a.$$.fragment),u=I(),we(d.$$.fragment),f=I(),we(p.$$.fragment),L(r,"class","home svelte-1s79t76"),L(t,"class","svelte-1s79t76")},m(e,h){x(e,t,h),ge(n,t,null),b(t,o),ge(i,t,null),b(t,l),b(t,r),ge(s,r,null),b(r,c),ge(a,r,null),b(t,u),ge(d,t,null),b(t,f),ge(p,t,null),m=!0},p(e,t){const n={};4096&t[1]&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const o={};1&t[0]&&(o.showConfirm=e[0]),2&t[0]&&(o.isAlert=e[1]),4&t[0]&&(o.confirmTitle=e[2]),8&t[0]&&(o.confirmText=e[3]),16&t[0]&&(o.confirmLabel=e[4]),32&t[0]&&(o.cancelLabel=e[5]),p.$set(o)},i(e){m||(ue(n.$$.fragment,e),ue(i.$$.fragment,e),ue(s.$$.fragment,e),ue(a.$$.fragment,e),ue(d.$$.fragment,e),ue(p.$$.fragment,e),m=!0)},o(e){de(n.$$.fragment,e),de(i.$$.fragment,e),de(s.$$.fragment,e),de(a.$$.fragment,e),de(d.$$.fragment,e),de(p.$$.fragment,e),m=!1},d(e){e&&E(t),ve(n),ve(i),ve(s),ve(a),ve(d),ve(p)}}}function xi(e,t,n){let o,i,l,r,s,c,u,d,p,m,h,y,w,g,v,b,S,k,x,E,A,N,T,I,$,C;a(e,Ee,(e=>n(13,o=e))),a(e,Ae,(e=>n(14,i=e))),a(e,Ge,(e=>n(15,l=e))),a(e,tt,(e=>n(16,r=e))),a(e,et,(e=>n(17,s=e))),a(e,Je,(e=>n(18,c=e))),a(e,Qe,(e=>n(19,u=e))),a(e,Xe,(e=>n(20,d=e))),a(e,Ve,(e=>n(21,p=e))),a(e,nt,(e=>n(22,m=e))),a(e,_e,(e=>n(23,h=e))),a(e,Ue,(e=>n(24,y=e))),a(e,Oe,(e=>n(25,w=e))),a(e,qe,(e=>n(26,g=e))),a(e,De,(e=>n(27,v=e))),a(e,Pe,(e=>n(28,b=e))),a(e,Me,(e=>n(29,S=e))),a(e,Le,(e=>n(30,k=e))),a(e,Ke,(e=>n(31,x=e))),a(e,Fe,(e=>n(32,E=e))),a(e,Te,(e=>n(33,A=e))),a(e,Ie,(e=>n(34,N=e))),a(e,Re,(e=>n(35,T=e))),a(e,$e,(e=>n(36,I=e))),a(e,Ce,(e=>n(37,$=e))),a(e,je,(e=>n(38,C=e))),f(Ae,i=wt(),i),(async()=>{f(je,C=await pn("exportPathIsAvailable"),C)})(),bi(),window.onload=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-PPMY92TJCE")};const L=new Function;window.onYouTubeIframeAPIReady=L;let F=[];f(qe,g="Getting Existing Data",g);let q=setInterval((()=>{g||f(qe,g="Please Wait...",g)}),300);F.push(new Promise((async(e,t)=>{let n=await pn("animeEntriesLength"),o=await pn("lastAnimeUpdate");var i;n<1||!(o instanceof Date)?(f(Le,k=null,k),new Promise(((e,t)=>{ln=setInterval((()=>{qe.set("Getting Anime Entries")}),300),jt("./webapi/worker/getAnimeEntries.js").then((n=>{ln&&(clearInterval(ln),ln=null);let o=new Worker(n);on&&clearTimeout(on),o.postMessage(i),o.onmessage=({data:t})=>{void 0!==t?.status?(_t=!0,qe.set(t.status)):(_t=!1,rt.update((e=>!e)),on=setTimeout((()=>{o.terminate()}),Ut),e(t))},o.onerror=e=>{dn(),t(e)}})).catch((e=>{ln&&(clearInterval(ln),ln=null),qe.set(null),t(e)}))})).then((()=>{Kt({onlyGetNewEntries:!0}),e()})).catch((async()=>{t()}))):(Kt({onlyGetNewEntries:!0}),e())}))),F.push(new Promise((async e=>{let t=await pn("username");t&&(f(Te,A=t,A),Jt({username:A})),e()}))),F.push(new Promise((async e=>{var t;await pn("animeFranchisesLength")<1?new Promise(((e,n)=>{sn=setInterval((()=>{ln||qe.set("Getting Anime Franchise")}),300),jt("./webapi/worker/getAnimeFranchises.js").then((o=>{sn&&(clearInterval(sn),sn=null);let i=new Worker(o);rn&&clearTimeout(rn),i.postMessage(t),i.onmessage=({data:t})=>{void 0!==t?.status?(_t=!0,qe.set(t.status)):(rt.update((e=>!e)),_t=!1,rn=setTimeout((()=>{i.terminate()}),Ut),e(t))},i.onerror=e=>{dn(),n(e)}})).catch((e=>{sn&&(clearInterval(sn),sn=null),qe.set(null),n(e)}))})).then((()=>{e()})).catch((()=>{reject()})):e()}))),F.push(new Promise((async e=>{un().then((t=>{f(Ce,$=t.activeTagFilters,$),f($e,I=t.filterOptions,I),e()})).catch((()=>{reject()}))}))),F.push(new Promise((async e=>{let t=await pn("autoPlay");"boolean"==typeof t&&f(Re,T=t,T),f(Ie,N=await pn("hiddenEntries")||{},N),f(Me,S=await pn("lastRunnedAutoUpdateDate"),S),f(_e,h=await pn("lastRunnedAutoExportDate"),h),e()}))),Promise.all(F).then((async()=>{let e=await pn("recommendedAnimeListLength"),t=await pn("shouldProcessRecommendation");new Promise((async n=>{e<1||t?Ht().then((async()=>{await fn(!1,"shouldProcessRecommendation"),n()})).catch((e=>{throw e})):n()})).then((()=>{Bt().then((async e=>{f(Fe,E=e.animeLoaderWorker,E),f(Ke,x="",x),e?.isNew&&(f(Le,k=e.finalAnimeList,k),f(Ve,p=!1,p),f(Pe,b=await pn("autoUpdate")??!1,b),f(Oe,w=await pn("autoExport")??!1,w)),f(qe,g=null,g)})).catch((e=>{throw e}))}))})).catch((async e=>{f(Ve,p=!1,p),f(Pe,b=await pn("autoUpdate")??!1,b),f(Oe,w=await pn("autoExport")??!1,w),f(qe,g="Something went wrong...",g),console.error(e)})),window.focusInUsernameInput=()=>{let e=document.getElementById("usernameInput");e?.setCustomValidity?.("Enter your Anilist Username"),e?.reportValidity?.()},Ve.subscribe((async e=>{if(!1===e){if(!A)if(await z(),i)try{JSBridge.requireUsernameFocus()}catch(e){}else window.focusInUsernameInput?.();clearInterval(q)}})),Le.subscribe((async e=>{p&&e?.length>0&&!1!==p&&(f(Ve,p=!1,p),f(Pe,b=await pn("autoUpdate")??!1,b),f(Oe,w=await pn("autoExport")??!1,w))})),rt.subscribe((async e=>{"boolean"!=typeof e||p||(await fn(!0,"shouldProcessRecommendation"),Ht().then((async()=>{await fn(!1,"shouldProcessRecommendation"),st.update((e=>!e)),ct.update((e=>!e))})).catch((e=>{throw e})))})),ct.subscribe((async e=>{"boolean"!=typeof e||p||Bt().then((async e=>{f(Fe,E=e.animeLoaderWorker,E),f(Ke,x="",x),e?.isNew&&f(Le,k=e.finalAnimeList,k),f(qe,g=null,g)})).catch((e=>{throw e}))})),st.subscribe((async e=>{"boolean"!=typeof e||p||un()}));let P=36e5;Pe.subscribe((async e=>{if(!0===e){fn(!0,"autoUpdate");let e=!1;if((null===S||S instanceof Date&&!isNaN(S)&&(new Date).getTime()-S.getTime()>P)&&(e=!0),e)it.update((e=>!e)),v&&clearInterval(v),f(De,v=setInterval((()=>{b&&it.update((e=>!e))}),P),v);else{let e=P-((new Date).getTime()-S?.getTime())||0;setTimeout((()=>{!1!==b&&(it.update((e=>!e)),v&&clearInterval(v),f(De,v=setInterval((()=>{b&&it.update((e=>!e))}),P),v))}),e)}}else!1===e&&(v&&clearInterval(v),fn(!1,"autoUpdate"))}));let D=!1;it.subscribe((e=>{"boolean"==typeof e&&!p&&navigator.onLine&&(D=!0,Jt().then((()=>{D=!1,Kt()})).catch((e=>{D=!1,f(qe,g="Something went wrong...",g),console.error(e)})))})),Oe.subscribe((async e=>{if(!0===e){fn(!0,"autoExport");let e=!1;if((null===h||h instanceof Date&&!isNaN(h)&&(new Date).getTime()-h.getTime()>P)&&(e=!0),e)lt.update((e=>!e)),y&&clearInterval(y),f(Ue,y=setInterval((()=>{w&&lt.update((e=>!e))}),P),y);else{let e=P-((new Date).getTime()-h?.getTime())||0;setTimeout((()=>{!1!==w&&(lt.update((e=>!e)),y&&clearInterval(y),f(Ue,y=setInterval((()=>{w&&lt.update((e=>!e))}),P),y))}),e)}}else!1===e&&(y&&clearInterval(y),fn(!1,"autoExport"))})),lt.subscribe((e=>{"boolean"!=typeof e||p||Qt().then((()=>{f(_e,h=new Date,h),fn(h,"lastRunnedAutoExportDate")}))})),at.subscribe((e=>{"boolean"==typeof e&&(r||f(tt,r=!0,r),m&&clearTimeout(m),f(nt,m=setTimeout((()=>{f(tt,r=!1,r)}),1e3),m))})),document.addEventListener("visibilitychange",(()=>{p||"visible"!==document.visibilityState||D||Jt()}));let M,j,O=!1;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.checkEntries=()=>{p||D||Jt()},window.addEventListener("popstate",(()=>{window.backPressed()})),window.backPressed=()=>{if(s&&!i)window.history.go(-1);else{if(i||window.history.pushState("visited",""),O)return K(),void n(0,O=!1);if(M&&M===document?.activeElement&&window.innerWidth<=750)M?.focus?.(),M?.blur?.();else{if(d)return void f(Xe,d=!1,d);if(u)return void f(Qe,u=!1,u);if(c)return void f(Je,c=!1,c);if(window.checkOpenDropdown?.())return void window.closeDropdown?.();if(window.scrollY>200)return window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"}),void window.setShouldGoBack(!0);window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"}),window.setShouldGoBack(!0)}}},Qe.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),Xe.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),window.addEventListener("scroll",(()=>{0!==window.scrollY&&window.setShouldGoBack(!1),at.update((e=>!e))})),V((()=>{M=document.getElementById("usernameInput"),document.getElementById("popup-container").addEventListener("scroll",(()=>{at.update((e=>!e))}))})),window.setShouldGoBack=e=>{if(i)try{JSBridge.setShouldGoBack(e)}catch(e){}else"visited"!==window.history.state&&window.history.pushState("visited",""),f(et,s=e,s)},window.copyToClipBoard=e=>{if(i)try{JSBridge.copyToClipBoard(e)}catch(e){}else navigator?.clipboard?.writeText?.(e)};let U,_,B,R,H,W,Y=!1;function K(){W?.resolve?.(!1),W=n(1,U=n(2,_=n(3,B=n(4,R=n(5,H=void 0))))),n(0,O=!1)}if(document.addEventListener("pointerdown",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(Y=!0,j&&clearTimeout(j),j=setTimeout((()=>{let e=t.getAttribute("copy-value");e&&!r&&Y&&(t.style.pointerEvents="none",setTimeout((()=>{t.style.pointerEvents=""}),500),window.copyToClipBoard(e))}),500))})),document.addEventListener("pointerup",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(Y=!1,j&&clearTimeout(j))})),document.addEventListener("pointercancel",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(Y=!1,j&&clearTimeout(j))})),f(Ge,l=window.confirmPromise=async e=>new Promise((t=>{n(1,U=e?.isAlert||!1),n(2,_=e?.title||(U?"Heads Up":"Confirmation")),n(3,B=("string"==typeof e?e:e?.text)||"Are you sure you want to continue"),n(4,R=e?.confirmLabel||"OK"),n(5,H=e?.cancelLabel||"CANCEL"),n(0,O=!0),W={resolve:t}})),l),window.updateAppAlert=async()=>{if(await(l?.({title:"New updates are available",text:"You may want to download the new version.",confirmLabel:"DOWNLOAD"})))try{JSBridge.downloadUpdate()}catch(e){window.open("https://github.com/u-Kuro/Kanshi.Anime-Recommendation/raw/main/Kanshi.apk","_blank")}},window.appIsUpToDate=()=>{l?.({isAlert:!0,text:"There are currently no updates available."})},i&&navigator.onLine)try{JSBridge.checkAppID(o,!1)}catch(e){window.updateAppAlert?.()}return[O,U,_,B,R,H,function(){W?.resolve?.(!0),W=n(1,U=n(2,_=n(3,B=n(4,R=n(5,H=void 0))))),n(0,O=!1)},K]}var Ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};window.FontAwesomeKitConfig={asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrl:"https://ka-f.fontawesome.com",baseUrlKit:"https://kit.fontawesome.com",detectConflictsUntil:null,iconUploads:{},id:76794169,license:"free",method:"css",minify:{enabled:!0},token:"5a5fa257cb",v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},v5FontFaceShim:{enabled:!0},version:"6.2.0"},function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)),o}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){var n,i;n=e,i=o[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){var n=t&&t.addOn||"",o=(n=t&&t.baseFilename||e.license+n,t&&t.minify?".min":""),i=t&&t.fileSuffix||e.method;return t=t&&t.subdir||e.method,e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/"+t+"/"+n+o+"."+i}function l(e,t){t="."+Array.prototype.join.call(t||["fa"],",."),t=e.querySelectorAll(t),Array.prototype.forEach.call(t,(function(t){var n=t.getAttribute("title"),o=(t.setAttribute("aria-hidden","true"),!t.nextElementSibling||!t.nextElementSibling.classList.contains("sr-only"));n&&o&&((o=e.createElement("span")).innerHTML=n,o.classList.add("sr-only"),t.parentNode.insertBefore(o,t.nextSibling))}))}function r(){}var s,c=void 0!==Ei&&void 0!==Ei.process&&"function"==typeof Ei.process.emit,a="undefined"==typeof setImmediate?setTimeout:setImmediate,u=[];function d(){for(var e=0;e<u.length;e++)u[e][0](u[e][1]);s=!(u=[])}function f(e,t){u.push([e,t]),s||(s=!0,a(d,0))}function p(e){var t=(n=e.owner)._state,n=n._data,o=e[t],i=e.then;if("function"==typeof o){t="fulfilled";try{n=o(n)}catch(e){w(i,e)}}m(i,n)||("fulfilled"===t&&h(i,n),"rejected"===t&&w(i,n))}function m(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===e(n))){var i=n.then;if("function"==typeof i)return i.call(n,(function(e){o||(o=!0,(n===e?y:h)(t,e))}),(function(e){o||(o=!0,w(t,e))})),1}}catch(i){return o||w(t,i),1}}function h(e,t){e!==t&&m(e,t)||y(e,t)}function y(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(v,e))}function w(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(b,e))}function g(e){e._then=e._then.forEach(p)}function v(e){e._state="fulfilled",g(e)}function b(e){e._state="rejected",g(e),!e._handled&&c&&Ei.process.emit("unhandledRejection",e._data,e)}function S(e){Ei.process.emit("rejectionHandled",e)}function k(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof k==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[];var t=e,n=this;function o(e){w(n,e)}try{t((function(e){h(n,e)}),o)}catch(t){o(t)}}k.prototype={constructor:k,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(r),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&c&&f(S,this)),"fulfilled"===this._state||"rejected"===this._state?f(p,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},k.all=function(e){if(Array.isArray(e))return new k((function(t,n){for(var o,i=[],l=0,r=0;r<e.length;r++)(o=e[r])&&"function"==typeof o.then?o.then(function(e){return l++,function(n){i[e]=n,--l||t(i)}}(r),n):i[r]=o;l||t(i)}));throw new TypeError("You must pass an array to Promise.all().")},k.race=function(e){if(Array.isArray(e))return new k((function(t,n){for(var o,i=0;i<e.length;i++)(o=e[i])&&"function"==typeof o.then?o.then(t,n):t(o)}));throw new TypeError("You must pass an array to Promise.race().")},k.resolve=function(t){return t&&"object"===e(t)&&t.constructor===k?t:new k((function(e){e(t)}))},k.reject=function(e){return new k((function(t,n){n(e)}))};var x,E,A,N,T="function"==typeof Promise?Promise:k;function I(e,t){var n=t.fetch,o=t.XMLHttpRequest,i=(t=t.token,e);return"URLSearchParams"in window?(i=new URL(e)).searchParams.set("token",t):i=i+"?token="+encodeURIComponent(t),i=i.toString(),new T((function(e,t){var l;"function"==typeof n?n(i,{mode:"cors",cache:"default"}).then((function(e){if(e.ok)return e.text();throw new Error("")})).then((function(t){e(t)})).catch(t):"function"==typeof o?((l=new o).addEventListener("loadend",(function(){this.responseText?e(this.responseText):t(new Error(""))})),["abort","error","timeout"].map((function(e){l.addEventListener(e,(function(){t(new Error(""))}))})),l.open("GET",i),l.send()):t(new Error(""))}))}function $(e,t,n){var i=e;return[[/(url\("?)\.\.\/\.\.\/\.\./g,function(e,n){return"".concat(n).concat(t)}],[/(url\("?)\.\.\/webfonts/g,function(e,o){return"".concat(o).concat(t,"/releases/v").concat(n,"/webfonts")}],[/(url\("?)https:\/\/kit-free([^.])*\.fontawesome\.com/g,function(e,n){return"".concat(n).concat(t)}]].forEach((function(e){t=2,e=function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,i=!1,l=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}return n}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t=e[0];e=e[1],i=i.replace(t,e)})),i}function C(e,t,o){o=2<arguments.length&&void 0!==o?o:function(){};var r=t.document||r,s=(r=l.bind(l,r,["fa","fab","fas","far","fal","fad","fak"]),0<Object.keys(e.iconUploads||{}).length);return e.autoA11y.enabled&&o(r),o=[{id:"fa-main",addOn:void 0}],e.v4shim&&e.v4shim.enabled&&o.push({id:"fa-v4-shims",addOn:"-v4-shims"}),e.v5FontFaceShim&&e.v5FontFaceShim.enabled&&o.push({id:"fa-v5-font-face",addOn:"-v5-font-face"}),e.v4FontFaceShim&&e.v4FontFaceShim.enabled&&o.push({id:"fa-v4-font-face",addOn:"-v4-font-face"}),s&&o.push({id:"fa-kit-upload",customCss:!0}),r=o.map((function(o){return new T((function(l,r){I(o.customCss?e.baseUrlKit+"/"+e.token+"/"+e.id+"/kit-upload.css":i(e,{addOn:o.addOn,minify:e.minify.enabled}),t).then((function(i){var r,s,c;l((r=n(n({},t),{},{baseUrl:e.baseUrl,version:e.version,id:o.id,contentFilter:function(e,t){return $(e,t.baseUrl,t.version)}}),s=r.contentFilter||function(e,t){return e},c=document.createElement("style"),s=document.createTextNode(s(i,r)),c.appendChild(s),c.media="all",r.id&&c.setAttribute("id",r.id),r&&r.detectingConflicts&&r.detectionIgnoreAttr&&c.setAttributeNode(document.createAttribute(r.detectionIgnoreAttr)),c))})).catch(r)}))})),T.all(r)}function L(e,t){t.autoA11y=e.autoA11y.enabled,"pro"===e.license&&(t.autoFetchSvg=!0,t.fetchSvgFrom=e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/svgs",t.fetchUploadedSvgFrom=e.uploadsUrl);var o=[];return e.v4shim.enabled&&o.push(new T((function(o,l){I(i(e,{addOn:"-v4-shims",minify:e.minify.enabled}),t).then((function(e){o(F(e,n(n({},t),{},{id:"fa-v4-shims"})))})).catch(l)}))),o.push(new T((function(o,l){I(i(e,{minify:e.minify.enabled}),t).then((function(e){var i,l,r;e=F(e,n(n({},t),{},{id:"fa-main"})),o((l=(i=t)&&void 0!==i.autoFetchSvg?i.autoFetchSvg:void 0,void 0!==(r=i&&void 0!==i.autoA11y?i.autoA11y:void 0)&&e.setAttribute("data-auto-a11y",r?"true":"false"),l&&(e.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),e.setAttribute("data-fetch-svg-from",i.fetchSvgFrom),e.setAttribute("data-fetch-uploaded-svg-from",i.fetchUploadedSvgFrom)),e))})).catch(l)}))),T.all(o)}function F(e,t){var n=document.createElement("SCRIPT");return e=document.createTextNode(e),n.appendChild(e),n.referrerPolicy="strict-origin",t.id&&n.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),n}function q(e){var t,n=[],o=document,i=(o.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);i||o.addEventListener("DOMContentLoaded",t=function(){for(o.removeEventListener("DOMContentLoaded",t),i=1;t=n.shift();)t()}),i?setTimeout(e,0):n.push(e)}try{window.FontAwesomeKitConfig&&(x=window.FontAwesomeKitConfig,E={detectingConflicts:x.detectConflictsUntil&&new Date<=new Date(x.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",fetch:window.fetch,token:x.token,XMLHttpRequest:window.XMLHttpRequest,document:document},A=document.currentScript,N=A?A.parentElement:document.head,function(e,t){return t=1<arguments.length&&void 0!==t?t:{},"js"===(e=0<arguments.length&&void 0!==e?e:{}).method?L(e,t):"css"===e.method?C(e,t,(function(e){q(e),"undefined"!=typeof MutationObserver&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})})):void 0}(x,E).then((function(e){e.map((function(e){try{N.insertBefore(e,A?A.nextSibling:null)}catch(t){N.appendChild(e)}})),E.detectingConflicts&&A&&q((function(){A.setAttributeNode(document.createAttribute(E.detectionIgnoreAttr)),e=x,n=E,t=document.createElement("script"),n.detectionIgnoreAttr&&t.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),t.src=i(e,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:e.minify.enabled});var e,t,n=t;document.body.appendChild(n)}))})).catch((function(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))})))}catch(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))}}();return new class extends Se{constructor(e){super(),be(this,e,xi,ki,r,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
